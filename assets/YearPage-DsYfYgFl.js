import{v as P,r as j,u as w,j as e,B as d,b as T,d as E}from"./index-jOmqNek7.js";import{c as Y,S as z,K as C,P as D,V as F,b as R}from"./swiper-react-CstruTyQ.js";import{R as B,H as _,F as $}from"./RouterLink-DDcDYCzf.js";import{b as k,E as I,c as L,D as A,S as H,Y as m}from"./ChessDataService-ausuiIYk.js";import{u as S}from"./useNavigationService-BJtaDnOx.js";import{u as K,T as O,a as U,b as V,c as b,d as n,e as q,f as G}from"./TableRow-BOVOEEKp.js";const Q=({id:l})=>{var p,u;const c=P(),h=K(c.breakpoints.down("sm")),{getFederationUrl:o}=S(),[i,a]=j.useState(0),t=10,{t:s}=w(),{data:x,isLoading:f,error:g}=k({queryKey:["years",{id:l}],queryFn:async()=>await L.getYear(l)}),v=(r,y)=>{a(y)};return e.jsxs(d,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[f&&e.jsx(T,{}),g&&e.jsx(I,{message:g.message}),!f&&!g&&x&&e.jsxs(O,{component:Y,children:[e.jsxs(U,{size:h?"small":"medium",children:[e.jsx(V,{children:e.jsxs(b,{children:[e.jsx(n,{}),e.jsx(n,{align:"center",children:s("gold")}),e.jsx(n,{align:"center",children:s("silver")}),e.jsx(n,{align:"center",children:s("bronze")}),e.jsx(n,{align:"center",children:s("total")})]})}),e.jsx(q,{children:(p=x.results)==null?void 0:p.slice(i*t,(i+1)*t).map(r=>e.jsxs(b,{children:[e.jsx(n,{children:r.fed&&e.jsx(B,{to:o(r.fed),children:s(`federation_enum_short.${r.fed}`)})}),e.jsx(n,{align:"center",children:r.gold||0}),e.jsx(n,{align:"center",children:r.silver||0}),e.jsx(n,{align:"center",children:r.bronze||0}),e.jsx(n,{align:"center",children:(r.gold||0)+(r.silver||0)+(r.bronze||0)})]},r.fed))})]}),e.jsx(G,{rowsPerPageOptions:[],component:"div",count:((u=x.results)==null?void 0:u.length)||0,rowsPerPage:t,page:i,onPageChange:v})]})]})},ee=()=>{const[l]=E(),{getYearUrl:c,navigateToYear:h}=S(),{t:o}=w(),i=parseInt(l.get("id")||"")||A,[a,t]=j.useState(i);return j.useEffect(()=>{i!=a&&h(a,!0)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(H,{title:`${a} - ${o("medals_table")}`,description:o("year_description",{year:a}),url:c(a,!1)}),e.jsxs(d,{display:"flex",flexDirection:"column",height:"100vh",padding:2,gap:1,boxSizing:"border-box",overflow:"hidden",children:[e.jsx(_,{title:`${a} ${o("medals_table")}`}),e.jsx(d,{display:"flex",flexGrow:1,overflow:"hidden",height:"100%",children:e.jsx(z,{direction:"horizontal",initialSlide:m.indexOf(a),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:s=>{t(m[s.realIndex])},virtual:{enabled:!0},modules:[C,D,F],children:m.map(s=>e.jsx(R,{"aria-hidden":a!==s,children:e.jsx(d,{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%",children:e.jsx(Q,{id:s})})},s))})}),e.jsx($,{})]})]})};export{ee as default};
