import{r as O,a as ve,u as Ge,e as ze}from"./react-DFrIomIR.js";function ie(e,t={},r){for(const n in e){const o=e[n],c=r?`${r}:${n}`:n;typeof o=="object"&&o!==null?ie(o,t,c):typeof o=="function"&&(t[c]=o)}return t}const Fe={run:e=>e()},We=()=>Fe,Ee=typeof console.createTask<"u"?console.createTask:We;function Ve(e,t){const r=t.shift(),n=Ee(r);return e.reduce((o,c)=>o.then(()=>n.run(()=>c(...t))),Promise.resolve())}function $e(e,t){const r=t.shift(),n=Ee(r);return Promise.all(e.map(o=>n.run(()=>o(...t))))}function ee(e,t){for(const r of[...e])r(t)}class Ke{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,r,n={}){if(!t||typeof r!="function")return()=>{};const o=t;let c;for(;this._deprecatedHooks[t];)c=this._deprecatedHooks[t],t=c.to;if(c&&!n.allowDeprecated){let l=c.message;l||(l=`${o} hook has been deprecated`+(c.to?`, please use ${c.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(l)||(console.warn(l),this._deprecatedMessages.add(l))}if(!r.name)try{Object.defineProperty(r,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(r),()=>{r&&(this.removeHook(t,r),r=void 0)}}hookOnce(t,r){let n,o=(...c)=>(typeof n=="function"&&n(),n=void 0,o=void 0,r(...c));return n=this.hook(t,o),n}removeHook(t,r){if(this._hooks[t]){const n=this._hooks[t].indexOf(r);n!==-1&&this._hooks[t].splice(n,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,r){this._deprecatedHooks[t]=typeof r=="string"?{to:r}:r;const n=this._hooks[t]||[];delete this._hooks[t];for(const o of n)this.hook(t,o)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const r in t)this.deprecateHook(r,t[r])}addHooks(t){const r=ie(t),n=Object.keys(r).map(o=>this.hook(o,r[o]));return()=>{for(const o of n.splice(0,n.length))o()}}removeHooks(t){const r=ie(t);for(const n in r)this.removeHook(n,r[n])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...r){return r.unshift(t),this.callHookWith(Ve,t,...r)}callHookParallel(t,...r){return r.unshift(t),this.callHookWith($e,t,...r)}callHookWith(t,r,...n){const o=this._before||this._after?{name:r,args:n,context:{}}:void 0;this._before&&ee(this._before,o);const c=t(r in this._hooks?[...this._hooks[r]]:[],n);return c instanceof Promise?c.finally(()=>{this._after&&o&&ee(this._after,o)}):(this._after&&o&&ee(this._after,o),c)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const r=this._before.indexOf(t);r!==-1&&this._before.splice(r,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const r=this._after.indexOf(t);r!==-1&&this._after.splice(r,1)}}}}function Be(){return new Ke}const Je=new Set(["link","style","script","noscript"]),je=new Set(["title","titleTemplate","script","style","noscript"]),ae=new Set(["base","meta","link","style","script","noscript"]),Re=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Ze=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Xe=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),Ye=new Set(["templateParams","htmlAttrs","bodyAttrs"]),et=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),tt=["name","property","http-equiv"],rt=new Set(["viewport","description","keywords","robots"]);function He(e){const t=e.split(":");return t.length?et.has(t[1]):!1}function ue(e){const{props:t,tag:r}=e;if(Ze.has(r))return r;if(r==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const n of tt)if(t[n]!==void 0){const o=t[n],c=o.includes(":"),l=rt.has(o),h=!(c||l)&&e.key?`:key:${e.key}`:"";return`${r}:${o}${h}`}}if(e.key)return`${r}:key:${e.key}`;if(t.id)return`${r}:id:${t.id}`;if(je.has(r)){const n=e.textContent||e.innerHTML;if(n)return`${r}:content:${n}`}}function we(e){const t=e._h||e._d;if(t)return t;const r=e.textContent||e.innerHTML;return r||`${e.tag}:${Object.entries(e.props).map(([n,o])=>`${n}:${String(o)}`).join(",")}`}function ce(e,t,r){typeof e==="function"&&(!r||r!=="titleTemplate"&&!(r[0]==="o"&&r[1]==="n"))&&(e=e());let o;if(t&&(o=t(r,e)),Array.isArray(o))return o.map(c=>ce(c,t));if(o?.constructor===Object){const c={};for(const l of Object.keys(o))c[l]=ce(o[l],t,l);return c}return o}function nt(e,t){const r=e==="style"?new Map:new Set;function n(o){const c=o.trim();if(c)if(e==="style"){const[l,...i]=c.split(":").map(h=>h.trim());l&&i.length&&r.set(l,i.join(":"))}else c.split(" ").filter(Boolean).forEach(l=>r.add(l))}return typeof t=="string"?e==="style"?t.split(";").forEach(n):n(t):Array.isArray(t)?t.forEach(o=>n(o)):t&&typeof t=="object"&&Object.entries(t).forEach(([o,c])=>{c&&c!=="false"&&(e==="style"?r.set(o.trim(),c):n(o))}),r}function Le(e,t){return e.props=e.props||{},t?e.tag==="templateParams"?(e.props=t,e):(Object.entries(t).forEach(([r,n])=>{if(n===null){e.props[r]=null;return}if(r==="class"||r==="style"){e.props[r]=nt(r,n);return}if(Xe.has(r)){if(["textContent","innerHTML"].includes(r)&&typeof n=="object"){let l=t.type;if(t.type||(l="application/json"),!l?.endsWith("json")&&l!=="speculationrules")return;t.type=l,e.props.type=l,e[r]=JSON.stringify(n)}else e[r]=n;return}const o=String(n),c=r.startsWith("data-");o==="true"||o===""?e.props[r]=c?o:!0:!n&&c&&o==="false"?e.props[r]="false":n!==void 0&&(e.props[r]=n)}),e):e}function st(e,t){const r=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},n=Le({tag:e,props:{}},r);return n.key&&Je.has(n.tag)&&(n.props["data-hid"]=n._h=n.key),n.tag==="script"&&typeof n.innerHTML=="object"&&(n.innerHTML=JSON.stringify(n.innerHTML),n.props.type=n.props.type||"application/json"),Array.isArray(n.props.content)?n.props.content.map(o=>({...n,props:{...n.props,content:o}})):n}function ot(e,t){if(!e)return[];typeof e=="function"&&(e=e());const r=(o,c)=>{for(let l=0;l<t.length;l++)c=t[l](o,c);return c};e=r(void 0,e);const n=[];return e=ce(e,r),Object.entries(e||{}).forEach(([o,c])=>{if(c!==void 0)for(const l of Array.isArray(c)?c:[c])n.push(st(o,l))}),n.flat()}const Se=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,_e={base:-10,title:10},it={critical:-8,high:-1,low:2},qe={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},at=/@import/,K=e=>e===""||e===!0;function ut(e,t){if(typeof t.tagPriority=="number")return t.tagPriority;let r=100;const n=it[t.tagPriority]||0,o=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:qe;if(t.tag in _e)r=_e[t.tag];else if(t.tag==="meta"){const c=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;c&&(r=qe.meta[c])}else t.tag==="link"&&t.props.rel?r=o.link[t.props.rel]:t.tag==="script"?K(t.props.async)?r=o.script.async:t.props.src&&!K(t.props.defer)&&!K(t.props.async)&&t.props.type!=="module"&&!t.props.type?.endsWith("json")?r=o.script.sync:K(t.props.defer)&&t.props.src&&!K(t.props.async)&&(r=o.script.defer):t.tag==="style"&&(r=t.innerHTML&&at.test(t.innerHTML)?o.style.imported:o.style.sync);return(r||100)+n}function Oe(e,t){const r=typeof t=="function"?t(e):t,n=r.key||String(e.plugins.size+1);e.plugins.get(n)||(e.plugins.set(n,r),e.hooks.addHooks(r.hooks||{}))}function ct(e={}){const t=Be();t.addHooks(e.hooks||{});const r=!e.document,n=new Map,o=new Map,c=new Set,l={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:e,hooks:t,ssr:r,entries:n,headEntries(){return[...n.values()]},use:i=>Oe(l,i),push(i,h){const m={...h||{}};delete m.head;const v=m._index??l._entryCount++,S={_i:v,input:i,options:m},p={_poll(a=!1){l.dirty=!0,!a&&c.add(v),t.callHook("entries:updated",l)},dispose(){n.delete(v)&&l.invalidate()},patch(a){(!m.mode||m.mode==="server"&&r||m.mode==="client"&&!r)&&(S.input=a,n.set(v,S),p._poll())}};return p.patch(i),p},async resolveTags(){const i={tagMap:new Map,tags:[],entries:[...l.entries.values()]};for(await t.callHook("entries:resolve",i);c.size;){const p=c.values().next().value;c.delete(p);const a=n.get(p);if(a){const y={tags:ot(a.input,e.propResolvers||[]).map(g=>Object.assign(g,a.options)),entry:a};await t.callHook("entries:normalize",y),a._tags=y.tags.map((g,P)=>(g._w=ut(l,g),g._p=(a._i<<10)+P,g._d=ue(g),g))}}let h=!1;i.entries.flatMap(p=>(p._tags||[]).map(a=>({...a,props:{...a.props}}))).sort(Se).reduce((p,a)=>{const y=String(a._d||a._p);if(!p.has(y))return p.set(y,a);const g=p.get(y);if((a?.tagDuplicateStrategy||(Ye.has(a.tag)?"merge":null)||(a.key&&a.key===g.key?"merge":null))==="merge"){const q={...g.props};Object.entries(a.props).forEach(([k,M])=>q[k]=k==="style"?new Map([...g.props.style||new Map,...M]):k==="class"?new Set([...g.props.class||new Set,...M]):M),p.set(y,{...a,props:q})}else a._p>>10===g._p>>10&&a.tag==="meta"&&He(y)?(p.set(y,Object.assign([...Array.isArray(g)?g:[g],a],a)),h=!0):(a._w===g._w?a._p>g._p:a?._w<g?._w)&&p.set(y,a);return p},i.tagMap);const m=i.tagMap.get("title"),v=i.tagMap.get("titleTemplate");if(l._title=m?.textContent,v){const p=v?.textContent;if(l._titleTemplate=p,p){let a=typeof p=="function"?p(m?.textContent):p;typeof a=="string"&&!l.plugins.has("template-params")&&(a=a.replace("%s",m?.textContent||"")),m?a===null?i.tagMap.delete("title"):i.tagMap.set("title",{...m,textContent:a}):(v.tag="title",v.textContent=a)}}i.tags=Array.from(i.tagMap.values()),h&&(i.tags=i.tags.flat().sort(Se)),await t.callHook("tags:beforeResolve",i),await t.callHook("tags:resolve",i),await t.callHook("tags:afterResolve",i);const S=[];for(const p of i.tags){const{innerHTML:a,tag:y,props:g}=p;if(Re.has(y)&&!(Object.keys(g).length===0&&!p.innerHTML&&!p.textContent)&&!(y==="meta"&&!g.content&&!g["http-equiv"]&&!g.charset)){if(y==="script"&&a){if(g.type?.endsWith("json")){const P=typeof a=="string"?a:JSON.stringify(a);p.innerHTML=P.replace(/</g,"\\u003C")}else typeof a=="string"&&(p.innerHTML=a.replace(new RegExp(`</${y}`,"g"),`<\\/${y}`));p._d=ue(p)}S.push(p)}}return S},invalidate(){for(const i of n.values())c.add(i._i);l.dirty=!0,t.callHook("entries:updated",l)}};return(e?.plugins||[]).forEach(i=>Oe(l,i)),l.hooks.callHook("init",l),e.init?.forEach(i=>i&&l.push(i)),l}async function Ie(e,t={}){const r=t.document||e.resolvedOptions.document;if(!r||!e.dirty)return;const n={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",n),!!n.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async o=>{const c=new Map,l=new Promise(a=>{e.resolveTags().then(y=>{a(y.map(g=>{const P=c.get(g._d)||0,q={tag:g,id:(P?`${g._d}:${P}`:g._d)||we(g),shouldRender:!0};return g._d&&He(g._d)&&c.set(g._d,P+1),q}))})});let i=e._dom;if(!i){i={title:r.title,elMap:new Map().set("htmlAttrs",r.documentElement).set("bodyAttrs",r.body)};for(const a of["body","head"]){const y=r[a]?.children;for(const g of y){const P=g.tagName.toLowerCase();if(!ae.has(P))continue;const q=Le({tag:P,props:{}},{innerHTML:g.innerHTML,...g.getAttributeNames().reduce((k,M)=>(k[M]=g.getAttribute(M),k),{})||{}});if(q.key=g.getAttribute("data-hid")||void 0,q._d=ue(q)||we(q),i.elMap.has(q._d)){let k=1,M=q._d;for(;i.elMap.has(M);)M=`${q._d}:${k++}`;i.elMap.set(M,g)}else i.elMap.set(q._d,g)}}}i.pendingSideEffects={...i.sideEffects},i.sideEffects={};function h(a,y,g){const P=`${a}:${y}`;i.sideEffects[P]=g,delete i.pendingSideEffects[P]}function m({id:a,$el:y,tag:g}){const P=g.tag.endsWith("Attrs");i.elMap.set(a,y),P||(g.textContent&&g.textContent!==y.textContent&&(y.textContent=g.textContent),g.innerHTML&&g.innerHTML!==y.innerHTML&&(y.innerHTML=g.innerHTML),h(a,"el",()=>{y?.remove(),i.elMap.delete(a)}));for(const q in g.props){if(!Object.prototype.hasOwnProperty.call(g.props,q))continue;const k=g.props[q];if(q.startsWith("on")&&typeof k=="function"){const I=y?.dataset;if(I&&I[`${q}fired`]){const H=q.slice(0,-5);k.call(y,new Event(H.substring(2)))}y.getAttribute(`data-${q}`)!==""&&((g.tag==="bodyAttrs"?r.defaultView:y).addEventListener(q.substring(2),k.bind(y)),y.setAttribute(`data-${q}`,""));continue}const M=`attr:${q}`;if(q==="class"){if(!k)continue;for(const I of k)P&&h(a,`${M}:${I}`,()=>y.classList.remove(I)),!y.classList.contains(I)&&y.classList.add(I)}else if(q==="style"){if(!k)continue;for(const[I,H]of k)h(a,`${M}:${I}`,()=>{y.style.removeProperty(I)}),y.style.setProperty(I,H)}else k!==!1&&k!==null&&(y.getAttribute(q)!==k&&y.setAttribute(q,k===!0?"":String(k)),P&&h(a,M,()=>y.removeAttribute(q)))}}const v=[],S={bodyClose:void 0,bodyOpen:void 0,head:void 0},p=await l;for(const a of p){const{tag:y,shouldRender:g,id:P}=a;if(g){if(y.tag==="title"){r.title=y.textContent,h("title","",()=>r.title=i.title);continue}a.$el=a.$el||i.elMap.get(P),a.$el?m(a):ae.has(y.tag)&&v.push(a)}}for(const a of v){const y=a.tag.tagPosition||"head";a.$el=r.createElement(a.tag.tag),m(a),S[y]=S[y]||r.createDocumentFragment(),S[y].appendChild(a.$el)}for(const a of p)await e.hooks.callHook("dom:renderTag",a,r,h);S.head&&r.head.appendChild(S.head),S.bodyOpen&&r.body.insertBefore(S.bodyOpen,r.body.firstChild),S.bodyClose&&r.body.appendChild(S.bodyClose);for(const a in i.pendingSideEffects)i.pendingSideEffects[a]();e._dom=i,await e.hooks.callHook("dom:rendered",{renders:p}),o()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function lt(e={}){const t=e.domOptions?.render||Ie;e.document=e.document||(typeof window<"u"?document:void 0);const r=e.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return ct({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[r?JSON.parse(r):!1,...e.init||[]]})}function ft(e,t){let r=0;return()=>{const n=++r;t(()=>{r===n&&e()})}}const xe=O.createContext(null);function dt(e={}){const t=lt({domOptions:{render:ft(()=>Ie(t),r=>setTimeout(r,0))},...e});return t}function Nt({children:e,head:t}){return O.createElement(xe.Provider,{value:t||dt()},e)}const pe=gt();function T(e,...t){if(!pe)return;const r=ht(e,...t);performance.mark(r);try{console.log(e,...t)}catch{console.log(r)}}function pt(e,...t){pe&&console.warn(e,...t)}function ht(e,...t){return e.replace(/%[sfdO]/g,r=>{const n=t.shift();return r==="%O"&&n?JSON.stringify(n).replace(/"([^"]+)":/g,"$1:"):String(n)})}function gt(){try{if(typeof localStorage>"u")return!1;const t="nuqs-localStorage-test";localStorage.setItem(t,t);const r=localStorage.getItem(t)===t;if(localStorage.removeItem(t),!r)return!1}catch(t){return console.error("[nuqs]: debug mode is disabled (localStorage unavailable).",t),!1}return(localStorage.getItem("debug")??"").includes("nuqs")}const mt={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function J(e){return`[nuqs] ${mt[e]}
  See https://err.47ng.com/NUQS-${e}`}function yt(e){if(e.size===0)return"";const t=[];for(const[n,o]of e.entries()){const c=n.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");t.push(`${c}=${bt(o)}`)}return"?"+t.join("&")}function bt(e){return e.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/[\x00-\x1F]/g,t=>encodeURIComponent(t))}const B=O.createContext({useAdapter(){throw new Error(J(404))}});B.displayName="NuqsAdapterContext";pe&&typeof window<"u"&&(window.__NuqsAdapterContext&&window.__NuqsAdapterContext!==B&&console.error(J(303)),window.__NuqsAdapterContext=B);function vt(e){return({children:t,...r})=>O.createElement(B.Provider,{...r,value:{useAdapter:e}},t)}function Ue(){const e=O.useContext(B);if(!("useAdapter"in e))throw new Error(J(404));return e.useAdapter()}function he(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(o){o(r)}),(n=e.get("*"))&&n.slice().map(function(o){o(t,r)})}}}function wt(){if(typeof window>"u"||!!!window.GestureEvent)return 50;try{const t=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(t[1])>=17?120:320}catch{return 320}}function St(e){return{method:"throttle",timeMs:e}}const z=St(wt());function le(e,t,r){function n(){e(),r.removeEventListener("abort",c)}const o=setTimeout(n,t);function c(){clearTimeout(o),r.removeEventListener("abort",c)}r.addEventListener("abort",c)}function fe(){const e=Promise;if("withResolvers"in Promise)return Promise.withResolvers();let t=()=>{},r=()=>{};return{promise:new e((o,c)=>{t=o,r=c}),resolve:t,reject:r}}function _t(e,t){const r=n=>{if(n===e.length)return t();const o=e[n];if(!o)throw new Error("Invalid transition function");o(()=>r(n+1))};r(0)}function Qe(){return new URLSearchParams(location.search)}var De=class{updateMap=new Map;options={history:"replace",scroll:!1,shallow:!0};timeMs=z.timeMs;transitions=new Set;resolvers=null;controller=new AbortController;lastFlushedAt=0;push({key:e,query:t,options:r},n=z.timeMs){T("[nuqs gtq] Enqueueing %s=%s %O",e,t,r),this.updateMap.set(e,t),r.history==="push"&&(this.options.history="push"),r.scroll&&(this.options.scroll=!0),r.shallow===!1&&(this.options.shallow=!1),r.startTransition&&this.transitions.add(r.startTransition),this.timeMs=Math.max(n,Number.isFinite(this.timeMs)?this.timeMs:0)}getQueuedQuery(e){return this.updateMap.get(e)}flush({getSearchParamsSnapshot:e=Qe,rateLimitFactor:t=1,...r}){if(!Number.isFinite(this.timeMs))return T("[nuqs gtq] Skipping flush due to throttleMs=Infinity"),Promise.resolve(e());if(this.resolvers)return this.resolvers.promise;this.resolvers=fe();const n=()=>{this.lastFlushedAt=performance.now();const[c,l]=this.applyPendingUpdates({...r,autoResetQueueOnUpdate:r.autoResetQueueOnUpdate??!0,getSearchParamsSnapshot:e});l===null?this.resolvers.resolve(c):this.resolvers.reject(c),this.resolvers=null};return le(()=>{const l=performance.now()-this.lastFlushedAt,i=this.timeMs,h=t*Math.max(0,Math.min(i,i-l));T("[nuqs gtq] Scheduling flush in %f ms. Throttled at %f ms (x%f)",h,i,t),h===0?n():le(n,h,this.controller.signal)},0,this.controller.signal),this.resolvers.promise}abort(){return this.controller.abort(),this.controller=new AbortController,this.resolvers?.resolve(new URLSearchParams),this.resolvers=null,this.reset()}reset(){const e=Array.from(this.updateMap.keys());return T("[nuqs gtq] Resetting queue %s",JSON.stringify(Object.fromEntries(this.updateMap))),this.updateMap.clear(),this.transitions.clear(),this.options.history="replace",this.options.scroll=!1,this.options.shallow=!0,this.timeMs=z.timeMs,e}applyPendingUpdates(e){const{updateUrl:t,getSearchParamsSnapshot:r}=e,n=r();if(T("[nuqs gtq] Applying %d pending update(s) on top of %s",this.updateMap.size,n.toString()),this.updateMap.size===0)return[n,null];const o=Array.from(this.updateMap.entries()),c={...this.options},l=Array.from(this.transitions);e.autoResetQueueOnUpdate&&this.reset(),T("[nuqs gtq] Flushing queue %O with options %O",o,c);for(const[i,h]of o)h===null?n.delete(i):n.set(i,h);try{return _t(l,()=>{t(n,{history:c.history,scroll:c.scroll,shallow:c.shallow})}),[n,null]}catch(i){return console.error(J(429),o.map(([h])=>h).join(),i),[n,i]}}};const W=new De;function qt(e,t,r){const n=O.useCallback(()=>{const l=Object.fromEntries(e.map(h=>[h,r(h)]));return[JSON.stringify(l),l]},[e.join(","),r]),o=O.useRef(null);o.current===null&&(o.current=n());const c=O.useCallback(l=>{const i=e.map(h=>t(h,l));return()=>i.forEach(h=>h())},[e.join(","),t]);return O.useSyncExternalStore(c,()=>{const[l,i]=n();return o.current[0]===l?o.current[1]:(o.current=[l,i],i)},()=>o.current[1])}var Ot=class{callback;resolvers=fe();controller=new AbortController;queuedValue=void 0;constructor(e){this.callback=e}abort(){this.controller.abort(),this.queuedValue=void 0}push(e,t){return this.queuedValue=e,this.controller.abort(),this.controller=new AbortController,le(()=>{const r=this.resolvers;try{T("[nuqs dq] Flushing debounce queue",e);const n=this.callback(e);T("[nuqs dq] Reset debounced queue %O",this.queuedValue),this.queuedValue=void 0,this.resolvers=fe(),n.then(o=>r.resolve(o)).catch(o=>r.reject(o))}catch(n){this.queuedValue=void 0,r.reject(n)}},t,this.controller.signal),this.resolvers.promise}},At=class{throttleQueue;queues=new Map;queuedQuerySync=he();constructor(e=new De){this.throttleQueue=e}useQueuedQueries(e){return qt(e,(t,r)=>(this.queuedQuerySync.on(t,r),()=>this.queuedQuerySync.off(t,r)),t=>this.getQueuedQuery(t))}push(e,t,r){if(!Number.isFinite(t)){const c=r.getSearchParamsSnapshot??Qe;return Promise.resolve(c())}if(!this.queues.has(e.key)){T("[nuqs dqc] Creating debounced queue for `%s`",e.key);const c=new Ot(l=>(this.throttleQueue.push(l),this.throttleQueue.flush(r).finally(()=>{this.queues.get(l.key)?.queuedValue===void 0&&(T("[nuqs dqc] Cleaning up empty queue for `%s`",l.key),this.queues.delete(l.key)),this.queuedQuerySync.emit(l.key)})));this.queues.set(e.key,c)}T("[nuqs dqc] Enqueueing debounced update %s=%s %O",e.key,e.query,e.options);const o=this.queues.get(e.key).push(e,t);return this.queuedQuerySync.emit(e.key),o}abort(e){const t=this.queues.get(e);return t?(T("[nuqs dqc] Aborting debounced queue %s=%s",e,t.queuedValue?.query),this.queues.delete(e),t.abort(),this.queuedQuerySync.emit(e),function(n){return n.then(o=>t.resolvers.resolve(o),o=>t.resolvers.reject(o)),n}):r=>r}abortAll(){for(const[e,t]of this.queues.entries())T("[nuqs dqc] Aborting debounced queue %s=%s",e,t.queuedValue?.query),t.abort(),t.resolvers.resolve(new URLSearchParams),this.queuedQuerySync.emit(e);this.queues.clear()}getQueuedQuery(e){const t=this.queues.get(e)?.queuedValue?.query;return t!==void 0?t:this.throttleQueue.getQueuedQuery(e)}};const F=new At(W);function Y(e,t,r){try{return e(t)}catch(n){return pt("[nuqs] Error while parsing value `%s`: %O"+(r?" (for key `%s`)":""),t,n,r),null}}function D(e){function t(r){if(typeof r>"u")return null;let n="";if(Array.isArray(r)){if(r[0]===void 0)return null;n=r[0]}return typeof r=="string"&&(n=r),Y(e.parse,n)}return{eq:(r,n)=>r===n,...e,parseServerSide:t,withDefault(r){return{...this,defaultValue:r,parseServerSide(n){return t(n)??r}}},withOptions(r){return{...this,...r}}}}D({parse:e=>e,serialize:e=>`${e}`});const Ae=D({parse:e=>{const t=parseInt(e);return Number.isNaN(t)?null:t},serialize:e=>Math.round(e).toFixed()});D({parse:e=>{const t=Ae.parse(e);return t===null?null:t-1},serialize:e=>Ae.serialize(e+1)});D({parse:e=>{const t=parseInt(e,16);return Number.isNaN(t)?null:t},serialize:e=>{const t=Math.round(e).toString(16);return t.padStart(t.length+t.length%2,"0")}});D({parse:e=>{const t=parseFloat(e);return Number.isNaN(t)?null:t},serialize:e=>e.toString()});D({parse:e=>e==="true",serialize:e=>e?"true":"false"});function ge(e,t){return e.valueOf()===t.valueOf()}D({parse:e=>{const t=parseInt(e);return Number.isNaN(t)?null:new Date(t)},serialize:e=>e.valueOf().toString(),eq:ge});D({parse:e=>{const t=new Date(e);return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString(),eq:ge});D({parse:e=>{const t=new Date(e.slice(0,10));return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString().slice(0,10),eq:ge});const $=he();function Gt(e,{history:t="replace",shallow:r=!0,scroll:n=!1,throttleMs:o=z.timeMs,limitUrlUpdates:c,parse:l=p=>p,serialize:i=String,eq:h=(p,a)=>p===a,defaultValue:m=void 0,clearOnDefault:v=!0,startTransition:S}={history:"replace",scroll:!1,shallow:!0,throttleMs:z.timeMs,parse:p=>p,serialize:String,eq:(p,a)=>p===a,clearOnDefault:!0,defaultValue:void 0}){const p=O.useId(),a=Ue(),{[e]:y}=F.useQueuedQueries([e]),g=a.searchParams,P=O.useRef(g?.get(e)??null),[q,k]=O.useState(()=>{const H=y===void 0?g?.get(e)??null:y;return H===null?null:Y(l,H,e)}),M=O.useRef(q);T("[nuqs %s `%s`] render - state: %O, iSP: %s",p,e,q,g?.get(e)??null),O.useEffect(()=>{const H=y===void 0?g?.get(e)??null:y;if(H===P.current)return;const _=H===null?null:Y(l,H,e);T("[nuqs %s `%s`] syncFromUseSearchParams %O",p,e,_),M.current=_,P.current=H,k(_)},[e,g?.get(e),y]),O.useEffect(()=>{function H({state:_,query:E}){T("[nuqs %s `%s`] updateInternalState %O",p,e,_),M.current=_,P.current=E,k(_)}return T("[nuqs %s `%s`] subscribing to sync",p,e),$.on(e,H),()=>{T("[nuqs %s `%s`] unsubscribing from sync",p,e),$.off(e,H)}},[e]);const I=O.useCallback((H,_={})=>{let E=Mt(H)?H(M.current??m??null):H;(_.clearOnDefault??v)&&E!==null&&m!==void 0&&h(E,m)&&(E=null);const R=E===null?null:i(E);$.emit(e,{state:E,query:R});const A={key:e,query:R,options:{history:_.history??t,shallow:_.shallow??r,scroll:_.scroll??n,startTransition:_.startTransition??S}};if(_.limitUrlUpdates?.method==="debounce"||c?.method==="debounce"){const Q=_.limitUrlUpdates?.timeMs??c?.timeMs??z.timeMs;return F.push(A,Q,a)}else{const Q=_.limitUrlUpdates?.timeMs??c?.timeMs??_.throttleMs??o,N=F.abort(e);return W.push(A,Q),N(W.flush(a))}},[e,t,r,n,o,c?.method,c?.timeMs,S,a.updateUrl,a.getSearchParamsSnapshot,a.rateLimitFactor]);return[q??m??null,I]}function Mt(e){return typeof e=="function"}const Pt={};function zt(e,{history:t="replace",scroll:r=!1,shallow:n=!0,throttleMs:o=z.timeMs,limitUrlUpdates:c,clearOnDefault:l=!0,startTransition:i,urlKeys:h=Pt}={}){const m=O.useId(),v=Object.keys(e).join(","),S=O.useMemo(()=>Object.fromEntries(Object.keys(e).map(_=>[_,h[_]??_])),[v,JSON.stringify(h)]),p=Ue(),a=p.searchParams,y=O.useRef({}),g=O.useMemo(()=>Object.fromEntries(Object.keys(e).map(_=>[_,e[_].defaultValue??null])),[Object.values(e).map(({defaultValue:_})=>_).join(",")]),P=F.useQueuedQueries(Object.values(S)),[q,k]=O.useState(()=>{const _=a??new URLSearchParams;return te(e,h,_,P).state}),M=O.useRef(q);if(T("[nuq+ %s `%s`] render - state: %O, iSP: %s",m,v,q,a),Object.keys(y.current).join("&")!==Object.values(S).join("&")){const{state:_,hasChanged:E}=te(e,h,a,P,y.current,M.current);E&&(T("[nuq+ %s `%s`] State changed: %O",m,v,{state:_,initialSearchParams:a,queuedQueries:P,queryRef:y.current,stateRef:M.current}),M.current=_,k(_)),y.current=Object.fromEntries(Object.values(S).map(R=>[R,a?.get(R)??null]))}O.useEffect(()=>{const{state:_,hasChanged:E}=te(e,h,a,P,y.current,M.current);E&&(T("[nuq+ %s `%s`] State changed: %O",m,v,{state:_,initialSearchParams:a,queuedQueries:P,queryRef:y.current,stateRef:M.current}),M.current=_,k(_))},[Object.values(S).map(_=>`${_}=${a?.get(_)}`).join("&"),JSON.stringify(P)]),O.useEffect(()=>{function _(R){T("[nuq+ %s `%s`] updateInternalState %O",m,v,R),M.current=R,k(R)}const E=Object.keys(e).reduce((R,A)=>(R[A]=({state:Q,query:N})=>{const{defaultValue:G}=e[A],V=S[A];M.current={...M.current,[A]:Q??G??null},y.current[V]=N,T("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). Resolved: %O",m,v,V,Q,G,M.current),_(M.current)},R),{});for(const R of Object.keys(e)){const A=S[R];T("[nuq+ %s `%s`] Subscribing to sync for `%s`",m,A,v),$.on(A,E[R])}return()=>{for(const R of Object.keys(e)){const A=S[R];T("[nuq+ %s `%s`] Unsubscribing to sync for `%s`",m,A,v),$.off(A,E[R])}}},[v,S]);const I=O.useCallback((_,E={})=>{const R=Object.fromEntries(Object.keys(e).map(d=>[d,null])),A=typeof _=="function"?_(Me(M.current,g))??R:_??R;T("[nuq+ %s `%s`] setState: %O",m,v,A);let Q,N=0;const G=[];for(let[d,s]of Object.entries(A)){const u=e[d],f=S[d];if(!u)continue;(E.clearOnDefault??u.clearOnDefault??l)&&s!==null&&u.defaultValue!==void 0&&(u.eq??((C,j)=>C===j))(s,u.defaultValue)&&(s=null);const b=s===null?null:(u.serialize??String)(s);$.emit(f,{state:s,query:b});const w={key:f,query:b,options:{history:E.history??u.history??t,shallow:E.shallow??u.shallow??n,scroll:E.scroll??u.scroll??r,startTransition:E.startTransition??u.startTransition??i}};if(E?.limitUrlUpdates?.method==="debounce"||c?.method==="debounce"||u.limitUrlUpdates?.method==="debounce"){const C=E?.limitUrlUpdates?.timeMs??c?.timeMs??u.limitUrlUpdates?.timeMs??z.timeMs,j=F.push(w,C,p);N<C&&(Q=j,N=C)}else{const C=E?.limitUrlUpdates?.timeMs??u?.limitUrlUpdates?.timeMs??c?.timeMs??E.throttleMs??u.throttleMs??o;G.push(F.abort(f)),W.push(w,C)}}const V=G.reduce((d,s)=>s(d),W.flush(p));return Q??V},[v,t,n,r,o,c?.method,c?.timeMs,i,S,p.updateUrl,p.getSearchParamsSnapshot,p.rateLimitFactor,g]);return[O.useMemo(()=>Me(q,g),[q,g]),I]}function te(e,t,r,n,o,c){let l=!1;const i=Object.keys(e).reduce((h,m)=>{const v=t?.[m]??m,{parse:S}=e[m],p=n[v],a=p===void 0?r?.get(v)??null:p;if(o&&c&&(o[v]??null)===a)return h[m]=c[m]??null,h;l=!0;const y=a===null?null:Y(S,a,m);return h[m]=y??null,o&&(o[v]=a),h},{});if(!l){const h=Object.keys(e),m=Object.keys(c??{});l=h.length!==m.length||h.some(v=>!m.includes(v))}return{state:i,hasChanged:l}}function Me(e,t){return Object.fromEntries(Object.keys(e).map(r=>[r,e[r]??t[r]??null]))}var re={},ne={},se={},Pe;function Ct(){return Pe||(Pe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];if(typeof window<"u"){var i;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(i=window).gtag.apply(i,c)}},r=t;e.default=r}(se)),se}var oe={},Ce;function kt(){return Ce||(Ce=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function r(i){return i.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(h,m,v){return m>0&&m+h.length!==v.length&&h.search(t)>-1&&v.charAt(m-2)!==":"&&(v.charAt(m+h.length)!=="-"||v.charAt(m-1)==="-")&&v.charAt(m-1).search(/[^\s-]/)<0?h.toLowerCase():h.substr(1).search(/[A-Z]|\../)>-1?h:h.charAt(0).toUpperCase()+h.substr(1)})}function n(i){return typeof i=="string"&&i.indexOf("@")!==-1}var o="REDACTED (Potential Email Address)";function c(i){return n(i)?(console.warn("This arg looks like an email address, redacting."),o):i}function l(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,v=i||"";return h&&(v=r(i)),m&&(v=c(v)),v}}(oe)),oe}var ke;function Tt(){return ke||(ke=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=l(Ct()),r=l(kt()),n=["eventCategory","eventAction","eventLabel","eventValue","hitType"],o=["title","location"],c=["page","hitType"];function l(d){return d&&d.__esModule?d:{default:d}}function i(d,s){if(d==null)return{};var u=h(d,s),f,b;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);for(b=0;b<w.length;b++)f=w[b],!(s.indexOf(f)>=0)&&Object.prototype.propertyIsEnumerable.call(d,f)&&(u[f]=d[f])}return u}function h(d,s){if(d==null)return{};var u={},f=Object.keys(d),b,w;for(w=0;w<f.length;w++)b=f[w],!(s.indexOf(b)>=0)&&(u[b]=d[b]);return u}function m(d){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},m(d)}function v(d){return a(d)||p(d)||k(d)||S()}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function a(d){if(Array.isArray(d))return M(d)}function y(d,s){var u=Object.keys(d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(d);s&&(f=f.filter(function(b){return Object.getOwnPropertyDescriptor(d,b).enumerable})),u.push.apply(u,f)}return u}function g(d){for(var s=1;s<arguments.length;s++){var u=arguments[s]!=null?arguments[s]:{};s%2?y(Object(u),!0).forEach(function(f){A(d,f,u[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(u)):y(Object(u)).forEach(function(f){Object.defineProperty(d,f,Object.getOwnPropertyDescriptor(u,f))})}return d}function P(d,s){return H(d)||I(d,s)||k(d,s)||q()}function q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(d,s){if(d){if(typeof d=="string")return M(d,s);var u=Object.prototype.toString.call(d).slice(8,-1);if(u==="Object"&&d.constructor&&(u=d.constructor.name),u==="Map"||u==="Set")return Array.from(d);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return M(d,s)}}function M(d,s){(s==null||s>d.length)&&(s=d.length);for(var u=0,f=new Array(s);u<s;u++)f[u]=d[u];return f}function I(d,s){var u=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(u!=null){var f,b,w,C,j=[],L=!0,x=!1;try{if(w=(u=u.call(d)).next,s!==0)for(;!(L=(f=w.call(u)).done)&&(j.push(f.value),j.length!==s);L=!0);}catch(U){x=!0,b=U}finally{try{if(!L&&u.return!=null&&(C=u.return(),Object(C)!==C))return}finally{if(x)throw b}}return j}}function H(d){if(Array.isArray(d))return d}function _(d,s){if(!(d instanceof s))throw new TypeError("Cannot call a class as a function")}function E(d,s){for(var u=0;u<s.length;u++){var f=s[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,Q(f.key),f)}}function R(d,s,u){return s&&E(d.prototype,s),Object.defineProperty(d,"prototype",{writable:!1}),d}function A(d,s,u){return s=Q(s),s in d?Object.defineProperty(d,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):d[s]=u,d}function Q(d){var s=N(d,"string");return m(s)==="symbol"?s:String(s)}function N(d,s){if(m(d)!=="object"||d===null)return d;var u=d[Symbol.toPrimitive];if(u!==void 0){var f=u.call(d,s);if(m(f)!=="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(d)}var G=function(){function d(){var s=this;_(this,d),A(this,"reset",function(){s.isInitialized=!1,s._testMode=!1,s._currentMeasurementId,s._hasLoadedGA=!1,s._isQueuing=!1,s._queueGtag=[]}),A(this,"_gtag",function(){for(var u=arguments.length,f=new Array(u),b=0;b<u;b++)f[b]=arguments[b];s._testMode||s._isQueuing?s._queueGtag.push(f):t.default.apply(void 0,f)}),A(this,"_loadGA",function(u,f){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!s._hasLoadedGA){var w=document.createElement("script");w.async=!0,w.src="".concat(b,"?id=").concat(u),f&&w.setAttribute("nonce",f),document.body.appendChild(w),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},s._hasLoadedGA=!0}}),A(this,"_toGtagOptions",function(u){if(u){var f={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},b=Object.entries(u).reduce(function(w,C){var j=P(C,2),L=j[0],x=j[1];return f[L]?w[f[L]]=x:w[L]=x,w},{});return b}}),A(this,"initialize",function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!u)throw new Error("Require GA_MEASUREMENT_ID");var b=typeof u=="string"?[{trackingId:u}]:u;s._currentMeasurementId=b[0].trackingId;var w=f.gaOptions,C=f.gtagOptions,j=f.nonce,L=f.testMode,x=L===void 0?!1:L,U=f.gtagUrl;if(s._testMode=x,x||s._loadGA(s._currentMeasurementId,j,U),s.isInitialized||(s._gtag("js",new Date),b.forEach(function(Z){var be=g(g(g({},s._toGtagOptions(g(g({},w),Z.gaOptions))),C),Z.gtagOptions);Object.keys(be).length?s._gtag("config",Z.trackingId,be):s._gtag("config",Z.trackingId)})),s.isInitialized=!0,!x){var me=v(s._queueGtag);for(s._queueGtag=[],s._isQueuing=!1;me.length;){var ye=me.shift();s._gtag.apply(s,v(ye)),ye[0]==="get"&&(s._isQueuing=!0)}}}),A(this,"set",function(u){if(!u){console.warn("`fieldsObject` is required in .set()");return}if(m(u)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(u).length===0&&console.warn("empty `fieldsObject` given to .set()"),s._gaCommand("set",u)}),A(this,"_gaCommandSendEvent",function(u,f,b,w,C){s._gtag("event",f,g(g({event_category:u,event_label:b,value:w},C&&{non_interaction:C.nonInteraction}),s._toGtagOptions(C)))}),A(this,"_gaCommandSendEventParameters",function(){for(var u=arguments.length,f=new Array(u),b=0;b<u;b++)f[b]=arguments[b];if(typeof f[0]=="string")s._gaCommandSendEvent.apply(s,v(f.slice(1)));else{var w=f[0],C=w.eventCategory,j=w.eventAction,L=w.eventLabel,x=w.eventValue;w.hitType;var U=i(w,n);s._gaCommandSendEvent(C,j,L,x,U)}}),A(this,"_gaCommandSendTiming",function(u,f,b,w){s._gtag("event","timing_complete",{name:f,value:b,event_category:u,event_label:w})}),A(this,"_gaCommandSendPageview",function(u,f){if(f&&Object.keys(f).length){var b=s._toGtagOptions(f),w=b.title,C=b.location,j=i(b,o);s._gtag("event","page_view",g(g(g(g({},u&&{page_path:u}),w&&{page_title:w}),C&&{page_location:C}),j))}else u?s._gtag("event","page_view",{page_path:u}):s._gtag("event","page_view")}),A(this,"_gaCommandSendPageviewParameters",function(){for(var u=arguments.length,f=new Array(u),b=0;b<u;b++)f[b]=arguments[b];if(typeof f[0]=="string")s._gaCommandSendPageview.apply(s,v(f.slice(1)));else{var w=f[0],C=w.page;w.hitType;var j=i(w,c);s._gaCommandSendPageview(C,j)}}),A(this,"_gaCommandSend",function(){for(var u=arguments.length,f=new Array(u),b=0;b<u;b++)f[b]=arguments[b];var w=typeof f[0]=="string"?f[0]:f[0].hitType;switch(w){case"event":s._gaCommandSendEventParameters.apply(s,f);break;case"pageview":s._gaCommandSendPageviewParameters.apply(s,f);break;case"timing":s._gaCommandSendTiming.apply(s,v(f.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(w));break;default:console.warn("Send command doesn't exist: ".concat(w))}}),A(this,"_gaCommandSet",function(){for(var u=arguments.length,f=new Array(u),b=0;b<u;b++)f[b]=arguments[b];typeof f[0]=="string"&&(f[0]=A({},f[0],f[1])),s._gtag("set",s._toGtagOptions(f[0]))}),A(this,"_gaCommand",function(u){for(var f=arguments.length,b=new Array(f>1?f-1:0),w=1;w<f;w++)b[w-1]=arguments[w];switch(u){case"send":s._gaCommandSend.apply(s,b);break;case"set":s._gaCommandSet.apply(s,b);break;default:console.warn("Command doesn't exist: ".concat(u))}}),A(this,"ga",function(){for(var u=arguments.length,f=new Array(u),b=0;b<u;b++)f[b]=arguments[b];if(typeof f[0]=="string")s._gaCommand.apply(s,f);else{var w=f[0];s._gtag("get",s._currentMeasurementId,"client_id",function(C){s._isQueuing=!1;var j=s._queueGtag;for(w({get:function(U){return U==="clientId"?C:U==="trackingId"?s._currentMeasurementId:U==="apiVersion"?"1":void 0}});j.length;){var L=j.shift();s._gtag.apply(s,v(L))}}),s._isQueuing=!0}return s.ga}),A(this,"event",function(u,f){if(typeof u=="string")s._gtag("event",u,s._toGtagOptions(f));else{var b=u.action,w=u.category,C=u.label,j=u.value,L=u.nonInteraction,x=u.transport;if(!w||!b){console.warn("args.category AND args.action are required in event()");return}var U={hitType:"event",eventCategory:(0,r.default)(w),eventAction:(0,r.default)(b)};C&&(U.eventLabel=(0,r.default)(C)),typeof j<"u"&&(typeof j!="number"?console.warn("Expected `args.value` arg to be a Number."):U.eventValue=j),typeof L<"u"&&(typeof L!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):U.nonInteraction=L),typeof x<"u"&&(typeof x!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(x)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),U.transport=x)),s._gaCommand("send",U)}}),A(this,"send",function(u){s._gaCommand("send",u)}),this.reset()}return R(d,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),d}();e.GA4=G;var V=new G;e.default=V}(ne)),ne}var Te;function Ft(){return Te||(Te=1,function(e){function t(i){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},t(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var r=o(Tt());function n(i){if(typeof WeakMap!="function")return null;var h=new WeakMap,m=new WeakMap;return(n=function(S){return S?m:h})(i)}function o(i,h){if(i&&i.__esModule)return i;if(i===null||t(i)!=="object"&&typeof i!="function")return{default:i};var m=n(h);if(m&&m.has(i))return m.get(i);var v={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in i)if(p!=="default"&&Object.prototype.hasOwnProperty.call(i,p)){var a=S?Object.getOwnPropertyDescriptor(i,p):null;a&&(a.get||a.set)?Object.defineProperty(v,p,a):v[p]=i[p]}return v.default=i,m&&m.set(i,v),v}var c=r.GA4;e.ReactGAImplementation=c;var l=r.default;e.default=l}(re)),re}function Et(){const e=O.useContext(xe);if(!e)throw new Error("useHead() was called without provide context.");return e}const Wt=({children:e,titleTemplate:t})=>{const r=Et(),n=O.useMemo(()=>ve.Children.toArray(e).filter(ve.isValidElement),[e]),o=O.useCallback(()=>{const l={titleTemplate:t};for(const i of n){const h=i,{type:m,props:v}=h,S=String(m);if(!Re.has(S))continue;const p={...typeof v=="object"?v:{}};if(je.has(S)&&p.children){const a=S==="script"?"innerHTML":"textContent";p[a]=Array.isArray(p.children)?p.children.map(String).join(""):String(p.children)}if(delete p.children,ae.has(S)){const a=S;Array.isArray(l[a])||(l[a]=[]),l[a].push(p)}else l[S]=p}return l},[n,t]),c=O.useRef(r.push(o()));return O.useEffect(()=>()=>{c.current?.dispose&&c.current.dispose(),c.current=null},[]),O.useEffect(()=>{c.current?.patch(o())},[o]),null};let X=0;function jt(e=1){X=e}function Rt(){X=Math.max(0,X-1),!(X>0)&&Ne()}function Ne(){T("[nuqs] Aborting queues"),F.abortAll(),W.abort().forEach(t=>F.queuedQuerySync.emit(t))}const de="__nuqs__";function Ht(e){if(e instanceof URL)return e.searchParams;if(e.startsWith("?"))return new URLSearchParams(e);try{return new URL(e,location.origin).searchParams}catch{return new URLSearchParams(e)}}function Lt(e){return typeof history>"u"?!1:history.nuqs?.version&&history.nuqs.version!=="0.0.0-inject-version-here"?(console.error(J(409),history.nuqs.version,"0.0.0-inject-version-here",e),!1):!history.nuqs?.adapters?.includes(e)}function It(e){history.nuqs=history.nuqs??{version:"0.0.0-inject-version-here",adapters:[]},history.nuqs.adapters.push(e)}function xt(e,t){if(!Lt(t))return;let r=typeof location=="object"?location.search:"";e.on("update",l=>{const i=l.toString();r=i.length?"?"+i:""}),window.addEventListener("popstate",()=>{r=location.search,Ne()}),T("[nuqs %s] Patching history (%s adapter)","0.0.0-inject-version-here",t);function n(l){Rt();try{if(new URL(l,location.origin).search===r)return}catch{}try{e.emit("update",Ht(l))}catch(i){console.error(i)}}const o=history.pushState,c=history.replaceState;history.pushState=function(i,h,m){o.call(history,i,"",m),m&&h!==de&&n(m)},history.replaceState=function(i,h,m){c.call(history,i,"",m),m&&h!==de&&n(m)},It(t)}function Ut({adapter:e,useNavigate:t,useSearchParams:r}){const n=he(),o=e!=="react-router-v6";function c(){const i=O.useRef(!1);i.current&&(i.current=!1,W.reset());const h=t(),m=l(),v=O.useCallback((S,p)=>{O.startTransition(()=>{n.emit("update",S)});const a=new URL(location.href);a.search=yt(S),T(`[nuqs ${e}] Updating url: %s`,a);const y=p.history==="push"?history.pushState:history.replaceState;jt(p.shallow?1:2),y.call(history,history.state,de,a),p.shallow===!1&&h({hash:a.hash,search:a.search},{replace:!0,preventScrollReset:!0,state:history.state?.usr}),p.scroll&&window.scrollTo(0,0),i.current=o},[h]);return{searchParams:m,updateUrl:v,autoResetQueueOnUpdate:!1}}function l(){const[i]=r(typeof location>"u"?new URLSearchParams:new URLSearchParams(location.search)),[h,m]=O.useState(()=>typeof location>"u"?i:new URLSearchParams(location.search));return O.useEffect(()=>{function v(){m(new URLSearchParams(location.search))}function S(p){m(p)}return n.on("update",S),window.addEventListener("popstate",v),()=>{n.off("update",S),window.removeEventListener("popstate",v)}},[]),h}return xt(n,e),{NuqsAdapter:vt(c),useOptimisticSearchParams:l}}const Qt=Ut({adapter:"react-router-v7",useNavigate:Ge,useSearchParams:ze}),Vt=Qt.NuqsAdapter;export{Wt as H,Vt as N,Nt as U,zt as a,dt as b,D as c,Ae as p,Ft as r,Gt as u};
