import{t as g,n as b,j as e,H as a,E as c,L as u,B as s,T as i}from"./index-Xuur6QcQ.js";import{A as v,T as B,a as w,I as k,b as $,L as t}from"./ArrowBack-COFAONzs.js";import{j as F,k as T,n as h,l as j,m as D,C as S}from"./NavigationService-DgKRdZZb.js";const L=()=>{const[y]=g(),l=F(),{t:m}=b(),d=y.get("id");if(!d)return e.jsxs(e.Fragment,{children:[e.jsx(a,{children:e.jsx("meta",{name:"robots",content:"noindex"})}),e.jsx(c,{message:"Player id is missing."})]});const{data:r,isLoading:p,error:x}=T({queryKey:["players",{id:d}],queryFn:async()=>await S.getPlayer(d)});return x?e.jsxs(e.Fragment,{children:[e.jsx(a,{children:e.jsx("meta",{name:"robots",content:"noindex"})}),e.jsx(c,{message:x.message})]}):p?e.jsxs(e.Fragment,{children:[e.jsx(a,{children:e.jsx("meta",{name:"robots",content:"noindex"})}),e.jsx(u,{})]}):e.jsxs(e.Fragment,{children:[e.jsxs(a,{children:[r&&e.jsx("title",{children:r.name}),e.jsx("meta",{name:"robots",content:"index, follow"})]}),e.jsxs(s,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(v,{position:"static",color:(r==null?void 0:r.gender)===null?"default":(r==null?void 0:r.gender)===h.Open?"primary":"secondary",children:e.jsxs(B,{children:[e.jsx(w,{title:"Back",children:e.jsx(k,{edge:"start",color:"inherit",onClick:()=>l.navigateBack(),"aria-label":"back",children:e.jsx($,{})})}),e.jsx(i,{variant:"h6",component:"h1",children:r==null?void 0:r.name})]})}),e.jsx(s,{overflow:"auto",padding:{xs:2,md:2},children:e.jsxs(s,{display:"flex",flexDirection:"column",gap:{xs:1,md:2},children:[e.jsxs(s,{display:"grid",children:[(r==null?void 0:r.id)&&(r==null?void 0:r.fideName)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsx(i,{variant:"body1",children:"FIDE Id:"})}),e.jsx(s,{flexBasis:"50%",children:e.jsx(t,{href:`https://ratings.fide.com/profile/${r.id}`,variant:"body1",target:"_blank",rel:"noopener",children:r.id})})]}),(r==null?void 0:r.fed)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsx(i,{variant:"body1",children:"Federation:"})}),e.jsx(s,{flexBasis:"50%",children:e.jsx(t,{onClick:o=>{o.preventDefault(),l.navigateToFederation(r.fed)},rel:"noopener",style:{cursor:"pointer"},children:m(`federation_short.${r.fed}`)})})]}),(r==null?void 0:r.yob)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsx(i,{variant:"body1",children:"Year of Birth:"})}),e.jsxs(s,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(i,{variant:"body1",children:r.yob}),e.jsx(i,{variant:"body1",color:"textSecondary",children:`(${new Date().getFullYear()-r.yob} yrs.)`})]})]})]}),[...new Set(r==null?void 0:r.results.map(o=>o.rank))].map(o=>e.jsxs(s,{display:"flex",padding:2,gap:1,border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:o<=3?"white":"",children:[e.jsx(s,{flexGrow:"auto",children:e.jsxs(i,{variant:"body1",children:[o,"."]})}),e.jsx(s,{flex:1,children:r==null?void 0:r.results.filter(n=>n.rank===o).map((n,f)=>e.jsxs(s,{display:"flex",flexDirection:"row",onClick:()=>l.navigateToTournament(n.year,n.category,n.game,n.gender),sx:{cursor:"pointer","&:hover":{backgroundColor:"#f9f9f9"},borderRadius:"4px"},children:[e.jsx(s,{flexGrow:1,children:e.jsx(i,{variant:"body1",sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:`${h[n.gender]}${n.category!==j.All?` ${j[n.category]}`:""} ${D[n.game]} ${n.year}`})}),e.jsx(s,{children:e.jsx(i,{variant:"body2",color:"textSecondary",children:`${r.yob?` ${n.year-r.yob} yrs.`:""}`})})]},f))})]},o))]})})]})]})};export{L as default};
