import{n as m,j as e,B as h,q as u,E as b,v,r as j,T as y}from"./index-BNDLhcUf.js";import{L as T,A as S,T as w,a as B,I as k,b as E}from"./ArrowBack-fb2Hf9vK.js";import{b as I,S as P,Y as g,K as Y,P as A,V as C,e as D}from"./filters-3tR4yc8w.js";import{n as f,l as $,f as L,m as _,S as z}from"./NavigationService-D3dYRzH0.js";import{T as F,a as R,b as q,c as p,d as r,e as K}from"./TableRow-DVWpfvTp.js";const V=({id:l})=>{var c;const t=f(),{t:n}=m(),{data:i,isLoading:s,error:o}=$({queryKey:["years",{id:l}],queryFn:async()=>await _.getYear(l)});return e.jsxs(h,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[s&&e.jsx(u,{}),o&&e.jsx(b,{message:o.message}),!s&&!o&&i&&e.jsx(F,{component:L,children:e.jsxs(R,{children:[e.jsx(q,{children:e.jsxs(p,{children:[e.jsx(r,{}),e.jsx(r,{align:"center",children:n("gold")}),e.jsx(r,{align:"center",children:n("silver")}),e.jsx(r,{align:"center",children:n("bronze")}),e.jsx(r,{align:"center",children:n("total")})]})}),e.jsx(K,{children:(c=i.results)==null?void 0:c.map(a=>e.jsxs(p,{children:[e.jsx(r,{children:a.fed&&e.jsx(T,{onClick:d=>{d.preventDefault(),t.navigateToFederation(a.fed)},rel:"noopener",style:{cursor:"pointer"},children:n(`federation_enum_short.${a.fed}`)})}),e.jsx(r,{align:"center",children:a.gold||0}),e.jsx(r,{align:"center",children:a.silver||0}),e.jsx(r,{align:"center",children:a.bronze||0}),e.jsx(r,{align:"center",children:(a.gold||0)+(a.silver||0)+(a.bronze||0)})]},a.fed))})]})})]})},Q=()=>{const[l]=v(),t=f(),{t:n}=m(),i=parseInt(l.get("id")||"")||I,[s,o]=j.useState(i),c=`${s} - ${n("medals_table")}`,a=n("year_description",{year:s}),d=`/years?id=${s}`;return j.useEffect(()=>{i!=s&&t.navigateToYear(s,!0)},[s]),e.jsxs(e.Fragment,{children:[e.jsx(z,{title:c,description:a,url:d,canonicalUrl:d}),e.jsxs(h,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(S,{position:"static",color:"default",children:e.jsxs(w,{children:[e.jsx(B,{title:"Back",children:e.jsx(k,{edge:"start",color:"inherit",onClick:()=>t.navigateBack(),"aria-label":"back",children:e.jsx(E,{})})}),e.jsx(y,{variant:"h6",component:"h1",children:`${s} ${n("medals_table")}`})]})}),e.jsx(h,{display:"flex",flexGrow:1,overflow:"auto",padding:{xs:2,md:2},children:e.jsx(P,{direction:"horizontal",initialSlide:g.indexOf(s),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:x=>{o(g[x.realIndex])},virtual:{enabled:!0},modules:[Y,A,C],children:g.map(x=>e.jsx(D,{children:e.jsx(h,{display:"flex",flexDirection:"column",sx:{overflow:"hidden",height:"100%"},children:e.jsx(V,{id:x})})},x))})})]})]})};export{Q as default};
