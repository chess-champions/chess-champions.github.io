import{t as k,n as B,j as e,H as $,E as y,r as d,L as w,B as s,T as i}from"./index-Cw-akkoi.js";import{A as S,T,a as _,I as E,b as C,L as g}from"./ArrowBack-CQDU0BGO.js";import{l as D,m as L,S as P,j,C as f,k as F,n as A}from"./NavigationService-BsxnscN0.js";const R=()=>{const[m]=k(),c=D(),{t:o,i18n:x}=B(),l=parseInt(m.get("id")??"")||null;if(!l)return e.jsxs(e.Fragment,{children:[e.jsx($,{children:e.jsx("meta",{name:"robots",content:"noindex"})}),e.jsx(y,{message:"Player id is missing."})]});const{data:r,isLoading:u,error:t}=L({queryKey:["players",{id:l}],queryFn:async()=>await A.getPlayer(l)}),h=d.useMemo(()=>(x.resolvedLanguage==="uk"?r==null?void 0:r.name_uk:r==null?void 0:r.name_en)||(r==null?void 0:r.name_uk)||(r==null?void 0:r.name_en)||"",[r,x.resolvedLanguage]),b=d.useMemo(()=>o("player_description"),[o]),p=d.useMemo(()=>`/players?id=${l}`,[l]);return t?e.jsx(y,{message:t.message}):u?e.jsx(w,{}):e.jsxs(e.Fragment,{children:[e.jsx(P,{title:h,description:b,url:p,canonicalUrl:p}),e.jsxs(s,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(S,{position:"static",color:(r==null?void 0:r.gender)===null?"default":(r==null?void 0:r.gender)===j.Open?"primary":"secondary",children:e.jsxs(T,{children:[e.jsx(_,{title:"Back",children:e.jsx(E,{edge:"start",color:"inherit",onClick:()=>c.navigateBack(),"aria-label":"back",children:e.jsx(C,{})})}),e.jsx(i,{variant:"h6",component:"h1",children:h})]})}),e.jsx(s,{overflow:"auto",padding:{xs:2,md:2},children:e.jsxs(s,{display:"flex",flexDirection:"column",gap:{xs:1,md:2},children:[e.jsxs(s,{display:"grid",children:[(r==null?void 0:r.id)&&r.id>0&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(i,{variant:"body1",children:[o("fide"),":"]})}),e.jsx(s,{flexBasis:"50%",children:e.jsx(g,{href:`https://ratings.fide.com/profile/${r.id}`,variant:"body1",target:"_blank",rel:"noopener",children:r.id})})]}),(r==null?void 0:r.fed)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(i,{variant:"body1",children:[o("federation"),":"]})}),e.jsx(s,{flexBasis:"50%",children:e.jsx(g,{onClick:a=>{a.preventDefault(),c.navigateToFederation(r.fed)},rel:"noopener",style:{cursor:"pointer"},children:o(`federation_enum_short.${r.fed}`)})})]}),(r==null?void 0:r.yob)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(i,{variant:"body1",children:[o("year_of_birth"),":"]})}),e.jsxs(s,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(i,{variant:"body1",children:r.yob}),e.jsx(i,{variant:"body1",color:"textSecondary",children:`(${new Date().getFullYear()-r.yob} ${o("years")})`})]})]})]}),[...new Set(r==null?void 0:r.results.map(a=>a.rank))].map(a=>e.jsxs(s,{display:"flex",padding:2,gap:1,border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:a<=3?"white":"",children:[e.jsx(s,{flexGrow:"auto",children:e.jsxs(i,{variant:"body1",children:[a,"."]})}),e.jsx(s,{flex:1,children:r==null?void 0:r.results.filter(n=>n.rank===a).map((n,v)=>e.jsxs(s,{display:"flex",flexDirection:"row",onClick:()=>c.navigateToTournament(n.year,n.category,n.game,n.gender),sx:{cursor:"pointer","&:hover":{backgroundColor:"#f9f9f9"},borderRadius:"4px"},children:[e.jsx(s,{flexGrow:1,children:e.jsx(i,{variant:"body1",sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:`${j[n.gender]}${n.category!==f.All?` ${f[n.category]}`:""} ${F[n.game]} ${n.year}`})}),e.jsx(s,{children:e.jsx(i,{variant:"body2",color:"textSecondary",children:`${r.yob?` ${n.year-r.yob} ${o("years")}`:""}`})})]},v))})]},a))]})})]})]})};export{R as default};
