import{R as b,r as a,j as e,B as i,T as c,n as v,l as C,m as f,w as _}from"./about-DSTax99k.js";import{u as w,p as R,a as u,b as g,D as F,H as S,R as T,F as $,S as B,g as L,c as k}from"./clubs-C_TAzfSe.js";import{M as p,R as d}from"./results-Di9KZnre.js";const M=({data:s})=>{const[r,o]=w("tab",R.withDefault(0)),{getFederationUrl:x}=u(),{t:n,i18n:t}=g(),l=a.useMemo(()=>(t.resolvedLanguage==="uk"?s?.name_uk:s?.name_en)||s?.name_uk||s?.name_en||"",[s,t.resolvedLanguage]),h=a.useMemo(()=>n("coach_title",{name:l}),[n,l]),m=a.useCallback((H,y)=>{o(y)},[o]),j=F.currentYear();return e.jsxs(i,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",minHeight:"100vh",children:[e.jsx(S,{title:h}),e.jsxs(i,{display:"flex",sx:{flexDirection:{xs:"column",md:"row"},gap:4},children:[s.photo&&e.jsx(i,{display:"flex",justifyContent:"center",children:e.jsx(i,{component:"img",src:s.photo,alt:l,sx:{width:150,height:150,objectFit:"cover",borderRadius:"50%",boxShadow:2}})}),e.jsxs(i,{display:"flex",flexDirection:"column",flex:1,children:[s.id&&s.id>0&&e.jsxs(i,{display:"flex",children:[e.jsx(i,{flexBasis:"50%",children:e.jsxs(c,{variant:"body1",children:[n("fide"),":"]})}),e.jsx(i,{flexBasis:"50%",children:e.jsx(v,{href:`https://ratings.fide.com/profile/${s.id}`,variant:"body1",target:"_blank",rel:"noopener",children:s.id})})]}),s.yob&&e.jsxs(i,{display:"flex",children:[e.jsx(i,{flexBasis:"50%",children:e.jsxs(c,{variant:"body1",children:[n("year_of_birth"),":"]})}),e.jsxs(i,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(c,{variant:"body1",children:s.yob}),e.jsx(c,{variant:"body1",color:"textSecondary",children:`(${j-s.yob} ${n("years")})`})]})]}),s.fed&&e.jsxs(i,{display:"flex",children:[e.jsx(i,{flexBasis:"50%",children:e.jsxs(c,{variant:"body1",children:[n("federation"),":"]})}),e.jsx(i,{flexBasis:"50%",children:e.jsx(T,{to:x(s.fed),children:n(`federation_enum_short.${s.fed}`)})})]})]})]}),e.jsxs(C,{value:r,onChange:m,children:[e.jsx(f,{label:n("results"),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(f,{label:n("player",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),e.jsxs(i,{display:"flex",flexGrow:1,children:[r===0&&e.jsx(p,{filterField:d.Coach,filterId:s.id,groupField:d.Year,results:s.years}),r===1&&e.jsx(p,{filterField:d.Coach,filterId:s.id,groupField:d.Player,results:s.players})]}),e.jsx($,{})]})},E=b.memo(M),P="/",D={async get(s){const r=B.encode(s.toString()),o=await fetch(`${P}api/coaches/${r}.json?v=bf57e2d`);if(!o.ok)throw new Error(`Failed to get coach (id=${s}) data`);return await o.json()}};async function z({params:s}){return await D.get(Number(s.id))}const N=({params:s,loaderData:r})=>{const o=Number(s.id),{getCoachUrl:x}=u(),{t:n}=g(),t=a.useMemo(()=>L(r),[r]),l=a.useMemo(()=>n("coach_title",{name:t}),[n,t]),h=a.useMemo(()=>n("coach_description",{name:t}),[n,t]);return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:l,description:h,url:x(o,!1)}),e.jsx(E,{data:r})]})},A=_(N);export{A as C,z as c};
