import{n as j,j as e,B as d,o as f,E as p,q as b,r as h}from"./index-CQmjPZkL.js";import{P as u,S as w,K as y,a as S,V as v,b as T}from"./swiper-react-CaaflgJz.js";import{R as E,H as Y,F as P}from"./RouterLink-BRyxIX_p.js";import{l as D,m as F,D as R,S as z,Y as x}from"./ChessDataService-SaehN80n.js";import{u as m}from"./useNavigationService-xBf0D6iX.js";import{T as B,a as $,b as C,c as g,d as s,e as I}from"./TableRow-DAncH9Bm.js";const L=({id:l})=>{var t;const{getFederationUrl:c}=m(),{t:i}=j(),{data:n,isLoading:o,error:r}=D({queryKey:["years",{id:l}],queryFn:async()=>await F.getYear(l)});return e.jsxs(d,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[o&&e.jsx(f,{}),r&&e.jsx(p,{message:r.message}),!o&&!r&&n&&e.jsx(B,{component:u,children:e.jsxs($,{children:[e.jsx(C,{children:e.jsxs(g,{children:[e.jsx(s,{}),e.jsx(s,{align:"center",children:i("gold")}),e.jsx(s,{align:"center",children:i("silver")}),e.jsx(s,{align:"center",children:i("bronze")}),e.jsx(s,{align:"center",children:i("total")})]})}),e.jsx(I,{children:(t=n.results)==null?void 0:t.map(a=>e.jsxs(g,{children:[e.jsx(s,{children:a.fed&&e.jsx(E,{to:c(a.fed),children:i(`federation_enum_short.${a.fed}`)})}),e.jsx(s,{align:"center",children:a.gold||0}),e.jsx(s,{align:"center",children:a.silver||0}),e.jsx(s,{align:"center",children:a.bronze||0}),e.jsx(s,{align:"center",children:(a.gold||0)+(a.silver||0)+(a.bronze||0)})]},a.fed))})]})})]})},U=()=>{const[l]=b(),{getYearUrl:c,navigateToYear:i}=m(),{t:n}=j(),o=parseInt(l.get("id")||"")||R,[r,t]=h.useState(o);return h.useEffect(()=>{o!=r&&i(r,!0)},[r]),e.jsxs(e.Fragment,{children:[e.jsx(z,{title:`${r} - ${n("medals_table")}`,description:n("year_description",{year:r}),url:c(r,!1)}),e.jsxs(d,{display:"flex",flexDirection:"column",height:"100vh",padding:2,gap:1,boxSizing:"border-box",overflow:"hidden",children:[e.jsx(Y,{title:`${r} ${n("medals_table")}`}),e.jsx(d,{display:"flex",flexGrow:1,overflow:"hidden",height:"100%",children:e.jsx(w,{direction:"horizontal",initialSlide:x.indexOf(r),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:a=>{t(x[a.realIndex])},virtual:{enabled:!0},modules:[y,S,v],children:x.map(a=>e.jsx(T,{"aria-hidden":r!==a,children:e.jsx(d,{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%",children:e.jsx(L,{id:a})})},a))})}),e.jsx(P,{})]})]})};export{U as default};
