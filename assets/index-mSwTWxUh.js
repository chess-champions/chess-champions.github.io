import{j as e,B as c,T as p,a as Pe,b as me,d as be,I as ve,A as Be,C as Ae,D as F,e as ze,P as Ie,f as Oe,g as Ve,h as ee,i as w,k as Ke,K as He,l as Ye,m as Ne,n as We,o as H,p as se,q as S,L as de,s as Fe,t as qe,u as Ge,M as Qe,v as Ze,w as Xe,G as T,x as Je}from"./mui-6Stc9Qoz.js";import{u as B,r as Ee,H as Ce,c as en,p as q,a as nn,N as tn,b as sn,U as rn}from"./analytics-Xn4sMbJu.js";import{i as on,r as h,a as k,g as he,u as an,L as V,e as ge,O as ln,B as cn,j as dn,k as L}from"./react-DFrIomIR.js";import{u as y,i as $e,B as xn,a as hn,b as gn,t as un}from"./localization-BS-apID3.js";import{r as pn,a as mn}from"./utils-BxPebh26.js";import{u as Y,Q as jn,a as fn}from"./query-aU0juBaV.js";import{S as we,K as _e,P as ke,V as Se,a as Le}from"./swiper-BSGRYWHR.js";import{R as yn,C as bn,a as vn,X as Cn,Y as $n,T as wn,L as _n,b as kn,S as Sn}from"./charts-CAxba7rQ.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();var Ln=on();const Dn=()=>e.jsxs(c,{padding:{xs:2,md:2},children:[e.jsx(p,{variant:"h4",gutterBottom:!0,children:"About Us"}),e.jsx(p,{variant:"body1",children:"Welcome to our application!"})]}),M=({message:n,height:s="100vh"})=>e.jsx(c,{display:"flex",justifyContent:"center",alignItems:"center",height:s,children:e.jsx(p,{variant:"h6",color:"error",children:n})});var ue=(n=>(n[n.WC=0]="WC",n[n.EC=1]="EC",n[n.UC=2]="UC",n))(ue||{}),N=(n=>(n[n.All=0]="All",n[n.U20=1]="U20",n[n.U18=2]="U18",n[n.U16=3]="U16",n[n.U14=4]="U14",n[n.U12=5]="U12",n[n.U10=6]="U10",n[n.U08=7]="U08",n))(N||{}),D=(n=>(n[n.Classical=0]="Classical",n[n.Rapid=1]="Rapid",n[n.Blitz=2]="Blitz",n))(D||{}),G=(n=>(n[n.Open=0]="Open",n[n.Women=1]="Women",n))(G||{}),Q=(n=>(n[n.KYI=1]="KYI",n[n.ARC=2]="ARC",n[n.VIN=3]="VIN",n[n.VOL=4]="VOL",n[n.DNI=5]="DNI",n[n.DON=6]="DON",n[n.ZHY=7]="ZHY",n[n.ZAK=8]="ZAK",n[n.ZAP=9]="ZAP",n[n.IF=10]="IF",n[n.KYO=11]="KYO",n[n.KIR=12]="KIR",n[n.LUH=13]="LUH",n[n.LVI=14]="LVI",n[n.MYK=15]="MYK",n[n.ODE=16]="ODE",n[n.POL=17]="POL",n[n.RIV=18]="RIV",n[n.SUM=19]="SUM",n[n.TER=20]="TER",n[n.KHA=21]="KHA",n[n.KHE=22]="KHE",n[n.KHM=23]="KHM",n[n.CHN=24]="CHN",n[n.CHO=25]="CHO",n[n.CHK=26]="CHK",n))(Q||{});class K{static stringToEnum(s,t){if(!s)return;const o=s.toLowerCase();for(const r in t)if(isNaN(Number(r))&&r.toLowerCase()===o)return t[r]}static getEnums(s){return Object.keys(s).filter(t=>isNaN(Number(t))).map(t=>s[t])}}const P=[2025,2024,2023,2022,2021,2020,2019,2018,2017,2016,2015,2014],Rn=K.getEnums(N),Un=K.getEnums(D),Mn=K.getEnums(G);K.getEnums(Q);const pe=2025,Tn=N.U20,Pn=D.Classical,De=G.Open,Bn=Q.KYI,Re=h.createContext("primary"),An=({children:n,gender:s})=>{const t=s!==De?"secondary":"primary";return e.jsx(Re.Provider,{value:t,children:n})},W=()=>h.useContext(Re),zn=()=>{const{i18n:n}=y(),[s,t]=B("lng",{defaultValue:Array.isArray(n.options.fallbackLng)?n.options.fallbackLng[0]:n.options.fallbackLng}),o=W(),r=h.useCallback((i,a)=>{t(a)},[t]);return h.useEffect(()=>{n.changeLanguage(s)},[n,s]),e.jsxs(Pe,{color:o,value:n.resolvedLanguage,exclusive:!0,onChange:r,size:"small",children:[e.jsx(me,{value:"uk",children:"Ua"}),e.jsx(me,{value:"en",children:"En"})]})},Ue=k.memo(zn),re=()=>e.jsx(c,{children:e.jsx(Ue,{})});var In=Ee();const je=he(In),On=()=>(h.useEffect(()=>{je.initialize("G-SW36B6D87J",{gtagOptions:{send_page_view:!1},testMode:!1});const n=new MutationObserver(()=>{je.send({hitType:"pageview",page:location.pathname+location.search})}),s=document.querySelector("title");return s&&n.observe(s,{childList:!0}),()=>n.disconnect()},[]),null),_=()=>{const{i18n:n}=y(),s=an(),t=Array.isArray(n.options.fallbackLng)?n.options.fallbackLng[0]:n.options.fallbackLng,o=(j,f)=>!f||f===t?j:`${j}${j.includes("?")?"&":"?"}lng=${f}`;return{localizeUrl:o,getAlternateUrls:j=>["uk","en"].map(f=>({lng:f,url:o(j,f)})),getTournamentUrl:(j,f,R,C,I=!0)=>o(`/?year=${j}&category=${N[f]}&game=${D[R]}&gender=${G[C]}`,I?n.resolvedLanguage:void 0),getPlayerUrl:(j,f=!0)=>o(`/players/?id=${j}`,f?n.resolvedLanguage:void 0),getFederationUrl:(j,f=!0)=>o(`/feds/?id=${Q[j]}`,f?n.resolvedLanguage:void 0),getClubUrl:(j,f=!0)=>o(`/clubs/?id=${j}`,f?n.resolvedLanguage:void 0),getCoachUrl:(j,f=!0)=>o(`/coaches/?id=${j}`,f?n.resolvedLanguage:void 0),getStatsUrl:(j,f=!0)=>o(`/stats/?year=${j}`,f?n.resolvedLanguage:void 0),navigateBack:()=>{(window.history.state?.idx??0)<=0?s(o("/",n.resolvedLanguage)):s(-1)}}},oe=({title:n})=>{const{navigateBack:s}=_(),{t}=y();return e.jsxs(c,{display:"flex",alignItems:"center",children:[e.jsx(be,{title:t("back"),children:e.jsx(ve,{edge:"start",color:"inherit",onClick:s,"aria-label":"back",children:e.jsx(Be,{})})}),e.jsx(p,{variant:"h6",component:"h1",ml:1,noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:n})]})},z=({height:n="100vh"})=>e.jsx(c,{display:"flex",justifyContent:"center",alignItems:"center",height:n,children:e.jsx(Ae,{size:"30px"})}),ne=({to:n,children:s})=>e.jsx(V,{to:n,style:{textDecoration:"none",color:"inherit",display:"inline"},onClick:t=>t.stopPropagation(),children:e.jsx(p,{variant:"body1",color:"primary",sx:{display:"inline",textDecoration:"underline",textDecorationColor:"rgba(25, 118, 210, 0.4)","&:hover":{textDecorationColor:"rgba(25, 118, 210, 1)"}},children:s})}),ce=()=>e.jsx(Ce,{children:e.jsx("meta",{name:"robots",content:"noindex"})}),Z=({title:n,description:s,url:t})=>{const{t:o,i18n:r}=y(),{localizeUrl:i,getAlternateUrls:a}=_(),l=o("site_name"),d=h.useMemo(()=>typeof window<"u"?window.location.origin:"https://chess-champions.github.io",[]),g=i(t,r.resolvedLanguage);return e.jsxs(Ce,{titleTemplate:o("title_template"),children:[e.jsx("title",{children:n}),e.jsx("meta",{name:"description",content:s}),e.jsx("link",{rel:"canonical",href:`${d}${g}`}),a(t).map(({lng:u,url:v})=>e.jsx("link",{id:`alt-${u}`,rel:"alternate",hrefLang:u,href:`${d}${v}`})),e.jsx("meta",{property:"og:locale",content:r.resolvedLanguage}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:title",content:n}),e.jsx("meta",{property:"og:description",content:s}),e.jsx("meta",{property:"og:url",content:`${d}${g}`}),e.jsx("meta",{property:"og:site_name",content:l}),e.jsx("meta",{property:"og:image",content:`${d}/logo-1200x630.jpg`}),e.jsx("meta",{property:"og:image:secure_url",content:`${d}/logo-1200x630.jpg`}),e.jsx("meta",{property:"og:image:width",content:"1200"}),e.jsx("meta",{property:"og:image:height",content:"630"}),e.jsx("meta",{property:"og:image:alt",content:l}),e.jsx("meta",{property:"og:image:type",content:"image/jpeg"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:n}),e.jsx("meta",{name:"twitter:description",content:s}),e.jsx("meta",{name:"twitter:image",content:`${d}/logo-1200x630.jpg`})]})};$e.use(xn).use(hn).use(gn).init({fallbackLng:"uk",detection:{order:["querystring"]},interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}.json",queryStringParams:{v:"4d5a0a1"}}});function ie(n){if(!n)return"";const s=n.name_uk??"",t=n.name_en??"";return(($e.resolvedLanguage||"uk")==="uk"?s:t)||s||t||""}function te(n){return en({parse(s){if(s==null)return null;const t=K.stringToEnum(s,n);return t!==void 0?t:null},serialize(s){return String(n[s])}})}var Vn=pn();const Kn=he(Vn);var Hn=mn();const Yn=he(Hn);class A{static encode(s){return Kn(Yn.parse(s)).toString()}}const Nn="/",Wn={async getClub(n){const s=A.encode(n.toString()),t=await fetch(`${Nn}api/clubs/${s}.json?v=4d5a0a1`);if(!t.ok)throw new Error(`Failed to get club (id=${n}) data`);return await t.json()}};var m=(n=>(n[n.Year=0]="Year",n[n.Federation=1]="Federation",n[n.Club=2]="Club",n[n.Coach=3]="Coach",n[n.Player=4]="Player",n))(m||{});const O=({national:n,international:s})=>e.jsxs(c,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:{xs:"column",sm:"row"},children:[e.jsx(p,{fontSize:"0.85rem",fontWeight:"500",children:n}),s>0&&e.jsxs(e.Fragment,{children:[e.jsx(p,{fontSize:"0.85rem",fontWeight:"500",display:{xs:"none",sm:"inline"},children:" + "}),e.jsx(p,{fontSize:"0.85rem",fontWeight:"500",color:"primary",children:s})]})]}),Fn="/",fe={[m.Year]:"years",[m.Federation]:"feds",[m.Club]:"clubs",[m.Coach]:"coaches",[m.Player]:"players"},qn={async get(n,s,t,o){n>t&&([n,t]=[t,n],[s,o]=[o,s]);const r=fe[n],i=A.encode(s.toString()),a=fe[t],l=A.encode(o.toString()),d=`${Fn}api/results/${r}/${i}/${a}/${l}.json?v=4d5a0a1`,g=await fetch(d);if(!g.ok)throw new Error(`Failed to get results (${m[n]}=${s}, ${m[t]}=${o})`);return await g.json()}},Gn=({data:n,showDetails:s})=>{const{getTournamentUrl:t,getPlayerUrl:o}=_(),{t:r,i18n:i}=y(),a=(l,d,g,u,v)=>{const j=r(`type_enum_short.${l}`),f=r(`game_enum_short.${u}`),R=r(`gender_category.${v}.${g}`);return R?`${j} ${d} ${f} - ${R}`:`${j} ${d} ${f}`};return[...new Set(n.map(l=>l.rank))].map(l=>e.jsxs(c,{display:"flex",flexDirection:"row",padding:2,gap:2,border:"1px solid #ddd",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:l===1?"#ffffff":l===2?"#fcfcfc":l===3?"#f7f7f7":l===4?"#ededed":l===5?"#e5e5e5":"transparent",children:[e.jsx(c,{children:e.jsxs(p,{variant:"body1",children:[l,"."]})}),e.jsx(c,{flex:1,children:n.filter(d=>d.rank===l).map((d,g,u)=>e.jsxs(k.Fragment,{children:[e.jsxs(c,{display:"flex",flexDirection:{xs:"column",md:"row"},gap:1,alignItems:{xs:"flex-start",md:"center"},sx:{"&:hover":{backgroundColor:"#f9f9f9"},borderRadius:"4px"},children:[e.jsx(V,{to:t(d.year,d.category,d.game,d.gender),style:{textDecoration:"none",color:"inherit",flex:1},children:e.jsx(p,{variant:"body1",color:d.type===ue.UC?"textPrimary":"primary",sx:{"&:hover":{textDecoration:"underline"}},children:a(d.type,d.year,d.category,d.game,d.gender)})}),s&&e.jsx(V,{to:o(d.id),style:{textDecoration:"none",color:"inherit"},children:e.jsx(p,{variant:"body2",color:"textSecondary",sx:{"&:hover":{textDecoration:"underline"}},children:(i.resolvedLanguage==="uk"?d.name_uk:d.name_en)||d.name_uk||d.name_en||""})})]}),g<u.length-1&&e.jsx(F,{sx:{my:1}})]},g))})]},l))},Qn=({filterField:n,filterId:s,subFilterField:t,subFilterId:o})=>{const{data:r,isLoading:i,error:a}=Y({queryKey:["results",{filterField:n,filterId:s,subFilterField:t,subFilterId:o}],queryFn:async()=>await qn.get(n,s,t,o)});return e.jsxs(c,{display:"flex",flexDirection:"column",gap:1,children:[i&&e.jsx(z,{height:"auto"}),a&&e.jsx(M,{message:a.message,height:"auto"}),!i&&!a&&r&&e.jsx(Gn,{data:r.results,showDetails:n!==m.Player&&t!==m.Player})]})},U=({filterField:n,filterId:s,groupField:t,results:o})=>{const[r,i]=h.useState(null),[a,l]=h.useState(20),d=o.slice(0,a),g=()=>{l(x=>x+20)},{getFederationUrl:u,getClubUrl:v,getCoachUrl:j,getPlayerUrl:f,getStatsUrl:R}=_(),{t:C,i18n:I}=y(),X=()=>{switch(t){case m.Year:return C("year");case m.Federation:return C("federation");case m.Club:return C("club");case m.Coach:return C("coach");case m.Player:return C("player");default:throw new Error(`Unhandled group field in getGroupTitle: ${t}`)}},J=x=>{switch(t){case m.Year:return R(x);case m.Federation:return u(x);case m.Club:return v(x);case m.Coach:return j(x);case m.Player:return f(x);default:throw new Error(`Unhandled group field in getGroupProfileUrl: ${t}`)}};function E(x){const b=(I.resolvedLanguage==="uk"?x.name_uk:x.name_en)||x.name_uk||x.name_en;return b||(t===m.Year?x.id.toString():"")}return e.jsx(ze,{component:Ie,children:e.jsxs(Oe,{stickyHeader:!0,sx:{"& th, & td":{padding:{xs:"6px 8px",sm:"6px 10px",md:"6px 12px",lg:"6px 16px"},verticalAlign:"top"}},children:[e.jsx(Ve,{children:e.jsxs(ee,{children:[e.jsx(w,{}),e.jsx(w,{children:e.jsx(p,{children:X()})}),e.jsx(w,{children:e.jsxs(c,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(c,{sx:{display:{xs:"none",sm:"block"}},children:C("gold")}),e.jsx("img",{alt:C("gold"),width:"16",height:"16",src:"/gold.svg"})]})}),e.jsx(w,{children:e.jsxs(c,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(c,{sx:{display:{xs:"none",sm:"block"}},children:C("silver")}),e.jsx("img",{alt:C("silver"),width:"16",height:"16",src:"/silver.svg"})]})}),e.jsx(w,{children:e.jsxs(c,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(c,{sx:{display:{xs:"none",sm:"block"}},children:C("bronze")}),e.jsx("img",{alt:C("bronze"),width:"16",height:"16",src:"/bronze.svg"})]})}),e.jsx(w,{children:e.jsxs(c,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(c,{sx:{display:{xs:"none",sm:"block"}},children:C("total")}),e.jsx("img",{alt:C("total"),width:"16",height:"16",src:"/total.svg"})]})})]})}),e.jsx(Ke,{children:d?.map(x=>e.jsxs(k.Fragment,{children:[e.jsxs(ee,{sx:{"& td":{borderBottom:"none"}},onClick:()=>i(x.id===r?null:x.id),children:[e.jsx(w,{children:e.jsxs(c,{display:"flex",flexDirection:"row",alignItems:"center",gap:2,children:[e.jsx(ve,{sx:{padding:"0px"},size:"small",onClick:b=>{b.stopPropagation(),i(x.id===r?null:x.id)},children:x.id===r?e.jsx(He,{}):e.jsx(Ye,{})}),x.rank&&e.jsxs(p,{children:[x.rank,"."]})]})}),e.jsx(w,{children:x.id!=0?e.jsx(ne,{to:J(x.id),children:E(x)}):C("notSpecified")}),e.jsx(w,{children:e.jsx(O,{national:x.national.gold,international:x.international.gold})}),e.jsx(w,{children:e.jsx(O,{national:x.national.silver,international:x.international.silver})}),e.jsx(w,{children:e.jsx(O,{national:x.national.bronze,international:x.international.bronze})}),e.jsx(w,{align:"center",children:x.national.gold+x.national.silver+x.national.bronze+x.international.gold+x.international.silver+x.international.bronze})]}),e.jsx(ee,{children:e.jsx(w,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:e.jsx(Ne,{in:x.id===r,timeout:"auto",unmountOnExit:!0,children:e.jsx(c,{marginTop:1,marginBottom:2,children:e.jsx(Qn,{filterField:n,filterId:s,subFilterField:t,subFilterId:x.id})})})})})]},`${n}_${x.id}`))}),e.jsxs(We,{children:[a<o.length&&e.jsx(ee,{children:e.jsx(w,{colSpan:6,align:"center",sx:{padding:2},children:e.jsx(H,{variant:"outlined",onClick:g,children:C("load_more")})})}),e.jsxs(ee,{children:[e.jsx(w,{colSpan:2,children:e.jsx(p,{fontWeight:"bold",children:C("total")})}),e.jsx(w,{children:e.jsx(O,{national:o.reduce((x,b)=>x+b.national.gold,0),international:o.reduce((x,b)=>x+b.international.gold,0)})}),e.jsx(w,{children:e.jsx(O,{national:o.reduce((x,b)=>x+b.national.silver,0),international:o.reduce((x,b)=>x+b.international.silver,0)})}),e.jsx(w,{children:e.jsx(O,{national:o.reduce((x,b)=>x+b.national.bronze,0),international:o.reduce((x,b)=>x+b.international.bronze,0)})}),e.jsx(w,{children:e.jsx(O,{national:o.reduce((x,b)=>x+b.national.gold+b.national.silver+b.national.bronze,0),international:o.reduce((x,b)=>x+b.international.gold+b.international.silver+b.international.bronze,0)})})]})]})]})})},Me=({data:n})=>{const[s,t]=B("tab",q.withDefault(0)),{t:o,i18n:r}=y(),i=h.useMemo(()=>(r.resolvedLanguage==="uk"?n?.name_uk:n?.name_en)||n?.name_uk||n?.name_en||"",[n,r.resolvedLanguage]),a=h.useMemo(()=>o("club_title",{name:i}),[o,i]),l=h.useCallback((d,g)=>{t(g)},[t]);return e.jsxs(c,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",minHeight:"100vh",children:[e.jsx(oe,{title:a}),e.jsxs(se,{value:s,onChange:l,children:[e.jsx(S,{label:o("results"),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:o("coach",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:o("player",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),e.jsxs(c,{display:"flex",flexGrow:1,children:[s===0&&e.jsx(U,{filterField:m.Club,filterId:n.id,groupField:m.Year,results:n.years}),s===1&&e.jsx(U,{filterField:m.Club,filterId:n.id,groupField:m.Coach,results:n.coaches}),s===2&&e.jsx(U,{filterField:m.Club,filterId:n.id,groupField:m.Player,results:n.players})]}),e.jsx(re,{})]})};k.memo(Me);const Zn=({id:n})=>{const{getClubUrl:s}=_(),{t,i18n:o}=y(),{data:r,isLoading:i,error:a}=Y({queryKey:["clubs",{id:n}],queryFn:async()=>await Wn.getClub(n),enabled:!!n}),l=h.useMemo(()=>(o.resolvedLanguage==="uk"?r?.name_uk:r?.name_en)||r?.name_uk||r?.name_en||"",[r,o.resolvedLanguage]),d=h.useMemo(()=>t("club_title",{name:l}),[t,l]),g=h.useMemo(()=>t("club_description",{name:l}),[t,l]);if(!n)return e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx(M,{message:"Club is missing."})]});if(a)return e.jsx(M,{message:a.message});if(i)return e.jsx(z,{});if(r)return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:d,description:g,url:s(n,!1)}),e.jsx(Me,{data:r})]})},Xn=k.memo(Zn),Jn=()=>{const[n]=ge(),s=parseInt(n.get("id")??"")||null;return e.jsx(Xn,{id:s})},En="/",et={async get(n){const s=A.encode(n.toString()),t=await fetch(`${En}api/coaches/${s}.json?v=4d5a0a1`);if(!t.ok)throw new Error(`Failed to get coach (id=${n}) data`);return await t.json()}},nt=({data:n})=>{const[s,t]=B("tab",q.withDefault(0)),{getFederationUrl:o}=_(),{t:r,i18n:i}=y(),a=h.useMemo(()=>(i.resolvedLanguage==="uk"?n?.name_uk:n?.name_en)||n?.name_uk||n?.name_en||"",[n,i.resolvedLanguage]),l=h.useMemo(()=>r("coach_title",{name:a}),[r,a]),d=h.useCallback((g,u)=>{t(u)},[t]);return e.jsxs(c,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",minHeight:"100vh",children:[e.jsx(oe,{title:l}),e.jsxs(c,{display:"flex",sx:{flexDirection:{xs:"column",md:"row"},gap:4},children:[n.photo&&e.jsx(c,{display:"flex",justifyContent:"center",children:e.jsx(c,{component:"img",src:n.photo,alt:a,sx:{width:150,height:150,objectFit:"cover",borderRadius:"50%",boxShadow:2}})}),e.jsxs(c,{display:"flex",flexDirection:"column",flex:1,children:[n.id&&n.id>0&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(p,{variant:"body1",children:[r("fide"),":"]})}),e.jsx(c,{flexBasis:"50%",children:e.jsx(de,{href:`https://ratings.fide.com/profile/${n.id}`,variant:"body1",target:"_blank",rel:"noopener",children:n.id})})]}),n.yob&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(p,{variant:"body1",children:[r("year_of_birth"),":"]})}),e.jsxs(c,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(p,{variant:"body1",children:n.yob}),e.jsx(p,{variant:"body1",color:"textSecondary",children:`(${new Date().getFullYear()-n.yob} ${r("years")})`})]})]}),n.fed&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(p,{variant:"body1",children:[r("federation"),":"]})}),e.jsx(c,{flexBasis:"50%",children:e.jsx(ne,{to:o(n.fed),children:r(`federation_enum_short.${n.fed}`)})})]})]})]}),e.jsxs(se,{value:s,onChange:d,children:[e.jsx(S,{label:r("results"),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:r("player",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),e.jsxs(c,{display:"flex",flexGrow:1,children:[s===0&&e.jsx(U,{filterField:m.Coach,filterId:n.id,groupField:m.Year,results:n.years}),s===1&&e.jsx(U,{filterField:m.Coach,filterId:n.id,groupField:m.Player,results:n.players})]}),e.jsx(re,{})]})},tt=k.memo(nt),st=({id:n})=>{const{getCoachUrl:s}=_(),{t,i18n:o}=y(),{data:r,isLoading:i,error:a}=Y({queryKey:["coaches",{id:n}],queryFn:async()=>await et.get(n),enabled:!!n}),l=h.useMemo(()=>(o.resolvedLanguage==="uk"?r?.name_uk:r?.name_en)||r?.name_uk||r?.name_en||"",[r,o.resolvedLanguage]),d=h.useMemo(()=>t("coach_title",{name:l}),[t,l]),g=h.useMemo(()=>t("coach_description",{name:l}),[t,l]);if(!n)return e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx(M,{message:"Coach id is missing."})]});if(a)return e.jsx(M,{message:a.message});if(i)return e.jsx(z,{});if(r)return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:d,description:g,url:s(n,!1)}),e.jsx(tt,{data:r})]})},rt=k.memo(st),ot=()=>{const[n]=ge(),s=parseInt(n.get("id")??"")||null;return e.jsx(rt,{id:s})},it="/",at={async get(n){const s=A.encode(n.toString()),t=await fetch(`${it}api/feds/${s}.json?v=4d5a0a1`);if(!t.ok)throw new Error(`Failed to get federation (id=${Q[n]}) data`);return await t.json()}},lt=({data:n})=>{const{t:s,i18n:t}=y(),o=(a,l)=>t.resolvedLanguage==="uk"?a||l||"":l||a||"",r=(a,l,d)=>{const g=o(l,d);return g?e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(p,{variant:"body1",children:[s(a),":"]})}),e.jsx(c,{flexBasis:"50%",children:e.jsx(p,{variant:"body1",children:g})})]},a):null},i=(a,l)=>l?e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(p,{variant:"body1",children:[s(a),":"]})}),e.jsx(c,{flexBasis:"50%",children:e.jsx(de,{href:l.startsWith("http://")||l.startsWith("https://")?l:`http://${l}`,target:"_blank",rel:"noopener noreferrer",underline:"hover",children:e.jsx(p,{variant:"body1",children:l})})})]},a):null;return e.jsxs(c,{display:"grid",children:[r("president",n.president_uk,n.president_en),r("first_vice_president",n.first_vice_president_uk,n.first_vice_president_en),r("vice_president",n.vice_president_uk,n.vice_president_en),r("head",n.head_uk,n.head_en),r("deputy_head",n.deputy_head_uk,n.deputy_head_en),r("executive_director",n.executive_director_uk,n.executive_director_en),r("secretary",n.secretary_uk,n.secretary_en),i("site",n.site)]})},ct=({id:n,data:s})=>{const[t,o]=B("tab",q.withDefault(0)),{t:r}=y(),i=h.useCallback((a,l)=>{o(l)},[o]);return e.jsxs(c,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",minHeight:"100vh",children:[e.jsx(oe,{title:r(`federation_enum.${n}`)}),e.jsx(lt,{data:s}),e.jsxs(se,{value:t,onChange:i,children:[e.jsx(S,{label:r("results"),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:r("club",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:r("coach",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:r("player",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),e.jsxs(c,{display:"flex",flexGrow:1,children:[t===0&&e.jsx(U,{filterField:m.Federation,filterId:n,groupField:m.Year,results:s.years}),t===1&&e.jsx(U,{filterField:m.Federation,filterId:n,groupField:m.Club,results:s.clubs}),t===2&&e.jsx(U,{filterField:m.Federation,filterId:n,groupField:m.Coach,results:s.coaches}),t===3&&e.jsx(U,{filterField:m.Federation,filterId:n,groupField:m.Player,results:s.players})]}),e.jsx(re,{})]})},dt=k.memo(ct),xt=({id:n})=>{const{getFederationUrl:s}=_(),{t}=y(),{data:o,isLoading:r,error:i}=Y({queryKey:["federations",{id:n}],queryFn:async()=>await at.get(n)}),a=h.useMemo(()=>`${t(`federation_enum.${n}`)}`,[n,t]),l=h.useMemo(()=>t("federation_description",{federation:t(`federation_enum2.${n}`)}),[n,t]);if(i)return e.jsx(M,{message:i.message});if(r)return e.jsx(z,{});if(o)return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:a,description:l,url:s(n,!1)}),e.jsx(dt,{id:n,data:o})]})},ht=k.memo(xt),gt=()=>{const[n]=B("id",te(Q).withDefault(Bn).withOptions({clearOnDefault:!1}));return e.jsx(ht,{id:n})},ut=({year:n,category:s,game:t,gender:o})=>{const{t:r}=y(),{getTournamentUrl:i}=_(),a=h.useMemo(()=>r(`gender_category.${o}.${s}`),[o,s,r]),l=h.useMemo(()=>{const u=r(`game_enum.${t}`);return a?`${n} ${u} - ${a}`:`${n} ${u}`},[n,t,a,r]),d=h.useMemo(()=>r("description",{game:r(`game_enum2.${t}`),gender_category:r(`gender_category_full.${o}.${s}`),year:n}),[n,s,t,o,r]),g=h.useMemo(()=>i(n,s,t,o,!1),[n,s,t,o]);return e.jsx(Z,{title:l,description:d,url:g})},pt=({category:n,setCategory:s,direction:t="column"})=>{const o=W(),{t:r}=y();return e.jsx(c,{display:"flex",flexDirection:t,children:Rn.map(i=>e.jsx(H,{variant:i===n?"contained":"text",color:o,onClick:()=>s(i),children:r(`category_enum_short.${i}`)},i))})},mt=k.memo(pt),jt=({game:n,setGame:s,direction:t="column"})=>{const o=W(),{t:r}=y();return e.jsx(c,{display:"flex",flexDirection:t,children:Un.map(i=>e.jsx(H,{variant:i===n?"contained":"text",color:o,sx:{textTransform:"none"},onClick:()=>s(i),children:r(`game_enum_short_short.${i}`)},i))})},ft=k.memo(jt),yt=({gender:n,setGender:s,direction:t="column"})=>{const o=W(),{t:r}=y();return e.jsx(c,{display:"flex",flexDirection:t,justifyContent:"center",alignItems:"center",gap:{xs:0,md:1},children:Mn.map(i=>e.jsx(H,{variant:i===n?"contained":"text",color:o,onClick:()=>s(i),children:r(`gender_enum_short.${i}`)},i))})},bt=k.memo(yt),vt=({year:n})=>{const s=W(),{t}=y(),{getStatsUrl:o}=_();return e.jsx(be,{title:t("stats",{year:n}),children:e.jsx(H,{component:V,to:o(n,!0),variant:"outlined",color:s,sx:{width:40,height:40,minWidth:40,padding:0,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",textTransform:"none"},children:e.jsx(Fe,{fontSize:"small"})})})},Ct=k.memo(vt),$t="/",wt={async getTournaments(n,s,t,o){const r=A.encode(`${n}_${s}_${t}_${o}`),i=await fetch(`${$t}api/tournaments/${r}.json?v=4d5a0a1`);if(!i.ok)throw new Error(`Failed to get tournament (year:${n}, category: ${N[s]}, game: ${D[t]}, gender: ${G[o]}) data`);return await i.json()}},_t=({result:n})=>{const{t:s,i18n:t}=y(),{getPlayerUrl:o}=_(),r=W(),i=(t.resolvedLanguage=="uk"?n.name_uk:n.name_en)||n.name_uk||n.name_en,a=[n.club,n.coach1,n.coach2,n.coach3].filter(Boolean).join(", ")||n.notes;return e.jsx(V,{to:o(n.id),style:{textDecoration:"none",color:"inherit"},children:e.jsxs(c,{padding:2,gap:{xs:1,md:2},display:"flex",border:"1px solid #ddd",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:n.rank<=3?"white":"",sx:{cursor:"pointer"},children:[e.jsx(c,{children:e.jsxs(p,{variant:"body1",children:[n.rank,"."]})}),e.jsxs(c,{flexGrow:1,children:[e.jsx(p,{variant:"body1",children:i}),a&&e.jsx(p,{variant:"body2",color:"textSecondary",paddingLeft:1,children:a})]}),e.jsxs(c,{children:[n.fed&&e.jsx(p,{variant:"body2",color:r,textAlign:"right",children:s(`federation_enum_short.${n.fed}`)}),n.points!=null&&e.jsx(p,{variant:"body2",color:"textSecondary",textAlign:"right",children:n.points})]})]})})},kt=({tournament:n})=>{const{t:s,i18n:t}=y(),o=e.jsx(p,{component:"h3",variant:"body2",color:"textSecondary",align:"center",sx:n.id&&n.id>=0?{"&:hover":{textDecoration:"underline"}}:{},children:[s(`type_enum.${n.type}`),t.resolvedLanguage==="uk"?n.location_uk:n.location_en,n.date||null].filter(Boolean).join(", ")});return e.jsxs(c,{display:"flex",flexDirection:"column",gap:1,children:[n.id&&n.id>=0?e.jsx(de,{href:`https://chess-results.com/tnr${n.id}.aspx?art=1`,target:"_blank",rel:"noopener",style:{textDecoration:"none",color:"inherit"},children:o}):o,((n.round??0)>0&&(n.round??0)<(n.rounds||1/0)||n.missedResults)&&e.jsxs(p,{component:"h4",variant:"body2",color:"textSecondary",align:"center",children:[s("rankAfterRound",{round:n.round??0}),n.missedResults?` (${s("missingResults",{count:n.missedResults})})`:""]}),n.results?.map((r,i)=>e.jsx(_t,{result:r},`${n.id}_${i}`))]})},St=({year:n,category:s,game:t,gender:o})=>{const{data:r,isLoading:i,error:a}=Y({queryKey:["tournaments",{year:n,category:s,game:t,gender:o}],queryFn:async()=>await wt.getTournaments(n,s,t,o)});return e.jsxs(c,{display:"flex",flexDirection:"column",gap:{xs:1,md:2},flexGrow:1,marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[i&&e.jsx(z,{}),a&&e.jsx(M,{message:a.message}),!i&&!a&&r&&r.length===0&&e.jsx(p,{variant:"body1",color:"textSecondary",align:"center",children:un("noData")}),!i&&!a&&r&&r.length>0&&r.map((l,d)=>e.jsx(kt,{tournament:l},`${n}_${d}`))]})},Lt=({year:n,setYear:s})=>{const t=W();return e.jsx(qe,{variant:"popover",popupId:"year-menu",children:o=>e.jsxs(k.Fragment,{children:[e.jsx(H,{variant:"contained",color:t,...Ge(o),children:n}),e.jsx(Qe,{...Ze(o),children:P.map(r=>e.jsx(Xe,{selected:r===n,onClick:()=>{o.close(),setTimeout(()=>{s(r)},50)},children:r},r))})]})})},Dt=k.memo(Lt),Rt=({year:n,setYear:s,category:t,setCategory:o,game:r,setGame:i,gender:a,setGender:l})=>{const{t:d}=y(),g=h.useMemo(()=>d(`gender_category.${a}.${t}`),[t,a,d]),u=h.useRef(null),v=h.useCallback(j=>u.current?.swiper?.slideToLoop(P.indexOf(j)),[]);return e.jsx(An,{gender:a,children:e.jsxs(T,{container:!0,spacing:{xs:1,md:2},padding:2,minHeight:"100vh",children:[e.jsxs(T,{container:!0,direction:"column",gap:{xs:1,md:2},size:"auto",children:[e.jsx(Dt,{year:n,setYear:v}),e.jsx(F,{}),e.jsx(mt,{category:t,setCategory:o}),e.jsx(F,{}),e.jsx(ft,{game:r,setGame:i}),e.jsx(F,{}),e.jsx(c,{display:"flex",flexDirection:"column",flexGrow:1}),e.jsx(c,{display:"flex",alignItems:"center",justifyContent:"center",children:e.jsx(Ct,{year:n})}),e.jsx(F,{}),e.jsx(Ue,{})]}),e.jsxs(T,{container:!0,direction:"column",size:"grow",children:[e.jsx(bt,{gender:a,setGender:l,direction:"row"}),e.jsx(T,{size:"grow",children:e.jsx(we,{ref:u,direction:"horizontal",initialSlide:P.indexOf(n),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:j=>{const f=P[j.realIndex];f!==n&&s(f)},virtual:{enabled:!0},modules:[_e,ke,Se],children:P.map(j=>e.jsx(Le,{"aria-hidden":n!==j,children:e.jsxs(c,{display:"flex",flexDirection:"column",gap:{xs:1,md:2},children:[e.jsxs(c,{children:[e.jsxs(p,{variant:"h5",component:"h1",align:"center",children:[d(`game_enum.${r}`)," ",j]}),e.jsx(p,{variant:"h6",component:"h2",align:"center",color:"textSecondary",children:g})]}),e.jsx(St,{year:j,category:t,game:r,gender:a})]})},j))})})]})]})})},Ut=k.memo(Rt),Mt=()=>{const[{year:n,category:s,game:t,gender:o},r]=nn({year:q.withDefault(pe).withOptions({clearOnDefault:!1}),category:te(N).withDefault(Tn).withOptions({clearOnDefault:!1}),game:te(D).withDefault(Pn).withOptions({clearOnDefault:!1}),gender:te(G).withDefault(De).withOptions({clearOnDefault:!1})}),i=h.useCallback(g=>r(u=>({...u,year:g})),[r]),a=h.useCallback(g=>r(u=>({...u,category:g})),[r]),l=h.useCallback(g=>r(u=>({...u,game:g})),[r]),d=h.useCallback(g=>r(u=>({...u,gender:g})),[r]);return e.jsxs(e.Fragment,{children:[e.jsx(ut,{year:n,category:s,game:t,gender:o}),e.jsx(Ut,{year:n,setYear:i,category:s,setCategory:a,game:t,setGame:l,gender:o,setGender:d})]})},Tt=({data:n})=>{const{getFederationUrl:s,getClubUrl:t,getCoachUrl:o}=_(),{t:r}=y();return e.jsxs(c,{display:"flex",sx:{flexDirection:{xs:"column",md:"row"},gap:4},children:[n.photo&&e.jsx(c,{display:"flex",justifyContent:"center",children:e.jsx(c,{component:"img",src:n.photo,alt:ie(n),sx:{width:150,height:150,objectFit:"cover",borderRadius:"50%",boxShadow:2}})}),e.jsxs(c,{display:"flex",flexDirection:"column",flex:1,children:[n.id&&n.id>0&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(p,{variant:"body1",children:[r("fide"),":"]})}),e.jsx(c,{flexBasis:"50%",children:e.jsx(de,{href:`https://ratings.fide.com/profile/${n.id}`,variant:"body1",target:"_blank",rel:"noopener",children:n.id})})]}),n.yob&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(p,{variant:"body1",children:[r("year_of_birth"),":"]})}),e.jsxs(c,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(p,{variant:"body1",children:n.yob}),e.jsx(p,{variant:"body1",color:"textSecondary",children:`(${new Date().getFullYear()-n.yob} ${r("years")})`})]})]}),n.fed&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(p,{variant:"body1",children:[r("federation"),":"]})}),e.jsxs(c,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(ne,{to:s(n.fed),children:r(`federation_enum_short.${n.fed}`)}),n.fed2&&e.jsxs(e.Fragment,{children:[e.jsx(p,{variant:"body1",color:"textSecondary",children:"/"}),e.jsx(p,{variant:"body1",color:"textSecondary",children:ie(n.fed2)})]})]})]}),n.clubs&&n.clubs.length>0&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(p,{variant:"body1",children:[r("club",{count:n.clubs.length}),":"]})}),e.jsx(c,{flexBasis:"50%",display:"flex",flexDirection:"column",children:n.clubs.map((i,a)=>{const l=ie(i);return i.id?e.jsx(c,{alignSelf:"flex-start",children:e.jsx(ne,{to:t(Number(i.id)),children:l})},a):e.jsx(p,{variant:"body1",children:l},a)})})]}),n.coaches&&n.coaches.length>0&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(p,{variant:"body1",children:[r("coach",{count:n.coaches.length}),":"]})}),e.jsx(c,{flexBasis:"50%",display:"flex",flexDirection:"column",children:n.coaches.map((i,a)=>{const l=ie(i);return i.id?e.jsx(c,{alignSelf:"flex-start",children:e.jsx(ne,{to:o(Number(i.id)),children:l})},a):e.jsx(p,{variant:"body1",children:l},a)})})]})]})]})},xe={[D.Classical]:"#4C72B0",[D.Rapid]:"#55A868",[D.Blitz]:"#C44E52"},Pt=({results:n,yob:s})=>{const{t}=y(),o=n.filter((a,l,d)=>d.findIndex(g=>g.year===a.year&&g.game===a.game&&g.rank<=a.rank)===l).sort((a,l)=>a.year-l.year),r=({x:a,y:l,payload:d})=>{if(!d||d.value===void 0)return null;const g=d.value,u=g-(s??g);return e.jsxs("g",{transform:`translate(${a},${l})`,children:[e.jsx("text",{x:0,y:0,dy:10,textAnchor:"middle",fill:"#666",children:g}),u>0&&e.jsxs("text",{x:0,y:15,dy:10,textAnchor:"middle",fill:"#999",children:[u," ",t("years")]})]})},i=({active:a,payload:l,label:d})=>{if(!a||!l||l.length===0)return null;const g=d;return e.jsxs("div",{style:{backgroundColor:"white",padding:10,border:"1px solid #ccc",borderRadius:5},children:[g,n.filter(u=>u.year===g).sort((u,v)=>u.rank-v.rank||u.game-v.game||u.category-v.category).map((u,v)=>e.jsxs("div",{children:[u.rank,":"," ",e.jsxs("span",{style:{color:xe[u.game]},children:[`${t(`type_enum_short.${u.type}`)} `,t(`game_enum_short.${u.game}`),u.category==N.All?"":` ${t(`category_enum_short.${u.category}`)}`]})]},v))]})};return e.jsx(c,{width:"100%",height:400,children:e.jsx(yn,{width:"100%",height:"100%",children:e.jsxs(bn,{margin:{top:10,right:10,left:10,bottom:10},children:[e.jsx(vn,{strokeDasharray:"3 3"}),e.jsx(Cn,{type:"number",dataKey:"year",name:"Year",domain:[2014,pe+1],padding:{left:20,right:20},height:40,ticks:[2014,2016,2018,2020,2022,2024,2026],tick:e.jsx(r,{})}),e.jsx($n,{type:"number",dataKey:"rank",name:"Rank",domain:[1,5],reversed:!0,padding:{top:20,bottom:20},width:10}),e.jsx(wn,{content:i}),e.jsx(_n,{}),K.getEnums(D).map((a,l)=>e.jsx(kn,{name:t(`game_enum_short.${a}`),type:"monotone",data:o.filter(d=>d.game===a),dataKey:"rank",stroke:xe[a],strokeWidth:2,dot:{r:8}},`line-${l}`)),K.getEnums(D).map((a,l)=>e.jsx(Sn,{name:t(`game_enum_short.${a}`),data:n.filter(d=>d.game===a).map(d=>({year:d.year,rank:d.rank})),fill:xe[a],legendType:"none"},`game_scatter-${l}`))]})})})},Bt=({results:n,yob:s})=>{const{t}=y(),{getTournamentUrl:o}=_(),r=(i,a,l,d,g)=>{const u=t(`type_enum_short.${i}`),v=t(`game_enum_short.${d}`),j=t(`gender_category.${g}.${l}`);return j?`${u} ${a} ${v} - ${j}`:`${u} ${a} ${v}`};return e.jsx(e.Fragment,{children:[...new Set(n.map(i=>i.rank))].map(i=>e.jsxs(c,{display:"flex",padding:2,gap:1,border:"1px solid #ddd",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:i===1?"#ffffff":i===2?"#fcfcfc":i===3?"#f7f7f7":i===4?"#ededed":i===5?"#e5e5e5":"transparent",children:[e.jsx(c,{flexGrow:"auto",children:e.jsxs(p,{variant:"body1",children:[i,"."]})}),e.jsx(c,{flex:1,children:n.filter(a=>a.rank===i).map((a,l,d)=>e.jsxs(k.Fragment,{children:[e.jsx(V,{to:o(a.year,a.category,a.game,a.gender),style:{textDecoration:"none",color:"inherit"},children:e.jsxs(c,{display:"flex",flexDirection:"row",gap:1,sx:{"&:hover":{backgroundColor:"#f9f9f9"},borderRadius:"4px"},children:[e.jsx(c,{flexGrow:1,children:e.jsx(p,{variant:"body1",sx:{"&:hover":{textDecoration:"underline"}},color:a.type==ue.UC?"textPrimary":"primary",children:r(a.type,a.year,a.category,a.game,a.gender)},"title")}),e.jsx(c,{children:e.jsx(p,{variant:"body1",color:"textSecondary",sx:{whiteSpace:"nowrap"},children:`${s?` ${a.year-s} ${t("years")}`:""}`},"year")})]})}),l<d.length-1&&e.jsx(F,{sx:{my:1}})]},l))})]},i))})},At="/",zt={async get(n){const s=A.encode(n.toString()),t=await fetch(`${At}api/players/${s}.json?v=4d5a0a1`);if(!t.ok)throw new Error(`Failed to get player (id=${n}) data`);return await t.json()}},It=()=>{const[n]=ge(),s=parseInt(n.get("id")??"")||null,[t,o]=B("tab",q.withDefault(0)),{getPlayerUrl:r}=_(),{t:i,i18n:a}=y(),{data:l,isLoading:d,error:g}=Y({queryKey:["players",{id:s}],queryFn:async()=>await zt.get(s),enabled:!!s}),u=h.useMemo(()=>(a.resolvedLanguage==="uk"?l?.name_uk:l?.name_en)||l?.name_uk||l?.name_en||"",[l,a.resolvedLanguage]),v=h.useCallback((j,f)=>{o(f)},[o]);if(!s)return e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx(M,{message:"Player id is missing."})]});if(g)return e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx(M,{message:g.message})]});if(d)return e.jsx(z,{});if(l)return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:u,description:i("player_description"),url:r(s,!1)}),e.jsxs(c,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",minHeight:"100vh",children:[e.jsx(oe,{title:u}),e.jsx(Tt,{data:l}),e.jsxs(se,{value:t,onChange:v,children:[e.jsx(S,{label:i("results"),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:i("progress"),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),e.jsxs(c,{display:"flex",flexDirection:"column",flexGrow:1,gap:1,children:[t===0&&e.jsx(Bt,{results:l.results,yob:l.yob}),t===1&&e.jsx(Pt,{results:l.results,yob:l.yob})]}),e.jsx(re,{})]})]})};var $=(n=>(n[n.feds=0]="feds",n[n.clubs=1]="clubs",n[n.coaches=2]="coaches",n[n.players=3]="players",n))($||{});const Ot="/",Vt={async getStats(n,s){const t=A.encode(s.toString()),o=await fetch(`${Ot}api/stats/${$[n]}/${t}.json?v=4d5a0a1`);if(!o.ok)throw new Error(`Failed to get year (${s}) stats`);return await o.json()}},ae=({group:n,year:s})=>{const t={[$.feds]:m.Federation,[$.clubs]:m.Club,[$.coaches]:m.Coach,[$.players]:m.Player},{data:o,isLoading:r,error:i}=Y({queryKey:["stats",{group:n,year:s}],queryFn:async()=>await Vt.getStats(n,s)});return e.jsxs(c,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[r&&e.jsx(z,{}),i&&e.jsx(M,{message:i.message}),!r&&!i&&o&&e.jsx(U,{filterField:m.Year,filterId:s,groupField:t[n],results:o.results})]})},Kt=({group:n,setGroup:s,year:t,setYear:o})=>{const{t:r}=y();return e.jsxs(c,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",children:[e.jsx(oe,{title:`${t} ${r("medals_table")}`}),e.jsxs(se,{value:n,onChange:(i,a)=>s(a),children:[e.jsx(S,{label:r(`stats_group_enum.${$.feds}`),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:r(`stats_group_enum.${$.clubs}`),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:r(`stats_group_enum.${$.coaches}`),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:r(`stats_group_enum.${$.players}`),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),e.jsx(c,{display:"flex",flexGrow:1,children:e.jsx(we,{direction:"horizontal",initialSlide:P.indexOf(t),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:i=>{const a=P[i.realIndex];o(a)},virtual:{enabled:!0},modules:[_e,ke,Se],children:P.map(i=>e.jsx(Le,{"aria-hidden":t!==i,children:e.jsxs(c,{display:"flex",flexDirection:"column",children:[n===$.feds&&e.jsx(ae,{group:$.feds,year:i}),n===$.clubs&&e.jsx(ae,{group:$.clubs,year:i}),n===$.coaches&&e.jsx(ae,{group:$.coaches,year:i}),n===$.players&&e.jsx(ae,{group:$.players,year:i})]})},i))})}),e.jsx(re,{})]})},Ht=k.memo(Kt),ye=()=>{const[n,s]=B("group",te($).withDefault($.feds).withOptions({clearOnDefault:!1})),[t,o]=B("year",q.withDefault(pe).withOptions({clearOnDefault:!1})),{getStatsUrl:r}=_(),{t:i}=y();return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:`${t} - ${i("medals_table")} - ${i(`stats_group_enum.${n}`)}`,description:i("year_description",{year:t}),url:r(t,!1)}),e.jsx(Ht,{group:n,setGroup:s,year:t,setYear:o})]})},Yt=()=>{console.log("-> Component created");const n=_(),s=Math.sqrt(9),t=(console.log("Calculating value 2"),Math.sqrt(100)),[o,r]=h.useState(()=>(console.log("Initialize state value 1"),Math.floor(Math.random()*100)+1)),[i,a]=h.useState(()=>(console.log("Initialize state value 2"),Math.floor(Math.random()*100)+1)),l=h.useMemo(()=>(console.log("Computing memo value"),Math.floor(Math.random()*100)+1),[]),d=h.useMemo(()=>(console.log("Computing memo state value 1"),Math.floor(Math.random()*100)+1),[o]),g=h.useMemo(()=>(console.log("Computing memo state value 2"),Math.floor(Math.random()*100)+1),[i]),u=()=>(console.log("Function called"),o*2),v=h.useCallback(()=>(console.log("Memoized function called"),3),[]),j=h.useCallback(()=>(console.log("Memoized State Value1 function called"),o*3),[o]),f=h.useCallback(()=>(console.log("Memoized State Value2 function called"),i*3),[i]),R=h.useRef(null),C=h.useRef(null),I=h.useRef(null),X=h.useRef(null),J=h.useRef(null),E=h.useRef(null);return h.useEffect(()=>{console.log("Component updated"),R.current&&console.log("Did func reference change?",R.current!==u),C.current&&console.log("Did memoizedFunction reference change?",C.current!==v),I.current&&console.log("Did memoizedSateValue1Function reference change?",I.current!==j),X.current&&console.log("Did memoizedSateValue2Function reference change?",X.current!==f),J.current&&console.log("Did hook change?",J.current!==n),E.current&&console.log("Did hook function change?",E.current!==n.getTournamentUrl),R.current=u,C.current=v,I.current=j,X.current=f,J.current=n,E.current=n.getTournamentUrl}),h.useEffect(()=>(console.log("Component mounted"),()=>{console.log("Component unmounted")}),[]),h.useEffect(()=>{console.log(`Component updated: stateValue1 is now ${o}`),a(x=>x+o)},[o]),h.useEffect(()=>{console.log(`Component updated: stateValue2 is now ${i}`)},[i]),console.log("<- Component render started"),e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("h1",{children:"Test Page"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Value 1:"})," ",s]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Value 2:"})," ",t]}),e.jsxs("p",{children:[e.jsx("strong",{children:"State Value 1:"})," ",o]}),e.jsxs("p",{children:[e.jsx("strong",{children:"State Value 2:"})," ",i]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memo Value:"})," ",l]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memo State Value1:"})," ",d]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memo State Value2:"})," ",g]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Function:"})," ",u()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memoized Function:"})," ",v()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memoized State Value 1 Function:"})," ",j()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memoized State Value 2 Function:"})," ",f()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Child Component 1:"})," ",e.jsx(le,{},"1")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Child Component 2:"})," ",e.jsx(le,{value:s},"2")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Child Component 3:"})," ",e.jsx(le,{value:o},"3")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Child Component 4:"})," ",e.jsx(le,{value:l},"4")]}),e.jsx("button",{onClick:()=>r(x=>x+1),children:"Increment State Value 1"}),e.jsx("button",{onClick:()=>a(x=>x+1),children:"Increment State Value 2"})]})},le=({value:n})=>{console.log("-> Child Component created");const{getTournamentUrl:s}=_(),{getTournamentUrl:t}=_(),o=h.useRef(null);return h.useEffect(()=>{console.log("Component updated"),console.log("Do same hook functions equal?",s===t),o.current&&console.log("Did child hook function change?",o.current!==s),o.current=s}),h.useEffect(()=>(console.log("Child Component mounted"),()=>{console.log("Child Component unmounted")}),[]),console.log("<- Child Component render started"),`${n}`},Nt=()=>e.jsxs(T,{container:!0,children:[e.jsx(T,{size:{md:2,lg:3},sx:{display:{xs:"none",md:"block"},backgroundImage:'url("/pattern.svg")',backgroundSize:"auto",backgroundRepeat:"no-repeat",backgroundPosition:"top left"}}),e.jsx(T,{size:{xs:12,md:8,lg:6},minHeight:"100vh",children:e.jsx(ln,{})}),e.jsx(T,{size:{md:2,lg:3},sx:{display:{xs:"none",md:"block"},backgroundImage:'url("/pattern.svg")',backgroundSize:"auto",backgroundRepeat:"no-repeat",backgroundPosition:"top left",transform:"scale(-1, -1)"}})]}),Wt=()=>{const{t:n}=y();return e.jsxs(Je,{maxWidth:"sm",sx:{textAlign:"center",mt:8},children:[e.jsx(p,{variant:"h2",gutterBottom:!0,children:n("404")}),e.jsx(p,{variant:"h5",gutterBottom:!0,children:n("404_title")}),e.jsx(p,{variant:"body1",color:"textSecondary",gutterBottom:!0,children:n("404_description")}),e.jsx(c,{mt:4,children:e.jsx(H,{variant:"contained",color:"primary",component:V,to:"/",children:n("goHome")})})]})},Ft=new jn({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:5,staleTime:1/0,gcTime:1/0}}}),qt=()=>e.jsxs(e.Fragment,{children:[e.jsx(On,{}),e.jsx(fn,{client:Ft,children:e.jsx(tn,{children:e.jsx(cn,{children:e.jsx(h.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(dn,{children:e.jsxs(L,{path:"/",element:e.jsx(Nt,{}),children:[e.jsx(L,{index:!0,element:e.jsx(Mt,{})}),e.jsx(L,{path:"about",element:e.jsx(Dn,{})}),e.jsx(L,{path:"players",element:e.jsx(It,{})}),e.jsx(L,{path:"feds",element:e.jsx(gt,{})}),e.jsx(L,{path:"clubs",element:e.jsx(Jn,{})}),e.jsx(L,{path:"coaches",element:e.jsx(ot,{})}),e.jsx(L,{path:"stats",element:e.jsx(ye,{})}),e.jsx(L,{path:"years",element:e.jsx(ye,{})}),e.jsx(L,{path:"tests",element:e.jsx(Yt,{})}),e.jsx(L,{path:"*",element:e.jsx(Wt,{})})]})})})})})})]}),Te=new URLSearchParams(window.location.search).get("lng")||"uk",Gt=Te==="en"?"Ukrainian Chess Champions":"Українські шахові чемпіони",Qt=sn({init:[{htmlAttrs:{lang:Te},title:Gt}]});Ln.createRoot(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(rn,{head:Qt,children:e.jsx(qt,{})})}));
