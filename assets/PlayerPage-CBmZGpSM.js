import{t as v,n as B,j as e,H as $,E as p,r as d,L as k,B as s,T as n}from"./index-DlJkwipa.js";import{A as w,T as S,a as T,I as E,b as C,L as y}from"./ArrowBack-C_cYRnFm.js";import{l as D,n as P,S as _,j,C as f,k as F,p as L}from"./NavigationService-TDX28IEr.js";const M=()=>{const[g]=v(),c=D(),{t:o}=B(),l=g.get("id");if(!l)return e.jsxs(e.Fragment,{children:[e.jsx($,{children:e.jsx("meta",{name:"robots",content:"noindex"})}),e.jsx(p,{message:"Player id is missing."})]});const{data:r,isLoading:m,error:t}=P({queryKey:["players",{id:l}],queryFn:async()=>await L.getPlayer(l)}),x=d.useMemo(()=>(r==null?void 0:r.name)||"",[r]),u=d.useMemo(()=>o("player_description"),[o]),h=d.useMemo(()=>`/players?id=${l}`,[l]);return t?e.jsx(p,{message:t.message}):m?e.jsx(k,{}):e.jsxs(e.Fragment,{children:[e.jsx(_,{title:x,description:u,url:h,canonicalUrl:h}),e.jsxs(s,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(w,{position:"static",color:(r==null?void 0:r.gender)===null?"default":(r==null?void 0:r.gender)===j.Open?"primary":"secondary",children:e.jsxs(S,{children:[e.jsx(T,{title:"Back",children:e.jsx(E,{edge:"start",color:"inherit",onClick:()=>c.navigateBack(),"aria-label":"back",children:e.jsx(C,{})})}),e.jsx(n,{variant:"h6",component:"h1",children:x})]})}),e.jsx(s,{overflow:"auto",padding:{xs:2,md:2},children:e.jsxs(s,{display:"flex",flexDirection:"column",gap:{xs:1,md:2},children:[e.jsxs(s,{display:"grid",children:[(r==null?void 0:r.id)&&(r==null?void 0:r.fideName)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(n,{variant:"body1",children:[o("fide"),":"]})}),e.jsx(s,{flexBasis:"50%",children:e.jsx(y,{href:`https://ratings.fide.com/profile/${r.id}`,variant:"body1",target:"_blank",rel:"noopener",children:r.id})})]}),(r==null?void 0:r.fed)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(n,{variant:"body1",children:[o("federation"),":"]})}),e.jsx(s,{flexBasis:"50%",children:e.jsx(y,{onClick:a=>{a.preventDefault(),c.navigateToFederation(r.fed)},rel:"noopener",style:{cursor:"pointer"},children:o(`federation_enum_short.${r.fed}`)})})]}),(r==null?void 0:r.yob)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(n,{variant:"body1",children:[o("year_of_birth"),":"]})}),e.jsxs(s,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(n,{variant:"body1",children:r.yob}),e.jsx(n,{variant:"body1",color:"textSecondary",children:`(${new Date().getFullYear()-r.yob} ${o("years")})`})]})]})]}),[...new Set(r==null?void 0:r.results.map(a=>a.rank))].map(a=>e.jsxs(s,{display:"flex",padding:2,gap:1,border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:a<=3?"white":"",children:[e.jsx(s,{flexGrow:"auto",children:e.jsxs(n,{variant:"body1",children:[a,"."]})}),e.jsx(s,{flex:1,children:r==null?void 0:r.results.filter(i=>i.rank===a).map((i,b)=>e.jsxs(s,{display:"flex",flexDirection:"row",onClick:()=>c.navigateToTournament(i.year,i.category,i.game,i.gender),sx:{cursor:"pointer","&:hover":{backgroundColor:"#f9f9f9"},borderRadius:"4px"},children:[e.jsx(s,{flexGrow:1,children:e.jsx(n,{variant:"body1",sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:`${j[i.gender]}${i.category!==f.All?` ${f[i.category]}`:""} ${F[i.game]} ${i.year}`})}),e.jsx(s,{children:e.jsx(n,{variant:"body2",color:"textSecondary",children:`${r.yob?` ${i.year-r.yob} ${o("years")}`:""}`})})]},b))})]},a))]})})]})]})};export{M as default};
