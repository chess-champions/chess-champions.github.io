import{n as g,j as e,B as n,p as y,T as u,R as b}from"./index-D-2Wfosz.js";import{t as j,p as w,i as v,E as T,j as F,v as I,S,F as c}from"./ChessDataService-RbblWxtc.js";import{p as D,S as E,K as B,P as R,V as k,a as z}from"./swiper-react-gE2sx3Y1.js";import{I as A,R as C,H as O,F as $}from"./RouterLink-9AsVqqPt.js";import{u as f,F as K}from"./useNavigationService-BwVj-F8I.js";import{K as P,a as L,C as _,R as H}from"./ResultList-BUBKuPUp.js";import{T as U,a as N,b as V,c as h,d as a,e as q}from"./TableRow-BN2BMZcO.js";import{P as G}from"./Paper-BbjhHxyv.js";import"./Divider-DWQp6VGV.js";const Q=({id:r})=>{var p;const[o,d]=j("year",w),{getStatsUrl:l}=f(),{t:s}=g(),{data:t,isLoading:m,error:x}=v({queryKey:["federations",{id:r}],queryFn:async()=>await F.getFederation(r)});return e.jsxs(n,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[m&&e.jsx(y,{}),x&&e.jsx(T,{message:x.message}),!m&&!x&&t&&e.jsx(U,{component:G,children:e.jsxs(N,{stickyHeader:!0,sx:{"& th, & td":{padding:{xs:"6px 8px",sm:"6px 10px",md:"6px 12px",lg:"6px 16px"}}},children:[e.jsx(V,{children:e.jsxs(h,{children:[e.jsx(a,{}),e.jsx(a,{align:"left",children:e.jsx(u,{children:s("year")})}),e.jsx(a,{children:e.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(n,{sx:{display:{xs:"none",sm:"block"}},children:s("gold")}),e.jsx("img",{alt:s("gold"),width:"16",height:"16",src:"/gold.svg"})]})}),e.jsx(a,{children:e.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(n,{sx:{display:{xs:"none",sm:"block"}},children:s("silver")}),e.jsx("img",{alt:s("silver"),width:"16",height:"16",src:"/silver.svg"})]})}),e.jsx(a,{children:e.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(n,{sx:{display:{xs:"none",sm:"block"}},children:s("bronze")}),e.jsx("img",{alt:s("bronze"),width:"16",height:"16",src:"/bronze.svg"})]})}),e.jsx(a,{children:e.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(n,{sx:{display:{xs:"none",sm:"block"}},children:s("total")}),e.jsx("img",{alt:s("total"),width:"16",height:"16",src:"/total.svg"})]})})]})}),e.jsx(q,{children:(p=t.results)==null?void 0:p.map(i=>e.jsxs(b.Fragment,{children:[e.jsxs(h,{sx:{"& td":{borderBottom:"none"}},children:[e.jsx(a,{children:e.jsx(n,{display:"flex",alignItems:"center",children:e.jsx(A,{size:"small",sx:{padding:"0px"},onClick:()=>d(i.year===o?null:i.year),children:i.year===o?e.jsx(P,{}):e.jsx(L,{})})})}),e.jsx(a,{children:e.jsx(C,{to:l(i.year),children:i.year})}),e.jsx(a,{align:"center",children:i.gold||0}),e.jsx(a,{align:"center",children:i.silver||0}),e.jsx(a,{align:"center",children:i.bronze||0}),e.jsx(a,{align:"center",children:(i.gold||0)+(i.silver||0)+(i.bronze||0)})]}),e.jsx(h,{children:e.jsx(a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:e.jsx(_,{in:i.year===o,timeout:"auto",unmountOnExit:!0,children:e.jsx(n,{marginTop:1,marginBottom:2,children:e.jsx(H,{year:i.year,federation:r})})})})})]},`${r}_${i.year}`))})]})})]})},ne=()=>{const[r,o]=j("id",D(K).withDefault(I).withOptions({clearOnDefault:!1})),{getFederationUrl:d}=f(),{t:l}=g();return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:`${l(`federation_enum.${r}`)} - ${l("medals_table")}`,description:l("federation_description",{federation:l(`federation_enum2.${r}`)}),url:d(r,!1)}),e.jsxs(n,{display:"flex",flexDirection:"column",height:"100vh",padding:2,gap:1,boxSizing:"border-box",overflow:"hidden",children:[e.jsx(O,{title:l(`federation_enum.${r}`)}),e.jsx(n,{display:"flex",flexGrow:1,overflow:"hidden",height:"100%",children:e.jsx(E,{direction:"horizontal",initialSlide:c.indexOf(r),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1,dynamicBullets:!0,dynamicMainBullets:10},keyboard:{enabled:!0},onSlideChange:s=>{const t=c[s.realIndex];t!==r&&o(t)},virtual:{enabled:!0},modules:[B,R,k],children:c.map(s=>e.jsx(z,{"aria-hidden":r!==s,children:e.jsx(n,{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%",children:e.jsx(Q,{id:s})})},s))})}),e.jsx($,{})]})]})};export{ne as default};
