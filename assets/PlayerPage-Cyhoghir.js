import{v as $,n as _,j as e,H as w,E as g,r as L,q as S,B as s,T as a,L as B}from"./index-BXtZ5KqW.js";import{i as T,S as k,C as D}from"./ChessDataService-moCzclGB.js";import{H as P,R as E}from"./Header-C2LntHtu.js";import{u as F}from"./useNavigationService-9Necr7jq.js";import{L as R}from"./Link-BkFOlVcW.js";const I=()=>{const[f]=$(),{getTournamentUrl:m,getPlayerUrl:j,getFederationUrl:p}=F(),{t:i,i18n:t}=_(),l=parseInt(f.get("id")??"")||null;if(!l)return e.jsxs(e.Fragment,{children:[e.jsx(w,{children:e.jsx("meta",{name:"robots",content:"noindex"})}),e.jsx(g,{message:"Player id is missing."})]});const{data:r,isLoading:u,error:x}=T({queryKey:["players",{id:l}],queryFn:async()=>await D.getPlayer(l)}),c=L.useMemo(()=>(t.resolvedLanguage==="uk"?r==null?void 0:r.name_uk:r==null?void 0:r.name_en)||(r==null?void 0:r.name_uk)||(r==null?void 0:r.name_en)||"",[r,t.resolvedLanguage]);if(x)return e.jsx(g,{message:x.message});if(u)return e.jsx(S,{});const b=(o,n,d,v)=>{const h=i(`game_enum_short.${d}`),y=i(`gender_category.${v}.${n}`);return y?`${o} ${h} - ${y}`:`${o} ${h}`};return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:c,description:i("player_description"),url:j(l,!1)}),e.jsxs(s,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(P,{title:c}),e.jsx(s,{overflow:"auto",padding:{xs:2,md:2},children:e.jsxs(s,{display:"flex",flexDirection:"column",gap:{xs:1,md:2},children:[e.jsxs(s,{display:"grid",children:[(r==null?void 0:r.id)&&r.id>0&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(a,{variant:"body1",children:[i("fide"),":"]})}),e.jsx(s,{flexBasis:"50%",children:e.jsx(R,{href:`https://ratings.fide.com/profile/${r.id}`,variant:"body1",target:"_blank",rel:"noopener",children:r.id})})]}),(r==null?void 0:r.fed)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(a,{variant:"body1",children:[i("federation"),":"]})}),e.jsx(s,{flexBasis:"50%",children:e.jsx(E,{to:p(r.fed),children:i(`federation_enum_short.${r.fed}`)})})]}),(r==null?void 0:r.yob)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(a,{variant:"body1",children:[i("year_of_birth"),":"]})}),e.jsxs(s,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(a,{variant:"body1",children:r.yob}),e.jsx(a,{variant:"body1",color:"textSecondary",children:`(${new Date().getFullYear()-r.yob} ${i("years")})`})]})]})]}),[...new Set(r==null?void 0:r.results.map(o=>o.rank))].map(o=>e.jsxs(s,{display:"flex",padding:2,gap:1,border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:o<=3?"white":"",children:[e.jsx(s,{flexGrow:"auto",children:e.jsxs(a,{variant:"body1",children:[o,"."]})}),e.jsx(s,{flex:1,children:r==null?void 0:r.results.filter(n=>n.rank===o).map((n,d)=>e.jsx(B,{to:m(n.year,n.category,n.game,n.gender),style:{textDecoration:"none",color:"inherit"},children:e.jsxs(s,{display:"flex",flexDirection:"row",sx:{"&:hover":{backgroundColor:"#f9f9f9"},borderRadius:"4px"},children:[e.jsx(s,{flexGrow:1,children:e.jsx(a,{variant:"body1",sx:{"&:hover":{textDecoration:"underline"}},children:b(n.year,n.category,n.game,n.gender)})}),e.jsx(s,{children:e.jsx(a,{variant:"body2",color:"textSecondary",children:`${r.yob?` ${n.year-r.yob} ${i("years")}`:""}`})})]})},d))})]},o))]})})]})]})};export{I as default};
