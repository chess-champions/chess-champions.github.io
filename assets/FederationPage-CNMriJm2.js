import{v,r as u,u as y,j as e,B as d,b as F,d as P}from"./index-jOmqNek7.js";import{c as E,S as B,K as D,P as z,V as C,b as R}from"./swiper-react-CstruTyQ.js";import{R as I,H as O,F as _}from"./RouterLink-DDcDYCzf.js";import{u as w,F as $}from"./useNavigationService-BJtaDnOx.js";import{b as k,E as H,c as L,d as A,i as K,S as N,F as m}from"./ChessDataService-ausuiIYk.js";import{u as U,T as V,a as q,b as G,c as b,d as i,e as M,f as Q}from"./TableRow-BOVOEEKp.js";const Y=({id:l})=>{var p,f;const c=v(),h=U(c.breakpoints.down("sm")),{getYearUrl:r}=w(),[o,a]=u.useState(0),t=10,{t:s}=y(),{data:x,isLoading:j,error:g}=k({queryKey:["federations",{id:l}],queryFn:async()=>await L.getFederation(l)}),S=(n,T)=>{a(T)};return e.jsxs(d,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[j&&e.jsx(F,{}),g&&e.jsx(H,{message:g.message}),!j&&!g&&x&&e.jsxs(V,{component:E,children:[e.jsxs(q,{size:h?"small":"medium",children:[e.jsx(G,{children:e.jsxs(b,{children:[e.jsx(i,{}),e.jsx(i,{align:"center",children:s("gold")}),e.jsx(i,{align:"center",children:s("silver")}),e.jsx(i,{align:"center",children:s("bronze")}),e.jsx(i,{align:"center",children:s("total")})]})}),e.jsx(M,{children:(p=x.results)==null?void 0:p.slice(o*t,(o+1)*t).map(n=>e.jsxs(b,{children:[e.jsx(i,{children:e.jsx(I,{to:r(n.year),children:n.year})}),e.jsx(i,{align:"center",children:n.gold||0}),e.jsx(i,{align:"center",children:n.silver||0}),e.jsx(i,{align:"center",children:n.bronze||0}),e.jsx(i,{align:"center",children:(n.gold||0)+(n.silver||0)+(n.bronze||0)})]},n.year))})]}),e.jsx(Q,{rowsPerPageOptions:[],component:"div",count:((f=x.results)==null?void 0:f.length)||0,rowsPerPage:t,page:o,onPageChange:S})]})]})},se=()=>{const[l]=P(),{getFederationUrl:c,navigateToFederation:h}=w(),{t:r}=y(),o=A.stringToEnum(l.get("id"),$)||K,[a,t]=u.useState(o);return u.useEffect(()=>{o!=a&&h(a,!0)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(N,{title:`${r(`federation_enum.${a}`)} - ${r("medals_table")}`,description:r("federation_description",{federation:r(`federation_enum2.${a}`)}),url:c(a,!1)}),e.jsxs(d,{display:"flex",flexDirection:"column",height:"100vh",padding:2,gap:1,boxSizing:"border-box",overflow:"hidden",children:[e.jsx(O,{title:r(`federation_enum.${a}`)}),e.jsx(d,{display:"flex",flexGrow:1,overflow:"hidden",height:"100%",children:e.jsx(B,{direction:"horizontal",initialSlide:m.indexOf(a),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1,dynamicBullets:!0,dynamicMainBullets:10},keyboard:{enabled:!0},onSlideChange:s=>{t(m[s.realIndex])},virtual:{enabled:!0},modules:[D,z,C],children:m.map(s=>e.jsx(R,{"aria-hidden":a!==s,children:e.jsx(d,{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%",children:e.jsx(Y,{id:s})})},s))})}),e.jsx(_,{})]})]})};export{se as default};
