import{C as u,n as p,j as e,B as a,p as y,T as b,t as v,r as g}from"./index-B6lW87oK.js";import{S as w,K as T,P as S,V as F,a as E}from"./swiper-react-VQj8KLDr.js";import{R as D,H as k,F as I}from"./RouterLink-31Q5aAw9.js";import{u as f,F as z}from"./useNavigationService-042L_c6v.js";import{i as P,E as B,j as R,k as C,q as H,S as $,F as h}from"./ChessDataService-c7jgyEx-.js";import{u as L,T as O,a as _,b as q,c as j,d as r,e as A}from"./TableRow-Bltudjw_.js";import{P as K}from"./Paper-S_Ak8TOI.js";const N=({id:o})=>{var m;const c=u(),x=L(c.breakpoints.down("sm")),{getYearUrl:t}=f(),{t:s}=p(),{data:i,isLoading:d,error:n}=P({queryKey:["federations",{id:o}],queryFn:async()=>await R.getFederation(o)});return e.jsxs(a,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[d&&e.jsx(y,{}),n&&e.jsx(B,{message:n.message}),!d&&!n&&i&&e.jsx(O,{component:K,children:e.jsxs(_,{stickyHeader:!0,size:x?"small":"medium",children:[e.jsx(q,{children:e.jsxs(j,{children:[e.jsx(r,{align:"left",children:e.jsx(b,{children:s("year")})}),e.jsx(r,{children:e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(a,{sx:{display:{xs:"none",sm:"block"}},children:s("gold")}),e.jsx("img",{alt:s("gold"),width:"16",height:"16",src:"/gold.svg"})]})}),e.jsx(r,{children:e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(a,{sx:{display:{xs:"none",sm:"block"}},children:s("silver")}),e.jsx("img",{alt:s("silver"),width:"16",height:"16",src:"/silver.svg"})]})}),e.jsx(r,{children:e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(a,{sx:{display:{xs:"none",sm:"block"}},children:s("bronze")}),e.jsx("img",{alt:s("bronze"),width:"16",height:"16",src:"/bronze.svg"})]})}),e.jsx(r,{children:e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(a,{sx:{display:{xs:"none",sm:"block"}},children:s("total")}),e.jsx("img",{alt:s("total"),width:"16",height:"16",src:"/total.svg"})]})})]})}),e.jsx(A,{children:(m=i.results)==null?void 0:m.map(l=>e.jsxs(j,{children:[e.jsx(r,{children:e.jsx(D,{to:t(l.year),children:l.year})}),e.jsx(r,{align:"center",children:l.gold||0}),e.jsx(r,{align:"center",children:l.silver||0}),e.jsx(r,{align:"center",children:l.bronze||0}),e.jsx(r,{align:"center",children:(l.gold||0)+(l.silver||0)+(l.bronze||0)})]},l.year))})]})})]})},W=()=>{const[o]=v(),{getFederationUrl:c,navigateToFederation:x}=f(),{t}=p(),s=C.stringToEnum(o.get("id"),z)||H,[i,d]=g.useState(s);return g.useEffect(()=>{s!=i&&x(i,!0)},[i]),e.jsxs(e.Fragment,{children:[e.jsx($,{title:`${t(`federation_enum.${i}`)} - ${t("medals_table")}`,description:t("federation_description",{federation:t(`federation_enum2.${i}`)}),url:c(i,!1)}),e.jsxs(a,{display:"flex",flexDirection:"column",height:"100vh",padding:2,gap:1,boxSizing:"border-box",overflow:"hidden",children:[e.jsx(k,{title:t(`federation_enum.${i}`)}),e.jsx(a,{display:"flex",flexGrow:1,overflow:"hidden",height:"100%",children:e.jsx(w,{direction:"horizontal",initialSlide:h.indexOf(i),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1,dynamicBullets:!0,dynamicMainBullets:10},keyboard:{enabled:!0},onSlideChange:n=>{d(h[n.realIndex])},virtual:{enabled:!0},modules:[T,S,F],children:h.map(n=>e.jsx(E,{"aria-hidden":i!==n,children:e.jsx(a,{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%",children:e.jsx(N,{id:n})})},n))})}),e.jsx(I,{})]})]})};export{W as default};
