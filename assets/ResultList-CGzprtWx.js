import{g as oe,b as re,r as U,c as ie,H as se,u as ae,I as le,a as pe,j as o,s as H,d as ce,e as de,m as ue,n as he,B as $,p as xe,T as W,R as me,L as N}from"./index-CQg9SaXJ.js";import{T as ge,a as k,i as ye,E as fe,j as we}from"./ChessDataService-DXh1EMIK.js";import{c as B}from"./RouterLink-B2BBlmN_.js";import{u as ve,T as Ee,S as Ce}from"./useNavigationService-CWTlSfpN.js";import{D as je}from"./Divider-CeRK3UYK.js";function Se(r){return oe("MuiCollapse",r)}re("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Te=r=>{const{orientation:t,classes:i}=r,u={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return de(u,Se,i)},De=H("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:i}=r;return[t.root,t[i.orientation],i.state==="entered"&&t.entered,i.state==="exited"&&!i.in&&i.collapsedSize==="0px"&&t.hidden]}})(ue(({theme:r})=>({height:0,overflow:"hidden",transition:r.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:r.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),$e=H("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(r,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),ze=H("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(r,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),q=U.forwardRef(function(t,i){const u=ie({props:t,name:"MuiCollapse"}),{addEndListener:z,children:f,className:_,collapsedSize:h="0px",component:w,easing:v,in:x,onEnter:a,onEntered:n,onEntering:p,onExit:m,onExited:M,onExiting:E,orientation:C="vertical",style:g,timeout:c=se.standard,TransitionComponent:G=ge,...Q}=u,R={...u,orientation:C,collapsedSize:h},j=Te(R),K=ae(),J=le(),d=U.useRef(null),A=U.useRef(),b=typeof h=="number"?`${h}px`:h,S=C==="horizontal",T=S?"width":"height",L=U.useRef(null),O=pe(i,L),y=e=>s=>{if(e){const l=L.current;s===void 0?e(l):e(l,s)}},F=()=>d.current?d.current[S?"clientWidth":"clientHeight"]:0,V=y((e,s)=>{d.current&&S&&(d.current.style.position="absolute"),e.style[T]=b,a&&a(e,s)}),X=y((e,s)=>{const l=F();d.current&&S&&(d.current.style.position="");const{duration:D,easing:I}=k({style:g,timeout:c,easing:v},{mode:"enter"});if(c==="auto"){const P=K.transitions.getAutoHeightDuration(l);e.style.transitionDuration=`${P}ms`,A.current=P}else e.style.transitionDuration=typeof D=="string"?D:`${D}ms`;e.style[T]=`${l}px`,e.style.transitionTimingFunction=I,p&&p(e,s)}),Y=y((e,s)=>{e.style[T]="auto",n&&n(e,s)}),Z=y(e=>{e.style[T]=`${F()}px`,m&&m(e)}),ee=y(M),te=y(e=>{const s=F(),{duration:l,easing:D}=k({style:g,timeout:c,easing:v},{mode:"exit"});if(c==="auto"){const I=K.transitions.getAutoHeightDuration(s);e.style.transitionDuration=`${I}ms`,A.current=I}else e.style.transitionDuration=typeof l=="string"?l:`${l}ms`;e.style[T]=b,e.style.transitionTimingFunction=D,E&&E(e)}),ne=e=>{c==="auto"&&J.start(A.current||0,e),z&&z(L.current,e)};return o.jsx(G,{in:x,onEnter:V,onEntered:Y,onEntering:X,onExit:Z,onExited:ee,onExiting:te,addEndListener:ne,nodeRef:L,timeout:c==="auto"?null:c,...Q,children:(e,s)=>o.jsx(De,{as:w,className:ce(j.root,_,{entered:j.entered,exited:!x&&b==="0px"&&j.hidden}[e]),style:{[S?"minWidth":"minHeight"]:b,...g},ref:O,...s,ownerState:{...R,state:e},children:o.jsx($e,{ownerState:{...R,state:e},className:j.wrapper,ref:d,children:o.jsx(ze,{ownerState:{...R,state:e},className:j.wrapperInner,children:f})})})})});q&&(q.muiSupportAuto=!0);const _e=B(o.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),Me=B(o.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),Ae=({group:r,groupId:t,year:i})=>{const{getTournamentUrl:u,getPlayerUrl:z}=ve(),{t:f,i18n:_}=he(),h=(a,n,p,m,M)=>{const E=f(`type_enum_short.${a}`),C=f(`game_enum_short.${m}`),g=f(`gender_category.${M}.${p}`);return g?`${E} ${n} ${C} - ${g}`:`${E} ${n} ${C}`},{data:w,isLoading:v,error:x}=ye({queryKey:["groupStats",{group:r,groupId:t,year:i}],queryFn:async()=>await we.getGroupStats(r,t,i)});return o.jsxs($,{display:"flex",flexDirection:"column",gap:1,children:[v&&o.jsx(xe,{}),x&&o.jsx(fe,{message:x.message}),!v&&!x&&w&&[...new Set(w.results.map(a=>a.rank))].map(a=>o.jsxs($,{display:"flex",flexDirection:"row",padding:2,gap:2,border:"1px solid #ddd",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:a<=3?"white":"",children:[o.jsx($,{children:o.jsxs(W,{variant:"body1",children:[a,"."]})}),o.jsx($,{flex:1,children:w.results.filter(n=>n.rank===a).map((n,p,m)=>o.jsxs(me.Fragment,{children:[o.jsxs($,{display:"flex",flexDirection:{xs:"column",md:"row"},gap:1,alignItems:{xs:"flex-start",md:"center"},sx:{"&:hover":{backgroundColor:"#f9f9f9"},borderRadius:"4px"},children:[o.jsx(N,{to:u(i,n.category,n.game,n.gender),style:{textDecoration:"none",color:"inherit",flex:1},children:o.jsx(W,{variant:"body1",color:n.type===Ee.UC?"textPrimary":"primary",sx:{"&:hover":{textDecoration:"underline"}},children:h(n.type,i,n.category,n.game,n.gender)})}),r!=Ce.players&&o.jsx(N,{to:z(n.id),style:{textDecoration:"none",color:"inherit"},children:o.jsx(W,{variant:"body2",color:"textSecondary",sx:{"&:hover":{textDecoration:"underline"}},children:(_.resolvedLanguage==="uk"?n.name_uk:n.name_en)||n.name_uk||n.name_en||""})})]}),p<m.length-1&&o.jsx(je,{sx:{my:1}})]},p))})]},a))]})};export{q as C,Me as K,Ae as R,_e as a};
