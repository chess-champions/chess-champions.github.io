import{n as g,j as e,B as n,p as y,T as b,R as u}from"./index-iQs97j3m.js";import{t as j,i as w,E as v,j as S,p as T,q as I,S as D,Y as c}from"./ChessDataService-DtEHezhp.js";import{p as F,S as k,K as E,P as B,V as R,a as Y}from"./swiper-react-O3mx7ryr.js";import{I as z,R as A,H as C,F as $}from"./RouterLink-H0_fQ4G1.js";import{u as f,F as K}from"./useNavigationService-C_sbP597.js";import{K as P,a as _,C as L,Y as O}from"./YearFederationResultList-Bj0fx5hx.js";import{T as H,a as U,b as q,c as h,d as a,e as V}from"./TableRow-6f0xRUIX.js";import{P as G}from"./Paper-C22B9kx1.js";import"./Divider-CgtNPeWY.js";const Q=({id:r})=>{var m;const[l,d]=j("fed",F(K)),{getFederationUrl:o}=f(),{t:s}=g(),{data:t,isLoading:p,error:x}=w({queryKey:["years",{id:r}],queryFn:async()=>await S.getYear(r)});return e.jsxs(n,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[p&&e.jsx(y,{}),x&&e.jsx(v,{message:x.message}),!p&&!x&&t&&e.jsx(H,{component:G,children:e.jsxs(U,{stickyHeader:!0,sx:{"& th, & td":{padding:{xs:"6px 8px",sm:"6px 10px",md:"6px 12px",lg:"6px 16px"}}},children:[e.jsx(q,{children:e.jsxs(h,{children:[e.jsx(a,{}),e.jsx(a,{align:"left",children:e.jsx(b,{children:s("federation_short")})}),e.jsx(a,{children:e.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(n,{sx:{display:{xs:"none",sm:"block"}},children:s("gold")}),e.jsx("img",{alt:s("gold"),width:"16",height:"16",src:"/gold.svg"})]})}),e.jsx(a,{children:e.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(n,{sx:{display:{xs:"none",sm:"block"}},children:s("silver")}),e.jsx("img",{alt:s("silver"),width:"16",height:"16",src:"/silver.svg"})]})}),e.jsx(a,{children:e.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(n,{sx:{display:{xs:"none",sm:"block"}},children:s("bronze")}),e.jsx("img",{alt:s("bronze"),width:"16",height:"16",src:"/bronze.svg"})]})}),e.jsx(a,{children:e.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(n,{sx:{display:{xs:"none",sm:"block"}},children:s("total")}),e.jsx("img",{alt:s("total"),width:"16",height:"16",src:"/total.svg"})]})})]})}),e.jsx(V,{children:(m=t.results)==null?void 0:m.map(i=>e.jsxs(u.Fragment,{children:[e.jsxs(h,{sx:{"& td":{borderBottom:"none"}},children:[e.jsx(a,{children:e.jsxs(n,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(z,{sx:{padding:"0px"},size:"small",onClick:()=>d(i.fed===l?null:i.fed),children:i.fed===l?e.jsx(P,{}):e.jsx(_,{})}),i.rank,"."]})}),e.jsx(a,{children:i.fed&&e.jsx(A,{to:o(i.fed),children:s(`federation_enum_short.${i.fed}`)})}),e.jsx(a,{align:"center",children:i.gold||0}),e.jsx(a,{align:"center",children:i.silver||0}),e.jsx(a,{align:"center",children:i.bronze||0}),e.jsx(a,{align:"center",children:(i.gold||0)+(i.silver||0)+(i.bronze||0)})]}),e.jsx(h,{children:e.jsx(a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:e.jsx(L,{in:i.fed===l,timeout:"auto",unmountOnExit:!0,children:e.jsx(n,{marginTop:1,marginBottom:2,children:e.jsx(O,{year:r,federation:i.fed})})})})})]},`${r}_${i.fed}`))})]})})]})},ne=()=>{const[r,l]=j("id",T.withDefault(I).withOptions({clearOnDefault:!1})),{getYearUrl:d}=f(),{t:o}=g();return e.jsxs(e.Fragment,{children:[e.jsx(D,{title:`${r} - ${o("medals_table")}`,description:o("year_description",{year:r}),url:d(r,!1)}),e.jsxs(n,{display:"flex",flexDirection:"column",height:"100vh",padding:2,gap:1,boxSizing:"border-box",overflow:"hidden",children:[e.jsx(C,{title:`${r} ${o("medals_table")}`}),e.jsx(n,{display:"flex",flexGrow:1,overflow:"hidden",height:"100%",children:e.jsx(k,{direction:"horizontal",initialSlide:c.indexOf(r),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:s=>{const t=c[s.realIndex];t!==r&&l(t)},virtual:{enabled:!0},modules:[E,B,R],children:c.map(s=>e.jsx(Y,{"aria-hidden":r!==s,children:e.jsx(n,{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%",children:e.jsx(Q,{id:s})})},s))})}),e.jsx($,{})]})]})};export{ne as default};
