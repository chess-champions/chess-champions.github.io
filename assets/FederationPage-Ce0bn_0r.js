import{r as g,n as p,j as e,B as i,p as y,T as u,R as b,t as w}from"./index-CY8rCq8p.js";import{S as v,K as T,P as F,V as S,a as E}from"./swiper-react-Dnf9Hw3r.js";import{I,R as D,H as B,F as k}from"./RouterLink-RydCilwe.js";import{u as f,F as z}from"./useNavigationService-Dkm2QYps.js";import{i as R,E as P,j as C,k as $,q as K,S as A,F as h}from"./ChessDataService-CS8ZffN-.js";import{K as H,a as L,C as O,Y as _}from"./YearFederationResultList-ByXWIkcI.js";import{T as U,a as Y,b as q,c as m,d as a,e as N}from"./TableRow-DLqpPEw3.js";import{P as V}from"./Paper-c-ffSlH9.js";import"./Divider-BIyLcO5_.js";const G=({id:t})=>{var j;const[d,x]=g.useState(null),{getYearUrl:o}=f(),{t:n}=p(),{data:r,isLoading:c,error:l}=R({queryKey:["federations",{id:t}],queryFn:async()=>await C.getFederation(t)});return e.jsxs(i,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[c&&e.jsx(y,{}),l&&e.jsx(P,{message:l.message}),!c&&!l&&r&&e.jsx(U,{component:V,children:e.jsxs(Y,{stickyHeader:!0,size:"small",children:[e.jsx(q,{children:e.jsxs(m,{children:[e.jsx(a,{}),e.jsx(a,{align:"left",children:e.jsx(u,{children:n("year")})}),e.jsx(a,{children:e.jsxs(i,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(i,{sx:{display:{xs:"none",sm:"block"}},children:n("gold")}),e.jsx("img",{alt:n("gold"),width:"16",height:"16",src:"/gold.svg"})]})}),e.jsx(a,{children:e.jsxs(i,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(i,{sx:{display:{xs:"none",sm:"block"}},children:n("silver")}),e.jsx("img",{alt:n("silver"),width:"16",height:"16",src:"/silver.svg"})]})}),e.jsx(a,{children:e.jsxs(i,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(i,{sx:{display:{xs:"none",sm:"block"}},children:n("bronze")}),e.jsx("img",{alt:n("bronze"),width:"16",height:"16",src:"/bronze.svg"})]})}),e.jsx(a,{children:e.jsxs(i,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(i,{sx:{display:{xs:"none",sm:"block"}},children:n("total")}),e.jsx("img",{alt:n("total"),width:"16",height:"16",src:"/total.svg"})]})})]})}),e.jsx(N,{children:(j=r.results)==null?void 0:j.map(s=>e.jsxs(b.Fragment,{children:[e.jsxs(m,{sx:{"& td":{borderBottom:"none"}},children:[e.jsx(a,{children:e.jsx(i,{display:"flex",alignItems:"center",children:e.jsx(I,{size:"small",sx:{padding:"0px"},onClick:()=>x(s.year===d?null:s.year),children:s.year===d?e.jsx(H,{}):e.jsx(L,{})})})}),e.jsx(a,{children:e.jsx(D,{to:o(s.year),children:s.year})}),e.jsx(a,{align:"center",children:s.gold||0}),e.jsx(a,{align:"center",children:s.silver||0}),e.jsx(a,{align:"center",children:s.bronze||0}),e.jsx(a,{align:"center",children:(s.gold||0)+(s.silver||0)+(s.bronze||0)})]}),e.jsx(m,{children:e.jsx(a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:e.jsx(O,{in:s.year===d,timeout:"auto",unmountOnExit:!0,children:e.jsx(i,{marginTop:1,marginBottom:2,children:e.jsx(_,{year:s.year,federation:t})})})})})]},`${t}_${s.year}`))})]})})]})},ae=()=>{const[t]=w(),{getFederationUrl:d,navigateToFederation:x}=f(),{t:o}=p(),n=$.stringToEnum(t.get("id"),z)||K,[r,c]=g.useState(n);return g.useEffect(()=>{n!=r&&x(r,!0)},[r]),e.jsxs(e.Fragment,{children:[e.jsx(A,{title:`${o(`federation_enum.${r}`)} - ${o("medals_table")}`,description:o("federation_description",{federation:o(`federation_enum2.${r}`)}),url:d(r,!1)}),e.jsxs(i,{display:"flex",flexDirection:"column",height:"100vh",padding:2,gap:1,boxSizing:"border-box",overflow:"hidden",children:[e.jsx(B,{title:o(`federation_enum.${r}`)}),e.jsx(i,{display:"flex",flexGrow:1,overflow:"hidden",height:"100%",children:e.jsx(v,{direction:"horizontal",initialSlide:h.indexOf(r),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1,dynamicBullets:!0,dynamicMainBullets:10},keyboard:{enabled:!0},onSlideChange:l=>{c(h[l.realIndex])},virtual:{enabled:!0},modules:[T,F,S],children:h.map(l=>e.jsx(E,{"aria-hidden":r!==l,children:e.jsx(i,{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%",children:e.jsx(G,{id:l})})},l))})}),e.jsx(k,{})]})]})};export{ae as default};
