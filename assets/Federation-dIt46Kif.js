import{o as y,r as s,j as e,H as w,B as c,T as B,L as C,E as k}from"./index-jC3NHVOB.js";import{S as E,P as D,K as F,a as I}from"./pagination-CitbjIaw.js";import{A as P,T as L,a as $,I as z,b as A,L as G}from"./ArrowBack-BiJ42Phl.js";import{S as b,j as H,C as K,f as R}from"./ChessDataService-CyWxNuZl.js";import{T as M,a as N,b as O,c as f,d as r,e as V}from"./TableRow-Dm8F9iRI.js";const d=["КИЇ","АРК","ВІН","ВОЛ","ДНІ","ДОН","ЖИТ","ЗАК","ЗАП","І-Ф","КИО","ЛУГ","ЛЬВ","МИК","ОДЕ","ПОЛ","РІВ","СУМ","ТЕР","ХАР","ХЕР","ХМЕ","ЧНІ","ЧНО","ЧРК"].map(x=>b.encode(x)),W=()=>{const[x]=y(),[h,S]=s.useState(()=>x.get("id")||d[0]),[j,m]=s.useState(null),[i,v]=s.useState({}),[g,u]=s.useState(!1),[t,p]=s.useState(null),o=H();return s.useEffect(()=>{let a=h,n=`${a}`;i[n]?(m(i[n].name),p(null),o.navigateToFederation(a,!0)):(u(!0),m(null),p(null),K.getFederation(a).then(l=>{m(l.name),v(T=>({...T,[`${n}`]:l}))}).catch(()=>p("Failed to fetch federation data")).finally(()=>{u(!1),o.navigateToFederation(a,!0)}))},[h]),e.jsxs(e.Fragment,{children:[e.jsxs(w,{children:[j&&e.jsx("title",{children:`${j} - Chess Champions`}),g||t?e.jsx("meta",{name:"robots",content:"noindex"}):e.jsx("meta",{name:"robots",content:"index, follow"})]}),e.jsxs(c,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(P,{position:"static",color:"success",children:e.jsxs(L,{children:[e.jsx($,{title:"Back",children:e.jsx(z,{edge:"start",color:"inherit",onClick:()=>o.navigateBack(),"aria-label":"back",children:e.jsx(A,{})})}),e.jsx(B,{variant:"h6",component:"h1",children:j})]})}),e.jsx(c,{display:"flex",flexGrow:1,overflow:"auto",padding:{xs:2,md:2},children:e.jsx(E,{direction:"horizontal",initialSlide:d.indexOf(h),loop:!0,spaceBetween:10,slidesPerView:1,pagination:{clickable:!0,dynamicBullets:!0,dynamicMainBullets:10},keyboard:{enabled:!0},onSlideChangeTransitionEnd:a=>{const n=d[a.realIndex];S(n)},modules:[D,F],children:d.map(a=>e.jsx(I,{children:e.jsx(c,{display:"flex",flexDirection:"column",sx:{overflow:"hidden",height:"100%"},children:e.jsxs(c,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[g&&e.jsx(C,{}),t&&e.jsx(k,{message:t}),!g&&!t&&i[`${a}`]&&e.jsx(M,{component:R,children:e.jsxs(N,{children:[e.jsx(O,{children:e.jsxs(f,{children:[e.jsx(r,{}),e.jsx(r,{align:"center",children:"Gold"}),e.jsx(r,{align:"center",children:"Silver"}),e.jsx(r,{align:"center",children:"Bronze"}),e.jsx(r,{align:"center",children:"Total"})]})}),e.jsx(V,{children:i[`${a}`].results.map(n=>e.jsxs(f,{children:[e.jsx(r,{children:e.jsx(G,{onClick:l=>{l.preventDefault(),o.navigateToYear(b.encode(n.year.toString()))},rel:"noopener",style:{cursor:"pointer"},children:n.year})}),e.jsx(r,{align:"center",children:n.gold||0}),e.jsx(r,{align:"center",children:n.silver||0}),e.jsx(r,{align:"center",children:n.bronze||0}),e.jsx(r,{align:"center",children:(n.gold||0)+(n.silver||0)+(n.bronze||0)})]},n.year))})]})})]})})},a))})})]})]})};export{W as default};
