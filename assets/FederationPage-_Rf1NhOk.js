import{n as g,j as e,B as d,q as f,E as u,v as p,r as h}from"./index-F0uqVnjk.js";import{P as y,E as b,g as E,S as T,F as x,K as v,e as w,V as F,f as S}from"./filters-BErkceM6.js";import{R as B,H as D}from"./RouterLink-CmjoKme4.js";import{u as j,F as P}from"./useNavigationService-BkdOuPKe.js";import{i as R,C,S as I}from"./ChessDataService-C5cnGQYN.js";import{T as $,a as z,b as H,c as m,d as i,e as L}from"./TableRow-Bgw0nplh.js";const O=({id:o})=>{var l;const{getYearUrl:c}=j(),{t:s}=g(),{data:n,isLoading:t,error:r}=R({queryKey:["federations",{id:o}],queryFn:async()=>await C.getFederation(o)});return e.jsxs(d,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[t&&e.jsx(f,{}),r&&e.jsx(u,{message:r.message}),!t&&!r&&n&&e.jsx($,{component:y,children:e.jsxs(z,{children:[e.jsx(H,{children:e.jsxs(m,{children:[e.jsx(i,{}),e.jsx(i,{align:"center",children:s("gold")}),e.jsx(i,{align:"center",children:s("silver")}),e.jsx(i,{align:"center",children:s("bronze")}),e.jsx(i,{align:"center",children:s("total")})]})}),e.jsx(L,{children:(l=n.results)==null?void 0:l.map(a=>e.jsxs(m,{children:[e.jsx(i,{children:e.jsx(B,{to:c(a.year),children:a.year})}),e.jsx(i,{align:"center",children:a.gold||0}),e.jsx(i,{align:"center",children:a.silver||0}),e.jsx(i,{align:"center",children:a.bronze||0}),e.jsx(i,{align:"center",children:(a.gold||0)+(a.silver||0)+(a.bronze||0)})]},a.year))})]})})]})},U=()=>{const[o]=p(),{getFederationUrl:c,navigateToFederation:s}=j(),{t:n}=g(),t=b.stringToEnum(o.get("id"),P)||E,[r,l]=h.useState(t);return h.useEffect(()=>{t!=r&&s(r,!0)},[r]),e.jsxs(e.Fragment,{children:[e.jsx(I,{title:`${n(`federation_enum.${r}`)} - ${n("medals_table")}`,description:n("federation_description",{federation:n(`federation_enum2.${r}`)}),url:c(r,!1)}),e.jsxs(d,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(D,{title:n(`federation_enum.${r}`)}),e.jsx(d,{display:"flex",flexGrow:1,overflow:"auto",padding:{xs:2,md:2},children:e.jsx(T,{direction:"horizontal",initialSlide:x.indexOf(r),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1,dynamicBullets:!0,dynamicMainBullets:10},keyboard:{enabled:!0},onSlideChange:a=>{l(x[a.realIndex])},virtual:{enabled:!0},modules:[v,w,F],children:x.map(a=>e.jsx(S,{"aria-hidden":r!==a,children:e.jsx(d,{display:"flex",flexDirection:"column",sx:{overflow:"hidden",height:"100%"},children:e.jsx(O,{id:a})})},a))})})]})]})};export{U as default};
