import{j as r,B as a,T as u,L as y,a as b,b as p}from"./mui-CXhE_iE7.js";import{a as m,r as x}from"./react-Bs57X6Ch.js";import{S as v,d as _,u as j,p as L,H as R,F as E,a as k,E as $,L as w,c as T,e as S,D as B}from"./shared-C6sOxaq-.js";import{u as D}from"./query-DeXAFL7x.js";import{M as f,R as d}from"./results-DJYxt9L9.js";import{u as h}from"./localization-BTb5j_W4.js";import"./analytics-HyNrjKFN.js";import"./utils-BT3gc4jm.js";const I="/",W={async get(e){const n=v.encode(e.toString()),s=await fetch(`${I}api/feds/${n}.json?v=f869c7c`);if(!s.ok)throw new Error(`Failed to get federation (id=${_[e]}) data`);return await s.json()}},A=({data:e})=>{const{t:n,i18n:s}=h(),l=(o,i)=>s.resolvedLanguage==="uk"?o||i||"":i||o||"",t=(o,i,F)=>{const g=l(i,F);return g?r.jsxs(a,{display:"flex",children:[r.jsx(a,{flexBasis:"50%",children:r.jsxs(u,{variant:"body1",children:[n(o),":"]})}),r.jsx(a,{flexBasis:"50%",children:r.jsx(u,{variant:"body1",children:g})})]},o):null},c=(o,i)=>i?r.jsxs(a,{display:"flex",children:[r.jsx(a,{flexBasis:"50%",children:r.jsxs(u,{variant:"body1",children:[n(o),":"]})}),r.jsx(a,{flexBasis:"50%",children:r.jsx(y,{href:i.startsWith("http://")||i.startsWith("https://")?i:`http://${i}`,target:"_blank",rel:"noopener noreferrer",underline:"hover",children:r.jsx(u,{variant:"body1",children:i})})})]},o):null;return r.jsxs(a,{display:"grid",children:[t("president",e.president_uk,e.president_en),t("first_vice_president",e.first_vice_president_uk,e.first_vice_president_en),t("vice_president",e.vice_president_uk,e.vice_president_en),t("head",e.head_uk,e.head_en),t("deputy_head",e.deputy_head_uk,e.deputy_head_en),t("executive_director",e.executive_director_uk,e.executive_director_en),t("secretary",e.secretary_uk,e.secretary_en),c("site",e.site)]})},C=({id:e,data:n})=>{const[s,l]=j("tab",L.withDefault(0)),{t}=h(),c=x.useCallback((o,i)=>{l(i)},[l]);return r.jsxs(a,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",minHeight:"100vh",children:[r.jsx(R,{title:t(`federation_enum.${e}`)}),r.jsx(A,{data:n}),r.jsxs(b,{value:s,onChange:c,children:[r.jsx(p,{label:t("results"),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),r.jsx(p,{label:t("club",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),r.jsx(p,{label:t("coach",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),r.jsx(p,{label:t("player",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),r.jsxs(a,{display:"flex",flexGrow:1,children:[s===0&&r.jsx(f,{filterField:d.Federation,filterId:e,groupField:d.Year,results:n.years}),s===1&&r.jsx(f,{filterField:d.Federation,filterId:e,groupField:d.Club,results:n.clubs}),s===2&&r.jsx(f,{filterField:d.Federation,filterId:e,groupField:d.Coach,results:n.coaches}),s===3&&r.jsx(f,{filterField:d.Federation,filterId:e,groupField:d.Player,results:n.players})]}),r.jsx(E,{})]})},M=m.memo(C),O=({id:e})=>{const{getFederationUrl:n}=k(),{t:s}=h(),{data:l,isLoading:t,error:c}=D({queryKey:["federations",{id:e}],queryFn:async()=>await W.get(e)}),o=x.useMemo(()=>`${s(`federation_enum.${e}`)}`,[e,s]),i=x.useMemo(()=>s("federation_description",{federation:s(`federation_enum2.${e}`)}),[e,s]);if(c)return r.jsx($,{message:c.message});if(t)return r.jsx(w,{});if(l)return r.jsxs(r.Fragment,{children:[r.jsx(T,{title:o,description:i,url:n(e,!1)}),r.jsx(M,{id:e,data:l})]})},H=m.memo(O),J=()=>{const[e]=j("id",S(_).withDefault(B).withOptions({clearOnDefault:!1}));return r.jsx(H,{id:e})};export{J as FederationPage};
