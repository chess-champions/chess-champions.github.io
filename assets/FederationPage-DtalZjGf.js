import{n as m,j as e,B as d,o as f,E as u,q as p,r as h}from"./index-DtjvqvD5.js";import{P as b,S as y,K as E,a as F,V as v,b as w}from"./swiper-react-BXfsXXfi.js";import{R as S,H as T,F as B}from"./RouterLink-ugCYHoxJ.js";import{u as j,F as D}from"./useNavigationService-CfxY49Kc.js";import{l as P,m as R,E as z,v as I,S as $,F as x}from"./ChessDataService-Cq9WvywI.js";import{T as C,a as H,b as L,c as g,d as i,e as O}from"./TableRow-CnMZNwCg.js";const _=({id:t})=>{var l;const{getYearUrl:c}=j(),{t:s}=m(),{data:n,isLoading:o,error:r}=P({queryKey:["federations",{id:t}],queryFn:async()=>await R.getFederation(t)});return e.jsxs(d,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[o&&e.jsx(f,{}),r&&e.jsx(u,{message:r.message}),!o&&!r&&n&&e.jsx(C,{component:b,children:e.jsxs(H,{children:[e.jsx(L,{children:e.jsxs(g,{children:[e.jsx(i,{}),e.jsx(i,{align:"center",children:s("gold")}),e.jsx(i,{align:"center",children:s("silver")}),e.jsx(i,{align:"center",children:s("bronze")}),e.jsx(i,{align:"center",children:s("total")})]})}),e.jsx(O,{children:(l=n.results)==null?void 0:l.map(a=>e.jsxs(g,{children:[e.jsx(i,{children:e.jsx(S,{to:c(a.year),children:a.year})}),e.jsx(i,{align:"center",children:a.gold||0}),e.jsx(i,{align:"center",children:a.silver||0}),e.jsx(i,{align:"center",children:a.bronze||0}),e.jsx(i,{align:"center",children:(a.gold||0)+(a.silver||0)+(a.bronze||0)})]},a.year))})]})})]})},V=()=>{const[t]=p(),{getFederationUrl:c,navigateToFederation:s}=j(),{t:n}=m(),o=z.stringToEnum(t.get("id"),D)||I,[r,l]=h.useState(o);return h.useEffect(()=>{o!=r&&s(r,!0)},[r]),e.jsxs(e.Fragment,{children:[e.jsx($,{title:`${n(`federation_enum.${r}`)} - ${n("medals_table")}`,description:n("federation_description",{federation:n(`federation_enum2.${r}`)}),url:c(r,!1)}),e.jsxs(d,{display:"flex",flexDirection:"column",height:"100vh",padding:2,gap:1,boxSizing:"border-box",overflow:"hidden",children:[e.jsx(T,{title:n(`federation_enum.${r}`)}),e.jsx(d,{display:"flex",flexGrow:1,overflow:"hidden",height:"100%",children:e.jsx(y,{direction:"horizontal",initialSlide:x.indexOf(r),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1,dynamicBullets:!0,dynamicMainBullets:10},keyboard:{enabled:!0},onSlideChange:a=>{l(x[a.realIndex])},virtual:{enabled:!0},modules:[E,F,v],children:x.map(a=>e.jsx(w,{"aria-hidden":r!==a,children:e.jsx(d,{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%",children:e.jsx(_,{id:a})})},a))})}),e.jsx(B,{})]})]})};export{V as default};
