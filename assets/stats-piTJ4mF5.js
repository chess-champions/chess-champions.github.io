import{j as e,B as g,R as f,l as h,m as c,w as u}from"./about-DSTax99k.js";import{S as m,r as j,s as b,b as p,H as w,F as $,u as x,t as y,p as _,m as R,a as S,c as F}from"./clubs-Dq7tvVo8.js";import{R as l,u as L,M as v}from"./results-Ca9S3CKl.js";var t=(s=>(s[s.feds=0]="feds",s[s.clubs=1]="clubs",s[s.coaches=2]="coaches",s[s.players=3]="players",s))(t||{});const D="/",T={async getStats(s,r){const a=m.encode(r.toString()),i=await fetch(`${D}api/stats/${t[s]}/${a}.json?v=29f1776`);if(!i.ok)throw new Error(`Failed to get year (${r}) stats`);return await i.json()}},d=({group:s,year:r})=>{const a={[t.feds]:l.Federation,[t.clubs]:l.Club,[t.coaches]:l.Coach,[t.players]:l.Player},{data:i,isLoading:o,error:n}=L({queryKey:["stats",{group:s,year:r}],queryFn:async()=>await T.getStats(s,r)});return e.jsxs(g,{display:"flex",flexDirection:"column",flexGrow:"grow",sx:{overflow:"auto",width:"100%",height:"100%"},children:[o&&e.jsx(j,{}),n&&e.jsx(b,{message:n.message}),!o&&!n&&i&&e.jsx(v,{filterField:l.Year,filterId:r,groupField:a[s],results:i.results})]})},A=({group:s,setGroup:r,year:a})=>{const{t:i}=p();return e.jsxs(g,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",children:[e.jsx(w,{title:`${a} ${i("medals_table")}`}),e.jsxs(h,{value:s,onChange:(o,n)=>r(n),children:[e.jsx(c,{label:i(`stats_group_enum.${t.feds}`),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(c,{label:i(`stats_group_enum.${t.clubs}`),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(c,{label:i(`stats_group_enum.${t.coaches}`),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(c,{label:i(`stats_group_enum.${t.players}`),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),e.jsxs(g,{display:"flex",flexGrow:1,children:[s===t.feds&&e.jsx(d,{group:t.feds,year:a}),s===t.clubs&&e.jsx(d,{group:t.clubs,year:a}),s===t.coaches&&e.jsx(d,{group:t.coaches,year:a}),s===t.players&&e.jsx(d,{group:t.players,year:a})]}),e.jsx($,{})]})},O=f.memo(A),C=()=>{const[s,r]=x("group",y(t).withDefault(t.feds).withOptions({clearOnDefault:!1})),[a,i]=x("year",_.withDefault(R).withOptions({clearOnDefault:!1})),{getStatsUrl:o}=S(),{t:n}=p();return e.jsxs(e.Fragment,{children:[e.jsx(F,{title:`${a} - ${n("medals_table")} - ${n(`stats_group_enum.${s}`)}`,description:n("year_description",{year:a}),url:o(a,!1)}),e.jsx(O,{group:s,setGroup:r,year:a,setYear:i})]})},M=u(C);export{M as S};
