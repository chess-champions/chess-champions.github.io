import{b as P,a as F,w as L,k as C,s as R,T as c,h as T,m as A,r as w,c as V,u as U,j as e,d as E,e as M,i as H,v as I,n as N,H as q,E as D,q as z,B as s,L as G}from"./index-iuiEBtF_.js";import{A as O,T as W,a as K,I as Q,b as Y,R as J}from"./RouterLink-CgtOSFPi.js";import{k as B,j as X,S as Z,C as ee}from"./ChessDataService-C1TNHu6n.js";import{u as re,a as ne}from"./useNavigationService-DrZ8tlzY.js";function se(n){return P("MuiLink",n)}const oe=F("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),ie=({theme:n,ownerState:o})=>{const t=o.color,u=L(n,`palette.${t}`,!1)||o.color,x=L(n,`palette.${t}Channel`);return"vars"in n&&x?`rgba(${x} / 0.4)`:C(u,.4)},S={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},te=n=>{const{classes:o,component:t,focusVisible:u,underline:x}=n,a={root:["root",`underline${T(x)}`,t==="button"&&"button",u&&"focusVisible"]};return M(a,se,o)},ae=R(c,{name:"MuiLink",slot:"Root",overridesResolver:(n,o)=>{const{ownerState:t}=n;return[o.root,o[`underline${T(t.underline)}`],t.component==="button"&&o.button]}})(A(({theme:n})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:o,ownerState:t})=>o==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(n.palette).filter(H()).map(([o])=>({props:{underline:"always",color:o},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette[o].mainChannel} / 0.4)`:C(n.palette[o].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:C(n.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.secondaryChannel} / 0.4)`:C(n.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${oe.focusVisible}`]:{outline:"auto"}}}]}))),le=w.forwardRef(function(o,t){const u=V({props:o,name:"MuiLink"}),x=U(),{className:a,color:d="primary",component:p="a",onBlur:r,onFocus:f,TypographyClasses:m,underline:y="always",variant:b="inherit",sx:l,...i}=u,[g,j]=w.useState(!1),v=h=>{B(h.target)||j(!1),r&&r(h)},k=h=>{B(h.target)&&j(!0),f&&f(h)},$={...u,color:d,component:p,focusVisible:g,underline:y,variant:b},_=te($);return e.jsx(ae,{color:d,className:E(_.root,a),classes:m,component:p,onBlur:v,onFocus:k,ref:t,ownerState:$,variant:b,...i,sx:[...S[d]===void 0?[{color:d}]:[],...Array.isArray(l)?l:[l]],style:{...i.style,...y==="always"&&d!=="inherit"&&!S[d]&&{"--Link-underlineColor":ie({theme:x,ownerState:$})}}})}),pe=()=>{const[n]=I(),{getTournamentUrl:o,getPlayerUrl:t,getFederationUrl:u,navigateBack:x}=re(),{t:a,i18n:d}=N(),p=parseInt(n.get("id")??"")||null;if(!p)return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsx("meta",{name:"robots",content:"noindex"})}),e.jsx(D,{message:"Player id is missing."})]});const{data:r,isLoading:f,error:m}=X({queryKey:["players",{id:p}],queryFn:async()=>await ee.getPlayer(p)}),y=w.useMemo(()=>(d.resolvedLanguage==="uk"?r==null?void 0:r.name_uk:r==null?void 0:r.name_en)||(r==null?void 0:r.name_uk)||(r==null?void 0:r.name_en)||"",[r,d.resolvedLanguage]);if(m)return e.jsx(D,{message:m.message});if(f)return e.jsx(z,{});const b=(l,i,g,j)=>{const v=a(`game_enum_short.${g}`),k=a(`gender_category.${j}.${i}`);return k?`${l} ${v} - ${k}`:`${l} ${v}`};return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:y,description:a("player_description"),url:t(p,!1)}),e.jsxs(s,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(O,{position:"static",color:(r==null?void 0:r.gender)===null?"default":(r==null?void 0:r.gender)===ne.Open?"primary":"secondary",children:e.jsxs(W,{children:[e.jsx(K,{title:"Back",children:e.jsx(Q,{edge:"start",color:"inherit",onClick:()=>x(),"aria-label":"back",children:e.jsx(Y,{})})}),e.jsx(c,{variant:"h6",component:"h1",children:y})]})}),e.jsx(s,{overflow:"auto",padding:{xs:2,md:2},children:e.jsxs(s,{display:"flex",flexDirection:"column",gap:{xs:1,md:2},children:[e.jsxs(s,{display:"grid",children:[(r==null?void 0:r.id)&&r.id>0&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(c,{variant:"body1",children:[a("fide"),":"]})}),e.jsx(s,{flexBasis:"50%",children:e.jsx(le,{href:`https://ratings.fide.com/profile/${r.id}`,variant:"body1",target:"_blank",rel:"noopener",children:r.id})})]}),(r==null?void 0:r.fed)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(c,{variant:"body1",children:[a("federation"),":"]})}),e.jsx(s,{flexBasis:"50%",children:e.jsx(J,{to:u(r.fed),children:a(`federation_enum_short.${r.fed}`)})})]}),(r==null?void 0:r.yob)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(c,{variant:"body1",children:[a("year_of_birth"),":"]})}),e.jsxs(s,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(c,{variant:"body1",children:r.yob}),e.jsx(c,{variant:"body1",color:"textSecondary",children:`(${new Date().getFullYear()-r.yob} ${a("years")})`})]})]})]}),[...new Set(r==null?void 0:r.results.map(l=>l.rank))].map(l=>e.jsxs(s,{display:"flex",padding:2,gap:1,border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:l<=3?"white":"",children:[e.jsx(s,{flexGrow:"auto",children:e.jsxs(c,{variant:"body1",children:[l,"."]})}),e.jsx(s,{flex:1,children:r==null?void 0:r.results.filter(i=>i.rank===l).map((i,g)=>e.jsx(G,{to:o(i.year,i.category,i.game,i.gender),style:{textDecoration:"none",color:"inherit"},children:e.jsxs(s,{display:"flex",flexDirection:"row",sx:{"&:hover":{backgroundColor:"#f9f9f9"},borderRadius:"4px"},children:[e.jsx(s,{flexGrow:1,children:e.jsx(c,{variant:"body1",sx:{"&:hover":{textDecoration:"underline"}},children:b(i.year,i.category,i.game,i.gender)})}),e.jsx(s,{children:e.jsx(c,{variant:"body2",color:"textSecondary",children:`${r.yob?` ${i.year-r.yob} ${a("years")}`:""}`})})]})},g))})]},l))]})})]})]})};export{pe as default};
