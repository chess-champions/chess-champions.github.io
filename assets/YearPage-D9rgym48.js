import{n as m,j as e,B as d,q as j,E as p,v as u,r as h}from"./index-DpWzXCBu.js";import{P as b,b as y,S as v,Y as x,K as w,e as S,V as T,f as E}from"./filters-FdeN_idn.js";import{R as Y,H as P}from"./RouterLink-DyItezfD.js";import{i as R,C as B,S as C}from"./ChessDataService-CLP9N5gi.js";import{u as f}from"./useNavigationService-BgDB8-Hy.js";import{T as D,a as $,b as z,c as g,d as r,e as F}from"./TableRow-C3PjoA5R.js";const I=({id:t})=>{var o;const{getFederationUrl:c}=f(),{t:i}=m(),{data:n,isLoading:l,error:s}=R({queryKey:["years",{id:t}],queryFn:async()=>await B.getYear(t)});return e.jsxs(d,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[l&&e.jsx(j,{}),s&&e.jsx(p,{message:s.message}),!l&&!s&&n&&e.jsx(D,{component:b,children:e.jsxs($,{children:[e.jsx(z,{children:e.jsxs(g,{children:[e.jsx(r,{}),e.jsx(r,{align:"center",children:i("gold")}),e.jsx(r,{align:"center",children:i("silver")}),e.jsx(r,{align:"center",children:i("bronze")}),e.jsx(r,{align:"center",children:i("total")})]})}),e.jsx(F,{children:(o=n.results)==null?void 0:o.map(a=>e.jsxs(g,{children:[e.jsx(r,{children:a.fed&&e.jsx(Y,{to:c(a.fed),children:i(`federation_enum_short.${a.fed}`)})}),e.jsx(r,{align:"center",children:a.gold||0}),e.jsx(r,{align:"center",children:a.silver||0}),e.jsx(r,{align:"center",children:a.bronze||0}),e.jsx(r,{align:"center",children:(a.gold||0)+(a.silver||0)+(a.bronze||0)})]},a.fed))})]})})]})},K=()=>{const[t]=u(),{getYearUrl:c,navigateToYear:i}=f(),{t:n}=m(),l=parseInt(t.get("id")||"")||y,[s,o]=h.useState(l);return h.useEffect(()=>{l!=s&&i(s,!0)},[s]),e.jsxs(e.Fragment,{children:[e.jsx(C,{title:`${s} - ${n("medals_table")}`,description:n("year_description",{year:s}),url:c(s,!1)}),e.jsxs(d,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(P,{title:`${s} ${n("medals_table")}`}),e.jsx(d,{display:"flex",flexGrow:1,overflow:"auto",padding:{xs:2,md:2},children:e.jsx(v,{direction:"horizontal",initialSlide:x.indexOf(s),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:a=>{o(x[a.realIndex])},virtual:{enabled:!0},modules:[w,S,T],children:x.map(a=>e.jsx(E,{"aria-hidden":s!==a,children:e.jsx(d,{display:"flex",flexDirection:"column",sx:{overflow:"hidden",height:"100%"},children:e.jsx(I,{id:a})})},a))})})]})]})};export{K as default};
