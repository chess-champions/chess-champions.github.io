import{n as m,j as e,B as h,q as u,E as b,v,r as j,T as y}from"./index-iN1zjjZa.js";import{L as T,A as S,T as w,a as B,I as k,b as E}from"./ArrowBack-DE_6r6I7.js";import{b as I,S as P,Y as g,K as Y,P as A,V as C,e as D}from"./filters-ZvXyD2Wh.js";import{n as f,l as $,f as L,m as z,S as F}from"./NavigationService-C2Jh75N1.js";import{T as R,a as _,b as q,c as p,d as n,e as K}from"./TableRow-DFUhD-mg.js";const V=({id:t})=>{var d;const c=f(),{t:r}=m(),{data:i,isLoading:a,error:o}=$({queryKey:["years",{id:t}],queryFn:async()=>await z.getYear(t)});return e.jsxs(h,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[a&&e.jsx(u,{}),o&&e.jsx(b,{message:o.message}),!a&&!o&&i&&e.jsx(R,{component:L,children:e.jsxs(_,{children:[e.jsx(q,{children:e.jsxs(p,{children:[e.jsx(n,{}),e.jsx(n,{align:"center",children:r("gold")}),e.jsx(n,{align:"center",children:r("silver")}),e.jsx(n,{align:"center",children:r("bronze")}),e.jsx(n,{align:"center",children:r("total")})]})}),e.jsx(K,{children:(d=i.results)==null?void 0:d.map(s=>e.jsxs(p,{children:[e.jsx(n,{children:s.fed&&e.jsx(T,{onClick:x=>{x.preventDefault(),c.navigateToFederation(s.fed)},rel:"noopener",style:{cursor:"pointer"},children:r(`federation_enum_short.${s.fed}`)})}),e.jsx(n,{align:"center",children:s.gold||0}),e.jsx(n,{align:"center",children:s.silver||0}),e.jsx(n,{align:"center",children:s.bronze||0}),e.jsx(n,{align:"center",children:(s.gold||0)+(s.silver||0)+(s.bronze||0)})]},s.fed))})]})})]})},Q=()=>{const[t]=v(),c=f(),{t:r}=m(),i=parseInt(t.get("id")||"")||I,[a,o]=j.useState(i),d=`${a} - ${r("medals_table")}`,s=r("year_description",{year:a}),x=`/years?id=${a}`;return j.useEffect(()=>{i!=a&&c.navigateToYear(a,!0)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(F,{title:d,description:s,url:x,canonicalUrl:x}),e.jsxs(h,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(S,{position:"static",color:"default",children:e.jsxs(w,{children:[e.jsx(B,{title:"Back",children:e.jsx(k,{edge:"start",color:"inherit",onClick:()=>c.navigateBack(),"aria-label":"back",children:e.jsx(E,{})})}),e.jsx(y,{variant:"h6",component:"h1",children:`${a} ${r("medals_table")}`})]})}),e.jsx(h,{display:"flex",flexGrow:1,overflow:"auto",padding:{xs:2,md:2},children:e.jsx(P,{direction:"horizontal",initialSlide:g.indexOf(a),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:l=>{o(g[l.realIndex])},virtual:{enabled:!0},modules:[Y,A,C],children:g.map(l=>e.jsx(D,{"aria-hidden":a!==l,children:e.jsx(h,{display:"flex",flexDirection:"column",sx:{overflow:"hidden",height:"100%"},children:e.jsx(V,{id:l})})},l))})})]})]})};export{Q as default};
