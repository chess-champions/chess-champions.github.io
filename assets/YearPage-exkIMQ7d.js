import{n as p,j as e,B as d,q as m,E as b,v as u,r as g,T as y}from"./index-CxKMhj-_.js";import{R as T,A as v,T as w,a as S,I as B,b as k}from"./RouterLink-DYFip8eX.js";import{b as E,S as Y,Y as h,K as I,P,V as A,e as C}from"./filters-DONOOl98.js";import{j as f,k as R,f as D,C as $,S as z}from"./ChessDataService-DZaNtsZq.js";import{T as F,a as L,b as _,c as j,d as r,e as q}from"./TableRow-DtqhuLhy.js";const K=({id:t})=>{var a;const{getFederationUrl:x}=f(),{t:i}=p(),{data:c,isLoading:n,error:l}=R({queryKey:["years",{id:t}],queryFn:async()=>await $.getYear(t)});return e.jsxs(d,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[n&&e.jsx(m,{}),l&&e.jsx(b,{message:l.message}),!n&&!l&&c&&e.jsx(F,{component:D,children:e.jsxs(L,{children:[e.jsx(_,{children:e.jsxs(j,{children:[e.jsx(r,{}),e.jsx(r,{align:"center",children:i("gold")}),e.jsx(r,{align:"center",children:i("silver")}),e.jsx(r,{align:"center",children:i("bronze")}),e.jsx(r,{align:"center",children:i("total")})]})}),e.jsx(q,{children:(a=c.results)==null?void 0:a.map(s=>e.jsxs(j,{children:[e.jsx(r,{children:s.fed&&e.jsx(T,{to:x(s.fed),children:i(`federation_enum_short.${s.fed}`)})}),e.jsx(r,{align:"center",children:s.gold||0}),e.jsx(r,{align:"center",children:s.silver||0}),e.jsx(r,{align:"center",children:s.bronze||0}),e.jsx(r,{align:"center",children:(s.gold||0)+(s.silver||0)+(s.bronze||0)})]},s.fed))})]})})]})},N=()=>{const[t]=u(),{getYearUrl:x,navigateBack:i,navigateToYear:c}=f(),{t:n}=p(),l=parseInt(t.get("id")||"")||E,[a,s]=g.useState(l);return g.useEffect(()=>{l!=a&&c(a,!0)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(z,{title:`${a} - ${n("medals_table")}`,description:n("year_description",{year:a}),url:x(a,!1)}),e.jsxs(d,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(v,{position:"static",color:"default",children:e.jsxs(w,{children:[e.jsx(S,{title:"Back",children:e.jsx(B,{edge:"start",color:"inherit",onClick:()=>i(),"aria-label":"back",children:e.jsx(k,{})})}),e.jsx(y,{variant:"h6",component:"h1",children:`${a} ${n("medals_table")}`})]})}),e.jsx(d,{display:"flex",flexGrow:1,overflow:"auto",padding:{xs:2,md:2},children:e.jsx(Y,{direction:"horizontal",initialSlide:h.indexOf(a),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:o=>{s(h[o.realIndex])},virtual:{enabled:!0},modules:[I,P,A],children:h.map(o=>e.jsx(C,{"aria-hidden":a!==o,children:e.jsx(d,{display:"flex",flexDirection:"column",sx:{overflow:"hidden",height:"100%"},children:e.jsx(K,{id:o})})},o))})})]})]})};export{N as default};
