import{o as v,r as o,j as e,H as T,B as c,T as w,L as y,E as B}from"./index-CA3UbOML.js";import{S as k,P as E,K as C,a as D}from"./pagination-BiQezCqg.js";import{A as I,T as Y,a as P,I as L,b as z,L as A}from"./ArrowBack-BJRCinZg.js";import{S as u,j as F,C as G,f as H}from"./ChessDataService-D62sjUTK.js";import{Y as R}from"./filters-CMm1FCJ3.js";import{T as K,a as N,b as O,c as p,d as r,e as V}from"./TableRow-D1uybU8P.js";const d=R.map(x=>u.encode(x.toString())),X=()=>{var f;const[x]=v(),[s,b]=o.useState(()=>x.get("id")||d[0]),[i,S]=o.useState({}),[h,m]=o.useState(!1),[t,j]=o.useState(null),l=F();return o.useEffect(()=>{let n=s;i[n]?(j(null),l.navigateToYear(n,!0)):(m(!0),j(null),G.getYear(n).then(a=>{S(g=>({...g,[n]:a}))}).catch(()=>j("Failed to fetch year data")).finally(()=>{m(!1),l.navigateToYear(n,!0)}))},[s]),e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[i[s]&&e.jsx("title",{children:i[s].name}),h||t?e.jsx("meta",{name:"robots",content:"noindex"}):e.jsx("meta",{name:"robots",content:"index, follow"})]}),e.jsxs(c,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(I,{position:"static",color:"default",children:e.jsxs(Y,{children:[e.jsx(P,{title:"Back",children:e.jsx(L,{edge:"start",color:"inherit",onClick:()=>l.navigateBack(),"aria-label":"back",children:e.jsx(z,{})})}),e.jsx(w,{variant:"h6",component:"h1",children:(f=i[s])==null?void 0:f.name})]})}),e.jsx(c,{display:"flex",flexGrow:1,overflow:"auto",padding:{xs:2,md:2},children:e.jsx(k,{direction:"horizontal",initialSlide:d.indexOf(s),loop:!0,spaceBetween:10,slidesPerView:1,pagination:{clickable:!0},keyboard:{enabled:!0},onSlideChangeTransitionEnd:n=>{const a=d[n.realIndex];b(a)},modules:[E,C],children:d.map(n=>e.jsx(D,{children:e.jsx(c,{display:"flex",flexDirection:"column",sx:{overflow:"hidden",height:"100%"},children:e.jsxs(c,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[h&&e.jsx(y,{}),t&&e.jsx(B,{message:t}),!h&&!t&&i[n]&&e.jsx(K,{component:H,children:e.jsxs(N,{children:[e.jsx(O,{children:e.jsxs(p,{children:[e.jsx(r,{}),e.jsx(r,{align:"center",children:"Gold"}),e.jsx(r,{align:"center",children:"Silver"}),e.jsx(r,{align:"center",children:"Bronze"}),e.jsx(r,{align:"center",children:"Total"})]})}),e.jsx(V,{children:i[n].results.map(a=>e.jsxs(p,{children:[e.jsx(r,{children:e.jsx(A,{onClick:g=>{g.preventDefault(),l.navigateToFederation(u.encode(a.fed))},rel:"noopener",style:{cursor:"pointer"},children:a.fed})}),e.jsx(r,{align:"center",children:a.gold||0}),e.jsx(r,{align:"center",children:a.silver||0}),e.jsx(r,{align:"center",children:a.bronze||0}),e.jsx(r,{align:"center",children:(a.gold||0)+(a.silver||0)+(a.bronze||0)})]},a.fed))})]})})]})})},n))})})]})]})};export{X as default};
