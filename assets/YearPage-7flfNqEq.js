import{n as p,j as e,B as d,q as m,E as u,v as b,r as g,T as v}from"./index-Dyvc8Etw.js";import{L as y,A as T,T as w,a as S,I as k,b as B}from"./ArrowBack-DvSKM79R.js";import{b as E,S as Y,Y as h,K as C,P as I,V as P,e as A}from"./filters-Dhvx8KzX.js";import{j as f,k as D,f as L,C as $,S as z}from"./ChessDataService-rcY7J7ic.js";import{T as F,a as R,b as _,c as j,d as s,e as q}from"./TableRow-CNaENgka.js";const K=({id:t})=>{var a;const{navigateToFederation:x}=f(),{t:i}=p(),{data:c,isLoading:l,error:o}=D({queryKey:["years",{id:t}],queryFn:async()=>await $.getYear(t)});return e.jsxs(d,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[l&&e.jsx(m,{}),o&&e.jsx(u,{message:o.message}),!l&&!o&&c&&e.jsx(F,{component:L,children:e.jsxs(R,{children:[e.jsx(_,{children:e.jsxs(j,{children:[e.jsx(s,{}),e.jsx(s,{align:"center",children:i("gold")}),e.jsx(s,{align:"center",children:i("silver")}),e.jsx(s,{align:"center",children:i("bronze")}),e.jsx(s,{align:"center",children:i("total")})]})}),e.jsx(q,{children:(a=c.results)==null?void 0:a.map(r=>e.jsxs(j,{children:[e.jsx(s,{children:r.fed&&e.jsx(y,{onClick:n=>{n.preventDefault(),x(r.fed)},rel:"noopener",style:{cursor:"pointer"},children:i(`federation_enum_short.${r.fed}`)})}),e.jsx(s,{align:"center",children:r.gold||0}),e.jsx(s,{align:"center",children:r.silver||0}),e.jsx(s,{align:"center",children:r.bronze||0}),e.jsx(s,{align:"center",children:(r.gold||0)+(r.silver||0)+(r.bronze||0)})]},r.fed))})]})})]})},N=()=>{const[t]=b(),{getYearUrl:x,navigateBack:i,navigateToYear:c}=f(),{t:l}=p(),o=parseInt(t.get("id")||"")||E,[a,r]=g.useState(o);return g.useEffect(()=>{o!=a&&c(a,!0)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(z,{title:`${a} - ${l("medals_table")}`,description:l("year_description",{year:a}),url:x(a,!1)}),e.jsxs(d,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(T,{position:"static",color:"default",children:e.jsxs(w,{children:[e.jsx(S,{title:"Back",children:e.jsx(k,{edge:"start",color:"inherit",onClick:()=>i(),"aria-label":"back",children:e.jsx(B,{})})}),e.jsx(v,{variant:"h6",component:"h1",children:`${a} ${l("medals_table")}`})]})}),e.jsx(d,{display:"flex",flexGrow:1,overflow:"auto",padding:{xs:2,md:2},children:e.jsx(Y,{direction:"horizontal",initialSlide:h.indexOf(a),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:n=>{r(h[n.realIndex])},virtual:{enabled:!0},modules:[C,I,P],children:h.map(n=>e.jsx(A,{"aria-hidden":a!==n,children:e.jsx(d,{display:"flex",flexDirection:"column",sx:{overflow:"hidden",height:"100%"},children:e.jsx(K,{id:n})})},n))})})]})]})};export{N as default};
