import{j as e,r as g,g as k,m as ue,u as Pe,L as V,e as he,S as ye,n as be,O as Be,B as Ae,o as ze,p as D,q as Ie}from"./react-BuJ6DvQi.js";import{H as ve,c as Oe,U as Ve}from"./unhead-BV6k_4op.js";import{B as c,T as u,a as Ke,b as pe,c as Ce,I as $e,A as He,C as Ye,D as F,d as Ne,P as We,e as Fe,f as qe,g as ee,h as w,i as Ge,K as Qe,j as Ze,k as Xe,l as Je,m as H,n as se,o as S,L as de,p as Ee,M as en,q as nn,G as M,r as tn}from"./mui-DTxZG2EB.js";import{u as B,c as sn,p as q,a as on,N as rn}from"./nuqs-C5_lfp_8.js";import{u as y,i as we,B as ln,a as an,b as cn,t as dn}from"./i18next-jNpdfM5z.js";import{au as me,av as xn,aw as hn,ax as gn}from"./vendor-hSae87XV.js";import{u as Y,Q as un,a as pn}from"./tanstack-BpBr2ksF.js";import{K as _e,P as ke,V as Se}from"./swiper-DVTyoWTt.js";import{R as mn,C as jn,a as fn,X as yn,Y as bn,T as vn,L as Cn,b as $n,S as wn}from"./recharts-CXt15Kac.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=s(t);fetch(t.href,i)}})();const _n=()=>e.jsxs(c,{padding:{xs:2,md:2},children:[e.jsx(u,{variant:"h4",gutterBottom:!0,children:"About Us"}),e.jsx(u,{variant:"body1",children:"Welcome to our application!"})]}),T=({message:n,height:o="100vh"})=>e.jsx(c,{display:"flex",justifyContent:"center",alignItems:"center",height:o,children:e.jsx(u,{variant:"h6",color:"error",children:n})});var ge=(n=>(n[n.WC=0]="WC",n[n.EC=1]="EC",n[n.UC=2]="UC",n))(ge||{}),N=(n=>(n[n.All=0]="All",n[n.U20=1]="U20",n[n.U18=2]="U18",n[n.U16=3]="U16",n[n.U14=4]="U14",n[n.U12=5]="U12",n[n.U10=6]="U10",n[n.U08=7]="U08",n))(N||{}),R=(n=>(n[n.Classical=0]="Classical",n[n.Rapid=1]="Rapid",n[n.Blitz=2]="Blitz",n))(R||{}),G=(n=>(n[n.Open=0]="Open",n[n.Women=1]="Women",n))(G||{}),Q=(n=>(n[n.KYI=1]="KYI",n[n.ARC=2]="ARC",n[n.VIN=3]="VIN",n[n.VOL=4]="VOL",n[n.DNI=5]="DNI",n[n.DON=6]="DON",n[n.ZHY=7]="ZHY",n[n.ZAK=8]="ZAK",n[n.ZAP=9]="ZAP",n[n.IF=10]="IF",n[n.KYO=11]="KYO",n[n.KIR=12]="KIR",n[n.LUH=13]="LUH",n[n.LVI=14]="LVI",n[n.MYK=15]="MYK",n[n.ODE=16]="ODE",n[n.POL=17]="POL",n[n.RIV=18]="RIV",n[n.SUM=19]="SUM",n[n.TER=20]="TER",n[n.KHA=21]="KHA",n[n.KHE=22]="KHE",n[n.KHM=23]="KHM",n[n.CHN=24]="CHN",n[n.CHO=25]="CHO",n[n.CHK=26]="CHK",n))(Q||{});class K{static stringToEnum(o,s){if(!o)return;const r=o.toLowerCase();for(const t in s)if(isNaN(Number(t))&&t.toLowerCase()===r)return s[t]}static getEnums(o){return Object.keys(o).filter(s=>isNaN(Number(s))).map(s=>o[s])}}const P=[2025,2024,2023,2022,2021,2020,2019,2018,2017,2016,2015,2014],kn=K.getEnums(N),Sn=K.getEnums(R),Ln=K.getEnums(G);K.getEnums(Q);const Le=2025,Dn=N.U20,Rn=R.Classical,De=G.Open,Un=Q.KYI,Re=g.createContext("primary"),Tn=({children:n,gender:o})=>{const s=o!==De?"secondary":"primary";return e.jsx(Re.Provider,{value:s,children:n})},W=()=>g.useContext(Re),Mn=()=>{const{i18n:n}=y(),[o,s]=B("lng",{defaultValue:Array.isArray(n.options.fallbackLng)?n.options.fallbackLng[0]:n.options.fallbackLng}),r=W(),t=g.useCallback((i,l)=>{s(l)},[s]);return g.useEffect(()=>{n.changeLanguage(o)},[n,o]),e.jsxs(Ke,{color:r,value:n.resolvedLanguage,exclusive:!0,onChange:t,size:"small",children:[e.jsx(pe,{value:"uk",children:"Ua"}),e.jsx(pe,{value:"en",children:"En"})]})},Ue=k.memo(Mn),oe=()=>e.jsx(c,{children:e.jsx(Ue,{})}),Pn=()=>(g.useEffect(()=>{ue.initialize("G-SW36B6D87J",{gtagOptions:{send_page_view:!1},testMode:!1});const n=new MutationObserver(()=>{ue.send({hitType:"pageview",page:location.pathname+location.search})}),o=document.querySelector("title");return o&&n.observe(o,{childList:!0}),()=>n.disconnect()},[]),null),_=()=>{const{i18n:n}=y(),o=Pe(),s=Array.isArray(n.options.fallbackLng)?n.options.fallbackLng[0]:n.options.fallbackLng,r=(j,f)=>!f||f===s?j:`${j}${j.includes("?")?"&":"?"}lng=${f}`;return{localizeUrl:r,getAlternateUrls:j=>["uk","en"].map(f=>({lng:f,url:r(j,f)})),getTournamentUrl:(j,f,L,v,I=!0)=>r(`/?year=${j}&category=${N[f]}&game=${R[L]}&gender=${G[v]}`,I?n.resolvedLanguage:void 0),getPlayerUrl:(j,f=!0)=>r(`/players/?id=${j}`,f?n.resolvedLanguage:void 0),getFederationUrl:(j,f=!0)=>r(`/feds/?id=${Q[j]}`,f?n.resolvedLanguage:void 0),getClubUrl:(j,f=!0)=>r(`/clubs/?id=${j}`,f?n.resolvedLanguage:void 0),getCoachUrl:(j,f=!0)=>r(`/coaches/?id=${j}`,f?n.resolvedLanguage:void 0),getStatsUrl:(j,f=!0)=>r(`/stats/?year=${j}`,f?n.resolvedLanguage:void 0),navigateBack:()=>{const j=window.history.state;((j==null?void 0:j.idx)??0)<=0?o(r("/",n.resolvedLanguage)):o(-1)}}},re=({title:n})=>{const{navigateBack:o}=_(),{t:s}=y();return e.jsxs(c,{display:"flex",alignItems:"center",children:[e.jsx(Ce,{title:s("back"),children:e.jsx($e,{edge:"start",color:"inherit",onClick:o,"aria-label":"back",children:e.jsx(He,{})})}),e.jsx(u,{variant:"h6",component:"h1",ml:1,noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:n})]})},z=({height:n="100vh"})=>e.jsx(c,{display:"flex",justifyContent:"center",alignItems:"center",height:n,children:e.jsx(Ye,{size:"30px"})}),ne=({to:n,children:o})=>e.jsx(V,{to:n,style:{textDecoration:"none",color:"inherit",display:"inline"},onClick:s=>s.stopPropagation(),children:e.jsx(u,{variant:"body1",color:"primary",sx:{display:"inline",textDecoration:"underline",textDecorationColor:"rgba(25, 118, 210, 0.4)","&:hover":{textDecorationColor:"rgba(25, 118, 210, 1)"}},children:o})}),ce=()=>e.jsx(ve,{children:e.jsx("meta",{name:"robots",content:"noindex"})}),Z=({title:n,description:o,url:s})=>{const{t:r,i18n:t}=y(),{localizeUrl:i,getAlternateUrls:l}=_(),a=r("site_name"),d=g.useMemo(()=>typeof window<"u"?window.location.origin:"https://chess-champions.github.io",[]),x=i(s,t.resolvedLanguage);return e.jsxs(ve,{titleTemplate:r("title_template"),children:[e.jsx("title",{children:n}),e.jsx("meta",{name:"description",content:o}),e.jsx("link",{rel:"canonical",href:`${d}${x}`}),l(s).map(({lng:p,url:C})=>e.jsx("link",{id:`alt-${p}`,rel:"alternate",hrefLang:p,href:`${d}${C}`})),e.jsx("meta",{property:"og:locale",content:t.resolvedLanguage}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:title",content:n}),e.jsx("meta",{property:"og:description",content:o}),e.jsx("meta",{property:"og:url",content:`${d}${x}`}),e.jsx("meta",{property:"og:site_name",content:a}),e.jsx("meta",{property:"og:image",content:`${d}/logo-1200x630.jpg`}),e.jsx("meta",{property:"og:image:secure_url",content:`${d}/logo-1200x630.jpg`}),e.jsx("meta",{property:"og:image:width",content:"1200"}),e.jsx("meta",{property:"og:image:height",content:"630"}),e.jsx("meta",{property:"og:image:alt",content:a}),e.jsx("meta",{property:"og:image:type",content:"image/jpeg"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:n}),e.jsx("meta",{name:"twitter:description",content:o}),e.jsx("meta",{name:"twitter:image",content:`${d}/logo-1200x630.jpg`})]})};we.use(ln).use(an).use(cn).init({fallbackLng:"uk",detection:{order:["querystring"]},interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}.json",queryStringParams:{v:"f8b8b30"}}});function ie(n){if(!n)return"";const o=n.name_uk??"",s=n.name_en??"";return((we.resolvedLanguage||"uk")==="uk"?o:s)||o||s||""}function te(n){return sn({parse(o){if(o==null)return null;const s=K.stringToEnum(o,n);return s!==void 0?s:null},serialize(o){return String(n[o])}})}class A{static encode(o){return me.MD5(me.enc.Utf8.parse(o)).toString()}}const Bn="/",An={async getClub(n){const o=A.encode(n.toString()),s=await fetch(`${Bn}api/clubs/${o}.json?v=f8b8b30`);if(!s.ok)throw new Error(`Failed to get club (id=${n}) data`);return await s.json()}};var m=(n=>(n[n.Year=0]="Year",n[n.Federation=1]="Federation",n[n.Club=2]="Club",n[n.Coach=3]="Coach",n[n.Player=4]="Player",n))(m||{});const O=({national:n,international:o})=>e.jsxs(c,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:{xs:"column",sm:"row"},children:[e.jsx(u,{fontSize:"0.85rem",fontWeight:"500",children:n}),o>0&&e.jsxs(e.Fragment,{children:[e.jsx(u,{fontSize:"0.85rem",fontWeight:"500",display:{xs:"none",sm:"inline"},children:" + "}),e.jsx(u,{fontSize:"0.85rem",fontWeight:"500",color:"primary",children:o})]})]}),zn="/",je={[m.Year]:"years",[m.Federation]:"feds",[m.Club]:"clubs",[m.Coach]:"coaches",[m.Player]:"players"},In={async get(n,o,s,r){n>s&&([n,s]=[s,n],[o,r]=[r,o]);const t=je[n],i=A.encode(o.toString()),l=je[s],a=A.encode(r.toString()),d=`${zn}api/results/${t}/${i}/${l}/${a}.json?v=f8b8b30`,x=await fetch(d);if(!x.ok)throw new Error(`Failed to get results (${m[n]}=${o}, ${m[s]}=${r})`);return await x.json()}},On=({data:n,showDetails:o})=>{const{getTournamentUrl:s,getPlayerUrl:r}=_(),{t,i18n:i}=y(),l=(a,d,x,p,C)=>{const j=t(`type_enum_short.${a}`),f=t(`game_enum_short.${p}`),L=t(`gender_category.${C}.${x}`);return L?`${j} ${d} ${f} - ${L}`:`${j} ${d} ${f}`};return[...new Set(n.map(a=>a.rank))].map(a=>e.jsxs(c,{display:"flex",flexDirection:"row",padding:2,gap:2,border:"1px solid #ddd",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:a===1?"#ffffff":a===2?"#fcfcfc":a===3?"#f7f7f7":a===4?"#ededed":a===5?"#e5e5e5":"transparent",children:[e.jsx(c,{children:e.jsxs(u,{variant:"body1",children:[a,"."]})}),e.jsx(c,{flex:1,children:n.filter(d=>d.rank===a).map((d,x,p)=>e.jsxs(k.Fragment,{children:[e.jsxs(c,{display:"flex",flexDirection:{xs:"column",md:"row"},gap:1,alignItems:{xs:"flex-start",md:"center"},sx:{"&:hover":{backgroundColor:"#f9f9f9"},borderRadius:"4px"},children:[e.jsx(V,{to:s(d.year,d.category,d.game,d.gender),style:{textDecoration:"none",color:"inherit",flex:1},children:e.jsx(u,{variant:"body1",color:d.type===ge.UC?"textPrimary":"primary",sx:{"&:hover":{textDecoration:"underline"}},children:l(d.type,d.year,d.category,d.game,d.gender)})}),o&&e.jsx(V,{to:r(d.id),style:{textDecoration:"none",color:"inherit"},children:e.jsx(u,{variant:"body2",color:"textSecondary",sx:{"&:hover":{textDecoration:"underline"}},children:(i.resolvedLanguage==="uk"?d.name_uk:d.name_en)||d.name_uk||d.name_en||""})})]}),x<p.length-1&&e.jsx(F,{sx:{my:1}})]},x))})]},a))},Vn=({filterField:n,filterId:o,subFilterField:s,subFilterId:r})=>{const{data:t,isLoading:i,error:l}=Y({queryKey:["results",{filterField:n,filterId:o,subFilterField:s,subFilterId:r}],queryFn:async()=>await In.get(n,o,s,r)});return e.jsxs(c,{display:"flex",flexDirection:"column",gap:1,children:[i&&e.jsx(z,{height:"auto"}),l&&e.jsx(T,{message:l.message,height:"auto"}),!i&&!l&&t&&e.jsx(On,{data:t.results,showDetails:n!==m.Player&&s!==m.Player})]})},U=({filterField:n,filterId:o,groupField:s,results:r})=>{const[t,i]=g.useState(null),[l,a]=g.useState(20),d=r.slice(0,l),x=()=>{a(h=>h+20)},{getFederationUrl:p,getClubUrl:C,getCoachUrl:j,getPlayerUrl:f,getStatsUrl:L}=_(),{t:v,i18n:I}=y(),X=()=>{switch(s){case m.Year:return v("year");case m.Federation:return v("federation");case m.Club:return v("club");case m.Coach:return v("coach");case m.Player:return v("player");default:throw new Error(`Unhandled group field in getGroupTitle: ${s}`)}},J=h=>{switch(s){case m.Year:return L(h);case m.Federation:return p(h);case m.Club:return C(h);case m.Coach:return j(h);case m.Player:return f(h);default:throw new Error(`Unhandled group field in getGroupProfileUrl: ${s}`)}};function E(h){const b=(I.resolvedLanguage==="uk"?h.name_uk:h.name_en)||h.name_uk||h.name_en;return b||(s===m.Year?h.id.toString():"")}return e.jsx(Ne,{component:We,children:e.jsxs(Fe,{stickyHeader:!0,sx:{"& th, & td":{padding:{xs:"6px 8px",sm:"6px 10px",md:"6px 12px",lg:"6px 16px"},verticalAlign:"top"}},children:[e.jsx(qe,{children:e.jsxs(ee,{children:[e.jsx(w,{}),e.jsx(w,{children:e.jsx(u,{children:X()})}),e.jsx(w,{children:e.jsxs(c,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(c,{sx:{display:{xs:"none",sm:"block"}},children:v("gold")}),e.jsx("img",{alt:v("gold"),width:"16",height:"16",src:"/gold.svg"})]})}),e.jsx(w,{children:e.jsxs(c,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(c,{sx:{display:{xs:"none",sm:"block"}},children:v("silver")}),e.jsx("img",{alt:v("silver"),width:"16",height:"16",src:"/silver.svg"})]})}),e.jsx(w,{children:e.jsxs(c,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(c,{sx:{display:{xs:"none",sm:"block"}},children:v("bronze")}),e.jsx("img",{alt:v("bronze"),width:"16",height:"16",src:"/bronze.svg"})]})}),e.jsx(w,{children:e.jsxs(c,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(c,{sx:{display:{xs:"none",sm:"block"}},children:v("total")}),e.jsx("img",{alt:v("total"),width:"16",height:"16",src:"/total.svg"})]})})]})}),e.jsx(Ge,{children:d==null?void 0:d.map(h=>e.jsxs(k.Fragment,{children:[e.jsxs(ee,{sx:{"& td":{borderBottom:"none"}},onClick:()=>i(h.id===t?null:h.id),children:[e.jsx(w,{children:e.jsxs(c,{display:"flex",flexDirection:"row",alignItems:"center",gap:2,children:[e.jsx($e,{sx:{padding:"0px"},size:"small",onClick:b=>{b.stopPropagation(),i(h.id===t?null:h.id)},children:h.id===t?e.jsx(Qe,{}):e.jsx(Ze,{})}),h.rank&&e.jsxs(u,{children:[h.rank,"."]})]})}),e.jsx(w,{children:h.id!=0?e.jsx(ne,{to:J(h.id),children:E(h)}):v("notSpecified")}),e.jsx(w,{children:e.jsx(O,{national:h.national.gold,international:h.international.gold})}),e.jsx(w,{children:e.jsx(O,{national:h.national.silver,international:h.international.silver})}),e.jsx(w,{children:e.jsx(O,{national:h.national.bronze,international:h.international.bronze})}),e.jsx(w,{align:"center",children:h.national.gold+h.national.silver+h.national.bronze+h.international.gold+h.international.silver+h.international.bronze})]}),e.jsx(ee,{children:e.jsx(w,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:e.jsx(Xe,{in:h.id===t,timeout:"auto",unmountOnExit:!0,children:e.jsx(c,{marginTop:1,marginBottom:2,children:e.jsx(Vn,{filterField:n,filterId:o,subFilterField:s,subFilterId:h.id})})})})})]},`${n}_${h.id}`))}),e.jsxs(Je,{children:[l<r.length&&e.jsx(ee,{children:e.jsx(w,{colSpan:6,align:"center",sx:{padding:2},children:e.jsx(H,{variant:"outlined",onClick:x,children:v("load_more")})})}),e.jsxs(ee,{children:[e.jsx(w,{colSpan:2,children:e.jsx(u,{fontWeight:"bold",children:v("total")})}),e.jsx(w,{children:e.jsx(O,{national:r.reduce((h,b)=>h+b.national.gold,0),international:r.reduce((h,b)=>h+b.international.gold,0)})}),e.jsx(w,{children:e.jsx(O,{national:r.reduce((h,b)=>h+b.national.silver,0),international:r.reduce((h,b)=>h+b.international.silver,0)})}),e.jsx(w,{children:e.jsx(O,{national:r.reduce((h,b)=>h+b.national.bronze,0),international:r.reduce((h,b)=>h+b.international.bronze,0)})}),e.jsx(w,{children:e.jsx(O,{national:r.reduce((h,b)=>h+b.national.gold+b.national.silver+b.national.bronze,0),international:r.reduce((h,b)=>h+b.international.gold+b.international.silver+b.international.bronze,0)})})]})]})]})})},Te=({data:n})=>{const[o,s]=B("tab",q.withDefault(0)),{t:r,i18n:t}=y(),i=g.useMemo(()=>(t.resolvedLanguage==="uk"?n==null?void 0:n.name_uk:n==null?void 0:n.name_en)||(n==null?void 0:n.name_uk)||(n==null?void 0:n.name_en)||"",[n,t.resolvedLanguage]),l=g.useMemo(()=>r("club_title",{name:i}),[r,i]),a=g.useCallback((d,x)=>{s(x)},[s]);return e.jsxs(c,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",minHeight:"100vh",children:[e.jsx(re,{title:l}),e.jsxs(se,{value:o,onChange:a,children:[e.jsx(S,{label:r("results"),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:r("coach",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:r("player",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),e.jsxs(c,{display:"flex",flexGrow:1,children:[o===0&&e.jsx(U,{filterField:m.Club,filterId:n.id,groupField:m.Year,results:n.years}),o===1&&e.jsx(U,{filterField:m.Club,filterId:n.id,groupField:m.Coach,results:n.coaches}),o===2&&e.jsx(U,{filterField:m.Club,filterId:n.id,groupField:m.Player,results:n.players})]}),e.jsx(oe,{})]})};k.memo(Te);const Kn=({id:n})=>{const{getClubUrl:o}=_(),{t:s,i18n:r}=y(),{data:t,isLoading:i,error:l}=Y({queryKey:["clubs",{id:n}],queryFn:async()=>await An.getClub(n),enabled:!!n}),a=g.useMemo(()=>(r.resolvedLanguage==="uk"?t==null?void 0:t.name_uk:t==null?void 0:t.name_en)||(t==null?void 0:t.name_uk)||(t==null?void 0:t.name_en)||"",[t,r.resolvedLanguage]),d=g.useMemo(()=>s("club_title",{name:a}),[s,a]),x=g.useMemo(()=>s("club_description",{name:a}),[s,a]);if(!n)return e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx(T,{message:"Club is missing."})]});if(l)return e.jsx(T,{message:l.message});if(i)return e.jsx(z,{});if(t)return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:d,description:x,url:o(n,!1)}),e.jsx(Te,{data:t})]})},Hn=k.memo(Kn),Yn=()=>{const[n]=he(),o=parseInt(n.get("id")??"")||null;return e.jsx(Hn,{id:o})},Nn="/",Wn={async get(n){const o=A.encode(n.toString()),s=await fetch(`${Nn}api/coaches/${o}.json?v=f8b8b30`);if(!s.ok)throw new Error(`Failed to get coach (id=${n}) data`);return await s.json()}},Fn=({data:n})=>{const[o,s]=B("tab",q.withDefault(0)),{getFederationUrl:r}=_(),{t,i18n:i}=y(),l=g.useMemo(()=>(i.resolvedLanguage==="uk"?n==null?void 0:n.name_uk:n==null?void 0:n.name_en)||(n==null?void 0:n.name_uk)||(n==null?void 0:n.name_en)||"",[n,i.resolvedLanguage]),a=g.useMemo(()=>t("coach_title",{name:l}),[t,l]),d=g.useCallback((x,p)=>{s(p)},[s]);return e.jsxs(c,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",minHeight:"100vh",children:[e.jsx(re,{title:a}),e.jsxs(c,{display:"flex",sx:{flexDirection:{xs:"column",md:"row"},gap:4},children:[n.photo&&e.jsx(c,{display:"flex",justifyContent:"center",children:e.jsx(c,{component:"img",src:n.photo,alt:l,sx:{width:150,height:150,objectFit:"cover",borderRadius:"50%",boxShadow:2}})}),e.jsxs(c,{display:"flex",flexDirection:"column",flex:1,children:[n.id&&n.id>0&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(u,{variant:"body1",children:[t("fide"),":"]})}),e.jsx(c,{flexBasis:"50%",children:e.jsx(de,{href:`https://ratings.fide.com/profile/${n.id}`,variant:"body1",target:"_blank",rel:"noopener",children:n.id})})]}),n.yob&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(u,{variant:"body1",children:[t("year_of_birth"),":"]})}),e.jsxs(c,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(u,{variant:"body1",children:n.yob}),e.jsx(u,{variant:"body1",color:"textSecondary",children:`(${new Date().getFullYear()-n.yob} ${t("years")})`})]})]}),n.fed&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(u,{variant:"body1",children:[t("federation"),":"]})}),e.jsx(c,{flexBasis:"50%",children:e.jsx(ne,{to:r(n.fed),children:t(`federation_enum_short.${n.fed}`)})})]})]})]}),e.jsxs(se,{value:o,onChange:d,children:[e.jsx(S,{label:t("results"),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:t("player",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),e.jsxs(c,{display:"flex",flexGrow:1,children:[o===0&&e.jsx(U,{filterField:m.Coach,filterId:n.id,groupField:m.Year,results:n.years}),o===1&&e.jsx(U,{filterField:m.Coach,filterId:n.id,groupField:m.Player,results:n.players})]}),e.jsx(oe,{})]})},qn=k.memo(Fn),Gn=({id:n})=>{const{getCoachUrl:o}=_(),{t:s,i18n:r}=y(),{data:t,isLoading:i,error:l}=Y({queryKey:["coaches",{id:n}],queryFn:async()=>await Wn.get(n),enabled:!!n}),a=g.useMemo(()=>(r.resolvedLanguage==="uk"?t==null?void 0:t.name_uk:t==null?void 0:t.name_en)||(t==null?void 0:t.name_uk)||(t==null?void 0:t.name_en)||"",[t,r.resolvedLanguage]),d=g.useMemo(()=>s("coach_title",{name:a}),[s,a]),x=g.useMemo(()=>s("coach_description",{name:a}),[s,a]);if(!n)return e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx(T,{message:"Coach id is missing."})]});if(l)return e.jsx(T,{message:l.message});if(i)return e.jsx(z,{});if(t)return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:d,description:x,url:o(n,!1)}),e.jsx(qn,{data:t})]})},Qn=k.memo(Gn),Zn=()=>{const[n]=he(),o=parseInt(n.get("id")??"")||null;return e.jsx(Qn,{id:o})},Xn="/",Jn={async get(n){const o=A.encode(n.toString()),s=await fetch(`${Xn}api/feds/${o}.json?v=f8b8b30`);if(!s.ok)throw new Error(`Failed to get federation (id=${Q[n]}) data`);return await s.json()}},En=({data:n})=>{const{t:o,i18n:s}=y(),r=(l,a)=>s.resolvedLanguage==="uk"?l||a||"":a||l||"",t=(l,a,d)=>{const x=r(a,d);return x?e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(u,{variant:"body1",children:[o(l),":"]})}),e.jsx(c,{flexBasis:"50%",children:e.jsx(u,{variant:"body1",children:x})})]},l):null},i=(l,a)=>a?e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(u,{variant:"body1",children:[o(l),":"]})}),e.jsx(c,{flexBasis:"50%",children:e.jsx(de,{href:a.startsWith("http://")||a.startsWith("https://")?a:`http://${a}`,target:"_blank",rel:"noopener noreferrer",underline:"hover",children:e.jsx(u,{variant:"body1",children:a})})})]},l):null;return e.jsxs(c,{display:"grid",children:[t("president",n.president_uk,n.president_en),t("first_vice_president",n.first_vice_president_uk,n.first_vice_president_en),t("vice_president",n.vice_president_uk,n.vice_president_en),t("head",n.head_uk,n.head_en),t("deputy_head",n.deputy_head_uk,n.deputy_head_en),t("executive_director",n.executive_director_uk,n.executive_director_en),t("secretary",n.secretary_uk,n.secretary_en),i("site",n.site)]})},et=({id:n,data:o})=>{const[s,r]=B("tab",q.withDefault(0)),{t}=y(),i=g.useCallback((l,a)=>{r(a)},[r]);return e.jsxs(c,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",minHeight:"100vh",children:[e.jsx(re,{title:t(`federation_enum.${n}`)}),e.jsx(En,{data:o}),e.jsxs(se,{value:s,onChange:i,children:[e.jsx(S,{label:t("results"),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:t("club",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:t("coach",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:t("player",{count:2}),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),e.jsxs(c,{display:"flex",flexGrow:1,children:[s===0&&e.jsx(U,{filterField:m.Federation,filterId:n,groupField:m.Year,results:o.years}),s===1&&e.jsx(U,{filterField:m.Federation,filterId:n,groupField:m.Club,results:o.clubs}),s===2&&e.jsx(U,{filterField:m.Federation,filterId:n,groupField:m.Coach,results:o.coaches}),s===3&&e.jsx(U,{filterField:m.Federation,filterId:n,groupField:m.Player,results:o.players})]}),e.jsx(oe,{})]})},nt=k.memo(et),tt=({id:n})=>{const{getFederationUrl:o}=_(),{t:s}=y(),{data:r,isLoading:t,error:i}=Y({queryKey:["federations",{id:n}],queryFn:async()=>await Jn.get(n)}),l=g.useMemo(()=>`${s(`federation_enum.${n}`)}`,[n,s]),a=g.useMemo(()=>s("federation_description",{federation:s(`federation_enum2.${n}`)}),[n,s]);if(i)return e.jsx(T,{message:i.message});if(t)return e.jsx(z,{});if(r)return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:l,description:a,url:o(n,!1)}),e.jsx(nt,{id:n,data:r})]})},st=k.memo(tt),ot=()=>{const[n]=B("id",te(Q).withDefault(Un).withOptions({clearOnDefault:!1}));return e.jsx(st,{id:n})},rt=({year:n,category:o,game:s,gender:r})=>{const{t}=y(),{getTournamentUrl:i}=_(),l=g.useMemo(()=>t(`gender_category.${r}.${o}`),[r,o,t]),a=g.useMemo(()=>{const p=t(`game_enum.${s}`);return l?`${n} ${p} - ${l}`:`${n} ${p}`},[n,s,l,t]),d=g.useMemo(()=>t("description",{game:t(`game_enum2.${s}`),gender_category:t(`gender_category_full.${r}.${o}`),year:n}),[n,o,s,r,t]),x=g.useMemo(()=>i(n,o,s,r,!1),[n,o,s,r]);return e.jsx(Z,{title:a,description:d,url:x})},it=({category:n,setCategory:o,direction:s="column"})=>{const r=W(),{t}=y();return e.jsx(c,{display:"flex",flexDirection:s,children:kn.map(i=>e.jsx(H,{variant:i===n?"contained":"text",color:r,onClick:()=>o(i),children:t(`category_enum_short.${i}`)},i))})},lt=k.memo(it),at=({game:n,setGame:o,direction:s="column"})=>{const r=W(),{t}=y();return e.jsx(c,{display:"flex",flexDirection:s,children:Sn.map(i=>e.jsx(H,{variant:i===n?"contained":"text",color:r,sx:{textTransform:"none"},onClick:()=>o(i),children:t(`game_enum_short_short.${i}`)},i))})},ct=k.memo(at),dt=({gender:n,setGender:o,direction:s="column"})=>{const r=W(),{t}=y();return e.jsx(c,{display:"flex",flexDirection:s,justifyContent:"center",alignItems:"center",gap:{xs:0,md:1},children:Ln.map(i=>e.jsx(H,{variant:i===n?"contained":"text",color:r,onClick:()=>o(i),children:t(`gender_enum_short.${i}`)},i))})},xt=k.memo(dt),ht=({year:n})=>{const o=W(),{t:s}=y(),{getStatsUrl:r}=_();return e.jsx(Ce,{title:s("stats",{year:n}),children:e.jsx(H,{component:V,to:r(n,!0),variant:"outlined",color:o,sx:{width:40,height:40,minWidth:40,padding:0,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",textTransform:"none"},children:e.jsx(Ee,{fontSize:"small"})})})},gt=k.memo(ht),ut="/",pt={async getTournaments(n,o,s,r){const t=A.encode(`${n}_${o}_${s}_${r}`),i=await fetch(`${ut}api/tournaments/${t}.json?v=f8b8b30`);if(!i.ok)throw new Error(`Failed to get tournament (year:${n}, category: ${N[o]}, game: ${R[s]}, gender: ${G[r]}) data`);return await i.json()}},mt=({result:n})=>{const{t:o,i18n:s}=y(),{getPlayerUrl:r}=_(),t=W(),i=(s.resolvedLanguage=="uk"?n.name_uk:n.name_en)||n.name_uk||n.name_en,l=[n.club,n.coach1,n.coach2,n.coach3].filter(Boolean).join(", ")||n.notes;return e.jsx(V,{to:r(n.id),style:{textDecoration:"none",color:"inherit"},children:e.jsxs(c,{padding:2,gap:{xs:1,md:2},display:"flex",border:"1px solid #ddd",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:n.rank<=3?"white":"",sx:{cursor:"pointer"},children:[e.jsx(c,{children:e.jsxs(u,{variant:"body1",children:[n.rank,"."]})}),e.jsxs(c,{flexGrow:1,children:[e.jsx(u,{variant:"body1",children:i}),l&&e.jsx(u,{variant:"body2",color:"textSecondary",paddingLeft:1,children:l})]}),e.jsxs(c,{children:[n.fed&&e.jsx(u,{variant:"body2",color:t,textAlign:"right",children:o(`federation_enum_short.${n.fed}`)}),n.points!=null&&e.jsx(u,{variant:"body2",color:"textSecondary",textAlign:"right",children:n.points})]})]})})},jt=({tournament:n})=>{var t;const{t:o,i18n:s}=y(),r=e.jsx(u,{component:"h3",variant:"body2",color:"textSecondary",align:"center",sx:n.id&&n.id>=0?{"&:hover":{textDecoration:"underline"}}:{},children:[o(`type_enum.${n.type}`),s.resolvedLanguage==="uk"?n.location_uk:n.location_en,n.date||null].filter(Boolean).join(", ")});return e.jsxs(c,{display:"flex",flexDirection:"column",gap:1,children:[n.id&&n.id>=0?e.jsx(de,{href:`https://chess-results.com/tnr${n.id}.aspx?art=1`,target:"_blank",rel:"noopener",style:{textDecoration:"none",color:"inherit"},children:r}):r,((n.round??0)>0&&(n.round??0)<(n.rounds||1/0)||n.missedResults)&&e.jsxs(u,{component:"h4",variant:"body2",color:"textSecondary",align:"center",children:[o("rankAfterRound",{round:n.round??0}),n.missedResults?` (${o("missingResults",{count:n.missedResults})})`:""]}),(t=n.results)==null?void 0:t.map((i,l)=>e.jsx(mt,{result:i},`${n.id}_${l}`))]})},ft=({year:n,category:o,game:s,gender:r})=>{const{data:t,isLoading:i,error:l}=Y({queryKey:["tournaments",{year:n,category:o,game:s,gender:r}],queryFn:async()=>await pt.getTournaments(n,o,s,r)});return e.jsxs(c,{display:"flex",flexDirection:"column",gap:{xs:1,md:2},flexGrow:1,marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[i&&e.jsx(z,{}),l&&e.jsx(T,{message:l.message}),!i&&!l&&t&&t.length===0&&e.jsx(u,{variant:"body1",color:"textSecondary",align:"center",children:dn("noData")}),!i&&!l&&t&&t.length>0&&t.map((a,d)=>e.jsx(jt,{tournament:a},`${n}_${d}`))]})},yt=({year:n,setYear:o})=>{const s=W();return e.jsx(xn,{variant:"popover",popupId:"year-menu",children:r=>e.jsxs(k.Fragment,{children:[e.jsx(H,{variant:"contained",color:s,...hn(r),children:n}),e.jsx(en,{...gn(r),children:P.map(t=>e.jsx(nn,{selected:t===n,onClick:()=>{r.close(),setTimeout(()=>{o(t)},50)},children:t},t))})]})})},bt=k.memo(yt),vt=({year:n,setYear:o,category:s,setCategory:r,game:t,setGame:i,gender:l,setGender:a})=>{const{t:d}=y(),x=g.useMemo(()=>d(`gender_category.${l}.${s}`),[s,l,d]),p=g.useRef(null),C=g.useCallback(j=>{var f,L;return(L=(f=p.current)==null?void 0:f.swiper)==null?void 0:L.slideToLoop(P.indexOf(j))},[]);return e.jsx(Tn,{gender:l,children:e.jsxs(M,{container:!0,spacing:{xs:1,md:2},padding:2,minHeight:"100vh",children:[e.jsxs(M,{container:!0,direction:"column",gap:{xs:1,md:2},size:"auto",children:[e.jsx(bt,{year:n,setYear:C}),e.jsx(F,{}),e.jsx(lt,{category:s,setCategory:r}),e.jsx(F,{}),e.jsx(ct,{game:t,setGame:i}),e.jsx(F,{}),e.jsx(c,{display:"flex",flexDirection:"column",flexGrow:1}),e.jsx(c,{display:"flex",alignItems:"center",justifyContent:"center",children:e.jsx(gt,{year:n})}),e.jsx(F,{}),e.jsx(Ue,{})]}),e.jsxs(M,{container:!0,direction:"column",size:"grow",children:[e.jsx(xt,{gender:l,setGender:a,direction:"row"}),e.jsx(M,{size:"grow",children:e.jsx(ye,{ref:p,direction:"horizontal",initialSlide:P.indexOf(n),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:j=>{const f=P[j.realIndex];f!==n&&o(f)},virtual:{enabled:!0},modules:[_e,ke,Se],children:P.map(j=>e.jsx(be,{"aria-hidden":n!==j,children:e.jsxs(c,{display:"flex",flexDirection:"column",gap:{xs:1,md:2},children:[e.jsxs(c,{children:[e.jsxs(u,{variant:"h5",component:"h1",align:"center",children:[d(`game_enum.${t}`)," ",j]}),e.jsx(u,{variant:"h6",component:"h2",align:"center",color:"textSecondary",children:x})]}),e.jsx(ft,{year:j,category:s,game:t,gender:l})]})},j))})})]})]})})},Ct=k.memo(vt),$t=()=>{const[{year:n,category:o,game:s,gender:r},t]=on({year:q.withDefault(Le).withOptions({clearOnDefault:!1}),category:te(N).withDefault(Dn).withOptions({clearOnDefault:!1}),game:te(R).withDefault(Rn).withOptions({clearOnDefault:!1}),gender:te(G).withDefault(De).withOptions({clearOnDefault:!1})}),i=g.useCallback(x=>t(p=>({...p,year:x})),[t]),l=g.useCallback(x=>t(p=>({...p,category:x})),[t]),a=g.useCallback(x=>t(p=>({...p,game:x})),[t]),d=g.useCallback(x=>t(p=>({...p,gender:x})),[t]);return e.jsxs(e.Fragment,{children:[e.jsx(rt,{year:n,category:o,game:s,gender:r}),e.jsx(Ct,{year:n,setYear:i,category:o,setCategory:l,game:s,setGame:a,gender:r,setGender:d})]})},wt=({data:n})=>{const{getFederationUrl:o,getClubUrl:s,getCoachUrl:r}=_(),{t}=y();return e.jsxs(c,{display:"flex",sx:{flexDirection:{xs:"column",md:"row"},gap:4},children:[n.photo&&e.jsx(c,{display:"flex",justifyContent:"center",children:e.jsx(c,{component:"img",src:n.photo,alt:ie(n),sx:{width:150,height:150,objectFit:"cover",borderRadius:"50%",boxShadow:2}})}),e.jsxs(c,{display:"flex",flexDirection:"column",flex:1,children:[n.id&&n.id>0&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(u,{variant:"body1",children:[t("fide"),":"]})}),e.jsx(c,{flexBasis:"50%",children:e.jsx(de,{href:`https://ratings.fide.com/profile/${n.id}`,variant:"body1",target:"_blank",rel:"noopener",children:n.id})})]}),n.yob&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(u,{variant:"body1",children:[t("year_of_birth"),":"]})}),e.jsxs(c,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(u,{variant:"body1",children:n.yob}),e.jsx(u,{variant:"body1",color:"textSecondary",children:`(${new Date().getFullYear()-n.yob} ${t("years")})`})]})]}),n.fed&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(u,{variant:"body1",children:[t("federation"),":"]})}),e.jsxs(c,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(ne,{to:o(n.fed),children:t(`federation_enum_short.${n.fed}`)}),n.fed2&&e.jsxs(e.Fragment,{children:[e.jsx(u,{variant:"body1",color:"textSecondary",children:"/"}),e.jsx(u,{variant:"body1",color:"textSecondary",children:ie(n.fed2)})]})]})]}),n.clubs&&n.clubs.length>0&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(u,{variant:"body1",children:[t("club",{count:n.clubs.length}),":"]})}),e.jsx(c,{flexBasis:"50%",display:"flex",flexDirection:"column",children:n.clubs.map((i,l)=>{const a=ie(i);return i.id?e.jsx(c,{alignSelf:"flex-start",children:e.jsx(ne,{to:s(Number(i.id)),children:a})},l):e.jsx(u,{variant:"body1",children:a},l)})})]}),n.coaches&&n.coaches.length>0&&e.jsxs(c,{display:"flex",children:[e.jsx(c,{flexBasis:"50%",children:e.jsxs(u,{variant:"body1",children:[t("coach",{count:n.coaches.length}),":"]})}),e.jsx(c,{flexBasis:"50%",display:"flex",flexDirection:"column",children:n.coaches.map((i,l)=>{const a=ie(i);return i.id?e.jsx(c,{alignSelf:"flex-start",children:e.jsx(ne,{to:r(Number(i.id)),children:a})},l):e.jsx(u,{variant:"body1",children:a},l)})})]})]})]})},xe={[R.Classical]:"#4C72B0",[R.Rapid]:"#55A868",[R.Blitz]:"#C44E52"},_t=({results:n,yob:o})=>{const{t:s}=y(),r=n.filter((l,a,d)=>d.findIndex(x=>x.year===l.year&&x.game===l.game&&x.rank<=l.rank)===a).sort((l,a)=>l.year-a.year),t=l=>{const{x:a,y:d,payload:x}=l,p=x.value,C=p-(o??p);return e.jsxs("g",{transform:`translate(${a},${d})`,children:[e.jsx("text",{x:0,y:0,dy:10,textAnchor:"middle",fill:"#666",children:p}),C>0&&e.jsxs("text",{x:0,y:15,dy:10,textAnchor:"middle",fill:"#999",children:[C," ",s("years")]})]})},i=({active:l,label:a})=>{if(!l)return null;const d=a;return e.jsxs("div",{style:{backgroundColor:"white",padding:10,border:"1px solid #ccc",borderRadius:5},children:[d,n.filter(x=>x.year===d).sort((x,p)=>x.rank-p.rank||x.game-p.game||x.category-p.category).map((x,p)=>e.jsxs("div",{children:[x.rank,":"," ",e.jsxs("span",{style:{color:xe[x.game]},children:[`${s(`type_enum_short.${x.type}`)} `,s(`game_enum_short.${x.game}`),x.category==N.All?"":` ${s(`category_enum_short.${x.category}`)}`]})]},p))]})};return e.jsx(c,{width:"100%",height:400,children:e.jsx(mn,{width:"100%",height:"100%",children:e.jsxs(jn,{children:[e.jsx(fn,{strokeDasharray:"3 3"}),e.jsx(yn,{type:"number",dataKey:"year",name:"Year",domain:[2014,2025],padding:{left:20,right:20},height:40,ticks:[2014,2016,2018,2020,2022,2024,2026],tick:e.jsx(t,{})}),e.jsx(bn,{type:"number",dataKey:"rank",name:"Rank",domain:[1,5],reversed:!0,padding:{top:20,bottom:20},width:10}),e.jsx(vn,{content:e.jsx(i,{})}),e.jsx(Cn,{}),K.getEnums(R).map((l,a)=>e.jsx($n,{name:s(`game_enum_short.${l}`),type:"monotone",data:r.filter(d=>d.game===l),dataKey:"rank",stroke:xe[l],strokeWidth:2,dot:{r:8}},`line-${a}`)),K.getEnums(R).map((l,a)=>e.jsx(wn,{name:s(`game_enum_short.${l}`),data:n.filter(d=>d.game===l),fill:xe[l],legendType:"none"},`game_scatter-${a}`))]})})})},kt=({results:n,yob:o})=>{const{t:s}=y(),{getTournamentUrl:r}=_(),t=(i,l,a,d,x)=>{const p=s(`type_enum_short.${i}`),C=s(`game_enum_short.${d}`),j=s(`gender_category.${x}.${a}`);return j?`${p} ${l} ${C} - ${j}`:`${p} ${l} ${C}`};return e.jsx(e.Fragment,{children:[...new Set(n.map(i=>i.rank))].map(i=>e.jsxs(c,{display:"flex",padding:2,gap:1,border:"1px solid #ddd",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:i===1?"#ffffff":i===2?"#fcfcfc":i===3?"#f7f7f7":i===4?"#ededed":i===5?"#e5e5e5":"transparent",children:[e.jsx(c,{flexGrow:"auto",children:e.jsxs(u,{variant:"body1",children:[i,"."]})}),e.jsx(c,{flex:1,children:n.filter(l=>l.rank===i).map((l,a,d)=>e.jsxs(k.Fragment,{children:[e.jsx(V,{to:r(l.year,l.category,l.game,l.gender),style:{textDecoration:"none",color:"inherit"},children:e.jsxs(c,{display:"flex",flexDirection:"row",gap:1,sx:{"&:hover":{backgroundColor:"#f9f9f9"},borderRadius:"4px"},children:[e.jsx(c,{flexGrow:1,children:e.jsx(u,{variant:"body1",sx:{"&:hover":{textDecoration:"underline"}},color:l.type==ge.UC?"textPrimary":"primary",children:t(l.type,l.year,l.category,l.game,l.gender)},"title")}),e.jsx(c,{children:e.jsx(u,{variant:"body1",color:"textSecondary",sx:{whiteSpace:"nowrap"},children:`${o?` ${l.year-o} ${s("years")}`:""}`},"year")})]})}),a<d.length-1&&e.jsx(F,{sx:{my:1}})]},a))})]},i))})},St="/",Lt={async get(n){const o=A.encode(n.toString()),s=await fetch(`${St}api/players/${o}.json?v=f8b8b30`);if(!s.ok)throw new Error(`Failed to get player (id=${n}) data`);return await s.json()}},Dt=()=>{const[n]=he(),o=parseInt(n.get("id")??"")||null,[s,r]=B("tab",q.withDefault(0)),{getPlayerUrl:t}=_(),{t:i,i18n:l}=y(),{data:a,isLoading:d,error:x}=Y({queryKey:["players",{id:o}],queryFn:async()=>await Lt.get(o),enabled:!!o}),p=g.useMemo(()=>(l.resolvedLanguage==="uk"?a==null?void 0:a.name_uk:a==null?void 0:a.name_en)||(a==null?void 0:a.name_uk)||(a==null?void 0:a.name_en)||"",[a,l.resolvedLanguage]),C=g.useCallback((j,f)=>{r(f)},[r]);if(!o)return e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx(T,{message:"Player id is missing."})]});if(x)return e.jsxs(e.Fragment,{children:[e.jsx(ce,{}),e.jsx(T,{message:x.message})]});if(d)return e.jsx(z,{});if(a)return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:p,description:i("player_description"),url:t(o,!1)}),e.jsxs(c,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",minHeight:"100vh",children:[e.jsx(re,{title:p}),e.jsx(wt,{data:a}),e.jsxs(se,{value:s,onChange:C,children:[e.jsx(S,{label:i("results"),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:i("progress"),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),e.jsxs(c,{display:"flex",flexDirection:"column",flexGrow:1,gap:1,children:[s===0&&e.jsx(kt,{results:a.results,yob:a.yob}),s===1&&e.jsx(_t,{results:a.results,yob:a.yob})]}),e.jsx(oe,{})]})]})};var $=(n=>(n[n.feds=0]="feds",n[n.clubs=1]="clubs",n[n.coaches=2]="coaches",n[n.players=3]="players",n))($||{});const Rt="/",Ut={async getStats(n,o){const s=A.encode(o.toString()),r=await fetch(`${Rt}api/stats/${$[n]}/${s}.json?v=f8b8b30`);if(!r.ok)throw new Error(`Failed to get year (${o}) stats`);return await r.json()}},le=({group:n,year:o})=>{const s={[$.feds]:m.Federation,[$.clubs]:m.Club,[$.coaches]:m.Coach,[$.players]:m.Player},{data:r,isLoading:t,error:i}=Y({queryKey:["stats",{group:n,year:o}],queryFn:async()=>await Ut.getStats(n,o)});return e.jsxs(c,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[t&&e.jsx(z,{}),i&&e.jsx(T,{message:i.message}),!t&&!i&&r&&e.jsx(U,{filterField:m.Year,filterId:o,groupField:s[n],results:r.results})]})},Tt=({group:n,setGroup:o,year:s,setYear:r})=>{const{t}=y();return e.jsxs(c,{display:"flex",flexDirection:"column",padding:2,gap:1,boxSizing:"border-box",children:[e.jsx(re,{title:`${s} ${t("medals_table")}`}),e.jsxs(se,{value:n,onChange:(i,l)=>o(l),children:[e.jsx(S,{label:t(`stats_group_enum.${$.feds}`),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:t(`stats_group_enum.${$.clubs}`),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:t(`stats_group_enum.${$.coaches}`),sx:{minWidth:0,paddingRight:0,paddingLeft:0,marginRight:1}}),e.jsx(S,{label:t(`stats_group_enum.${$.players}`),sx:{minWidth:0,paddingRight:0,paddingLeft:0}})]}),e.jsx(c,{display:"flex",flexGrow:1,children:e.jsx(ye,{direction:"horizontal",initialSlide:P.indexOf(s),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:i=>{const l=P[i.realIndex];r(l)},virtual:{enabled:!0},modules:[_e,ke,Se],children:P.map(i=>e.jsx(be,{"aria-hidden":s!==i,children:e.jsxs(c,{display:"flex",flexDirection:"column",children:[n===$.feds&&e.jsx(le,{group:$.feds,year:i}),n===$.clubs&&e.jsx(le,{group:$.clubs,year:i}),n===$.coaches&&e.jsx(le,{group:$.coaches,year:i}),n===$.players&&e.jsx(le,{group:$.players,year:i})]})},i))})}),e.jsx(oe,{})]})},Mt=k.memo(Tt),fe=()=>{const[n,o]=B("group",te($).withDefault($.feds).withOptions({clearOnDefault:!1})),[s,r]=B("year",q.withDefault(Le).withOptions({clearOnDefault:!1})),{getStatsUrl:t}=_(),{t:i}=y();return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:`${s} - ${i("medals_table")} - ${i(`stats_group_enum.${n}`)}`,description:i("year_description",{year:s}),url:t(s,!1)}),e.jsx(Mt,{group:n,setGroup:o,year:s,setYear:r})]})},Pt=()=>{console.log("-> Component created");const n=_(),o=Math.sqrt(9),s=(console.log("Calculating value 2"),Math.sqrt(100)),[r,t]=g.useState(()=>(console.log("Initialize state value 1"),Math.floor(Math.random()*100)+1)),[i,l]=g.useState(()=>(console.log("Initialize state value 2"),Math.floor(Math.random()*100)+1)),a=g.useMemo(()=>(console.log("Computing memo value"),Math.floor(Math.random()*100)+1),[]),d=g.useMemo(()=>(console.log("Computing memo state value 1"),Math.floor(Math.random()*100)+1),[r]),x=g.useMemo(()=>(console.log("Computing memo state value 2"),Math.floor(Math.random()*100)+1),[i]),p=()=>(console.log("Function called"),r*2),C=g.useCallback(()=>(console.log("Memoized function called"),3),[]),j=g.useCallback(()=>(console.log("Memoized State Value1 function called"),r*3),[r]),f=g.useCallback(()=>(console.log("Memoized State Value2 function called"),i*3),[i]),L=g.useRef(null),v=g.useRef(null),I=g.useRef(null),X=g.useRef(null),J=g.useRef(null),E=g.useRef(null);return g.useEffect(()=>{console.log("Component updated"),L.current&&console.log("Did func reference change?",L.current!==p),v.current&&console.log("Did memoizedFunction reference change?",v.current!==C),I.current&&console.log("Did memoizedSateValue1Function reference change?",I.current!==j),X.current&&console.log("Did memoizedSateValue2Function reference change?",X.current!==f),J.current&&console.log("Did hook change?",J.current!==n),E.current&&console.log("Did hook function change?",E.current!==n.getTournamentUrl),L.current=p,v.current=C,I.current=j,X.current=f,J.current=n,E.current=n.getTournamentUrl}),g.useEffect(()=>(console.log("Component mounted"),()=>{console.log("Component unmounted")}),[]),g.useEffect(()=>{console.log(`Component updated: stateValue1 is now ${r}`),l(h=>h+r)},[r]),g.useEffect(()=>{console.log(`Component updated: stateValue2 is now ${i}`)},[i]),console.log("<- Component render started"),e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("h1",{children:"Test Page"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Value 1:"})," ",o]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Value 2:"})," ",s]}),e.jsxs("p",{children:[e.jsx("strong",{children:"State Value 1:"})," ",r]}),e.jsxs("p",{children:[e.jsx("strong",{children:"State Value 2:"})," ",i]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memo Value:"})," ",a]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memo State Value1:"})," ",d]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memo State Value2:"})," ",x]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Function:"})," ",p()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memoized Function:"})," ",C()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memoized State Value 1 Function:"})," ",j()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Memoized State Value 2 Function:"})," ",f()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Child Component 1:"})," ",e.jsx(ae,{},"1")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Child Component 2:"})," ",e.jsx(ae,{value:o},"2")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Child Component 3:"})," ",e.jsx(ae,{value:r},"3")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Child Component 4:"})," ",e.jsx(ae,{value:a},"4")]}),e.jsx("button",{onClick:()=>t(h=>h+1),children:"Increment State Value 1"}),e.jsx("button",{onClick:()=>l(h=>h+1),children:"Increment State Value 2"})]})},ae=({value:n})=>{console.log("-> Child Component created");const{getTournamentUrl:o}=_(),{getTournamentUrl:s}=_(),r=g.useRef(null);return g.useEffect(()=>{console.log("Component updated"),console.log("Do same hook functions equal?",o===s),r.current&&console.log("Did child hook function change?",r.current!==o),r.current=o}),g.useEffect(()=>(console.log("Child Component mounted"),()=>{console.log("Child Component unmounted")}),[]),console.log("<- Child Component render started"),`${n}`},Bt=()=>e.jsxs(M,{container:!0,children:[e.jsx(M,{size:{md:2,lg:3},sx:{display:{xs:"none",md:"block"},backgroundImage:'url("/pattern.svg")',backgroundSize:"auto",backgroundRepeat:"no-repeat",backgroundPosition:"top left"}}),e.jsx(M,{size:{xs:12,md:8,lg:6},minHeight:"100vh",children:e.jsx(Be,{})}),e.jsx(M,{size:{md:2,lg:3},sx:{display:{xs:"none",md:"block"},backgroundImage:'url("/pattern.svg")',backgroundSize:"auto",backgroundRepeat:"no-repeat",backgroundPosition:"top left",transform:"scale(-1, -1)"}})]}),At=()=>{const{t:n}=y();return e.jsxs(tn,{maxWidth:"sm",sx:{textAlign:"center",mt:8},children:[e.jsx(u,{variant:"h2",gutterBottom:!0,children:n("404")}),e.jsx(u,{variant:"h5",gutterBottom:!0,children:n("404_title")}),e.jsx(u,{variant:"body1",color:"textSecondary",gutterBottom:!0,children:n("404_description")}),e.jsx(c,{mt:4,children:e.jsx(H,{variant:"contained",color:"primary",component:V,to:"/",children:n("goHome")})})]})},zt=new un({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:5,staleTime:1/0,gcTime:1/0}}}),It=()=>e.jsxs(e.Fragment,{children:[e.jsx(Pn,{}),e.jsx(pn,{client:zt,children:e.jsx(rn,{children:e.jsx(Ae,{children:e.jsx(g.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(ze,{children:e.jsxs(D,{path:"/",element:e.jsx(Bt,{}),children:[e.jsx(D,{index:!0,element:e.jsx($t,{})}),e.jsx(D,{path:"about",element:e.jsx(_n,{})}),e.jsx(D,{path:"players",element:e.jsx(Dt,{})}),e.jsx(D,{path:"feds",element:e.jsx(ot,{})}),e.jsx(D,{path:"clubs",element:e.jsx(Yn,{})}),e.jsx(D,{path:"coaches",element:e.jsx(Zn,{})}),e.jsx(D,{path:"stats",element:e.jsx(fe,{})}),e.jsx(D,{path:"years",element:e.jsx(fe,{})}),e.jsx(D,{path:"tests",element:e.jsx(Pt,{})}),e.jsx(D,{path:"*",element:e.jsx(At,{})})]})})})})})})]}),Me=new URLSearchParams(window.location.search).get("lng")||"uk",Ot=Me==="en"?"Ukrainian Chess Champions":"Українські шахові чемпіони",Vt=Oe({init:[{htmlAttrs:{lang:Me},title:Ot}]});Ie.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(Ve,{head:Vt,children:e.jsx(It,{})})}));
