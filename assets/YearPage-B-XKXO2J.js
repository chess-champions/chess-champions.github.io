import{n as p,j as e,B as d,q as f,E as u,v as b,r as g,T as y}from"./index-j1Dpuvjw.js";import{R as T,A as v,T as w,a as S,I as B,b as E}from"./RouterLink-DuSB_Zu6.js";import{b as k,S as Y,Y as h,K as I,P,V as A,e as C}from"./filters-CplnrmNg.js";import{j as R,f as D,C as $,S as z}from"./ChessDataService-Ck3_ZlNS.js";import{u as m}from"./useNavigationService-CK2XNMO3.js";import{T as F,a as L,b as _,c as j,d as s,e as q}from"./TableRow-DGkz0-yF.js";const K=({id:t})=>{var a;const{getFederationUrl:x}=m(),{t:i}=p(),{data:c,isLoading:n,error:o}=R({queryKey:["years",{id:t}],queryFn:async()=>await $.getYear(t)});return e.jsxs(d,{display:"flex",flexDirection:"column",flexGrow:"grow",marginBottom:4,sx:{overflow:"auto",height:"100%"},children:[n&&e.jsx(f,{}),o&&e.jsx(u,{message:o.message}),!n&&!o&&c&&e.jsx(F,{component:D,children:e.jsxs(L,{children:[e.jsx(_,{children:e.jsxs(j,{children:[e.jsx(s,{}),e.jsx(s,{align:"center",children:i("gold")}),e.jsx(s,{align:"center",children:i("silver")}),e.jsx(s,{align:"center",children:i("bronze")}),e.jsx(s,{align:"center",children:i("total")})]})}),e.jsx(q,{children:(a=c.results)==null?void 0:a.map(r=>e.jsxs(j,{children:[e.jsx(s,{children:r.fed&&e.jsx(T,{to:x(r.fed),children:i(`federation_enum_short.${r.fed}`)})}),e.jsx(s,{align:"center",children:r.gold||0}),e.jsx(s,{align:"center",children:r.silver||0}),e.jsx(s,{align:"center",children:r.bronze||0}),e.jsx(s,{align:"center",children:(r.gold||0)+(r.silver||0)+(r.bronze||0)})]},r.fed))})]})})]})},Q=()=>{const[t]=b(),{getYearUrl:x,navigateBack:i,navigateToYear:c}=m(),{t:n}=p(),o=parseInt(t.get("id")||"")||k,[a,r]=g.useState(o);return g.useEffect(()=>{o!=a&&c(a,!0)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(z,{title:`${a} - ${n("medals_table")}`,description:n("year_description",{year:a}),url:x(a,!1)}),e.jsxs(d,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(v,{position:"static",color:"default",children:e.jsxs(w,{children:[e.jsx(S,{title:"Back",children:e.jsx(B,{edge:"start",color:"inherit",onClick:()=>i(),"aria-label":"back",children:e.jsx(E,{})})}),e.jsx(y,{variant:"h6",component:"h1",children:`${a} ${n("medals_table")}`})]})}),e.jsx(d,{display:"flex",flexGrow:1,overflow:"auto",padding:{xs:2,md:2},children:e.jsx(Y,{direction:"horizontal",initialSlide:h.indexOf(a),loop:!0,spaceBetween:10,slidesPerView:1,style:{width:"100%",height:"100%"},pagination:{clickable:!1},keyboard:{enabled:!0},onSlideChange:l=>{r(h[l.realIndex])},virtual:{enabled:!0},modules:[I,P,A],children:h.map(l=>e.jsx(C,{"aria-hidden":a!==l,children:e.jsx(d,{display:"flex",flexDirection:"column",sx:{overflow:"hidden",height:"100%"},children:e.jsx(K,{id:l})})},l))})})]})]})};export{Q as default};
