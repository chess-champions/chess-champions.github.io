import{n as p,j as e,B as s,T as l,v as _,H as w,E as j,r as L,q as S,L as B}from"./index-DpWzXCBu.js";import{i as D,S as P,C as T}from"./ChessDataService-CLP9N5gi.js";import{R as k,H as E}from"./RouterLink-DyItezfD.js";import{u}from"./useNavigationService-BgDB8-Hy.js";import{L as F}from"./Link-CPf3XjjK.js";const R=({data:n})=>{const{getFederationUrl:t}=u(),{t:x}=p();return e.jsxs(s,{display:"grid",children:[(n==null?void 0:n.id)&&n.id>0&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(l,{variant:"body1",children:[x("fide"),":"]})}),e.jsx(s,{flexBasis:"50%",children:e.jsx(F,{href:`https://ratings.fide.com/profile/${n.id}`,variant:"body1",target:"_blank",rel:"noopener",children:n.id})})]}),(n==null?void 0:n.fed)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(l,{variant:"body1",children:[x("federation"),":"]})}),e.jsx(s,{flexBasis:"50%",children:e.jsx(k,{to:t(n.fed),children:x(`federation_enum_short.${n.fed}`)})})]}),(n==null?void 0:n.yob)&&e.jsxs(s,{display:"flex",children:[e.jsx(s,{flexBasis:"50%",children:e.jsxs(l,{variant:"body1",children:[x("year_of_birth"),":"]})}),e.jsxs(s,{display:"flex",flexBasis:"50%",gap:1,children:[e.jsx(l,{variant:"body1",children:n.yob}),e.jsx(l,{variant:"body1",color:"textSecondary",children:`(${new Date().getFullYear()-n.yob} ${x("years")})`})]})]})]})},I=()=>{const[n]=_(),{getTournamentUrl:t,getPlayerUrl:x}=u(),{t:a,i18n:h}=p(),c=parseInt(n.get("id")??"")||null;if(!c)return e.jsxs(e.Fragment,{children:[e.jsx(w,{children:e.jsx("meta",{name:"robots",content:"noindex"})}),e.jsx(j,{message:"Player id is missing."})]});const{data:r,isLoading:b,error:y}=D({queryKey:["players",{id:c}],queryFn:async()=>await T.getPlayer(c)}),g=L.useMemo(()=>(h.resolvedLanguage==="uk"?r==null?void 0:r.name_uk:r==null?void 0:r.name_en)||(r==null?void 0:r.name_uk)||(r==null?void 0:r.name_en)||"",[r,h.resolvedLanguage]);if(y)return e.jsx(j,{message:y.message});if(b)return e.jsx(S,{});const v=(o,i,d,$)=>{const f=a(`game_enum_short.${d}`),m=a(`gender_category.${$}.${i}`);return m?`${o} ${f} - ${m}`:`${o} ${f}`};return e.jsxs(e.Fragment,{children:[e.jsx(P,{title:g,description:a("player_description"),url:x(c,!1)}),e.jsxs(s,{display:"flex",flexDirection:"column",height:"100vh",children:[e.jsx(E,{title:g}),e.jsx(s,{overflow:"auto",padding:{xs:2,md:2},children:e.jsxs(s,{display:"flex",flexDirection:"column",gap:{xs:1,md:2},children:[e.jsx(R,{data:r}),[...new Set(r==null?void 0:r.results.map(o=>o.rank))].map(o=>e.jsxs(s,{display:"flex",padding:2,gap:1,border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(63, 81, 181, 0.3)",bgcolor:o<=3?"white":"",children:[e.jsx(s,{flexGrow:"auto",children:e.jsxs(l,{variant:"body1",children:[o,"."]})}),e.jsx(s,{flex:1,children:r==null?void 0:r.results.filter(i=>i.rank===o).map((i,d)=>e.jsx(B,{to:t(i.year,i.category,i.game,i.gender),style:{textDecoration:"none",color:"inherit"},children:e.jsxs(s,{display:"flex",flexDirection:"row",sx:{"&:hover":{backgroundColor:"#f9f9f9"},borderRadius:"4px"},children:[e.jsx(s,{flexGrow:1,children:e.jsx(l,{variant:"body1",sx:{"&:hover":{textDecoration:"underline"}},children:v(i.year,i.category,i.game,i.gender)})}),e.jsx(s,{children:e.jsx(l,{variant:"body2",color:"textSecondary",children:`${r.yob?` ${i.year-r.yob} ${a("years")}`:""}`})})]})},d))})]},o))]})})]})]})};export{I as default};
